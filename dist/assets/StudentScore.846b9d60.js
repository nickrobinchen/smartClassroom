import{u as v}from"./useECharts.f2181bf2.js";import{N as E,a as b,Q as c,o as x,j as S,z as s,v as g,bE as m,a2 as w,n as o,i as y,B as C,aD as B}from"./index.c77972c6.js";const k=b({props:{width:{type:String,default:"100%"},height:{type:String,default:"calc(100vh - 78px)"}},setup(){let t=null,n=-1;const u=g();m.post({url:"/lecture/list",params:null}).then(e=>{u.value=[],e.forEach(l=>{u.value.push({label:l.name+"("+l.klass+")",value:l.id})})});const h=(e,l)=>{n=e,m.get({url:"/score/list",params:{lecture_id:n}}).then(i=>{let a=[0,0,0,0,0];i.forEach(d=>{if(d.score!=null){const p=parseInt(d.score);p<60?a[0]++:p<70?a[1]++:p<80?a[2]++:p<90?a[3]++:a[4]++}}),t({width:600,height:400,xAxis:{data:["\u4F4E\u4E8E60","60~69","70~79","80~89","90~100"],axisLine:{lineStyle:{}}},yAxis:{axisLine:{lineStyle:{}}},series:[{name:"bar",type:"bar",barWidth:70,itemStyle:{borderRadius:5},data:a}]})}).catch(i=>{})},_=e=>{},f=e=>{},r=g(null);return w(()=>{const{setOptions:e,echarts:l}=v(r);t=e,e({width:600,height:400,xAxis:{data:["\u4F4E\u4E8E60","60~69","70~79","80~89","90~100"],axisLine:{lineStyle:{}}},yAxis:{axisLine:{lineStyle:{}}},series:[{name:"bar",type:"bar",barWidth:70,itemStyle:{borderRadius:5},data:[0,4,10,22,14]}]})}),{chartRef:r,handleButtonClick:_,handleMenuClick:f,handleChange:h,options:u}}}),A={class:"dropdown-wrap"};function F(t,n,u,h,_,f){const r=c("a-space"),e=c("a-select"),l=c("a-card"),i=c("a-col"),a=c("a-row");return x(),S(a,null,{default:s(()=>[o(i,{xl:"10",lg:24},{default:s(()=>[o(l,{title:"\u5B66\u751F\u6210\u7EE9\u5206\u6790 - ECharts"},{default:s(()=>[y("div",A,[o(r,null,{default:s(()=>[C("\u8BF7\u9009\u62E9\u8BFE\u7A0B:")]),_:1}),o(r,null,{default:s(()=>[o(e,{ref:"select",value:t.label,"onUpdate:value":n[0]||(n[0]=d=>t.label=d),style:{width:"240px"},options:t.options,defaultOpen:!0,onChange:t.handleChange},null,8,["value","options","onChange"])]),_:1})])]),_:1})]),_:1}),o(i,{xl:"10",lg:24},{default:s(()=>[y("div",{ref:"chartRef",style:B({height:t.height,width:t.width})},null,4)]),_:1})]),_:1})}var R=E(k,[["render",F],["__scopeId","data-v-39d31a98"]]);export{R as default};
