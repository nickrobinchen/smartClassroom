var G=Object.defineProperty,H=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var L=(e,t,a)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,u=(e,t)=>{for(var a in t||(t={}))O.call(t,a)&&L(e,a,t[a]);if(P)for(var a of P(t))T.call(t,a)&&L(e,a,t[a]);return e},M=(e,t)=>H(e,K(t));var _=(e,t)=>{var a={};for(var s in e)O.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&P)for(var s of P(e))t.indexOf(s)<0&&T.call(e,s)&&(a[s]=e[s]);return a};var q=(e,t,a)=>new Promise((s,C)=>{var g=m=>{try{p(a.next(m))}catch(d){C(d)}},y=m=>{try{p(a.throw(m))}catch(d){C(d)}},p=m=>m.done?s(m.value):Promise.resolve(m.value).then(g,y);p((a=a.apply(e,t)).next())});import{a as R}from"./formItemConfig.b9a796dd.js";import{N as U,a as Y,aB as x,al as ee,dX as oe,E as te,J as ae,w as ne,f as I,k as N,dZ as se,bw as le,ar as me,Q as b,o as v,j as D,z as f,n as A,W as S,X as E,T as W,V as re,S as X,B as ie,t as B,l as V,i as $,a3 as ce,h as pe}from"./index.c77972c6.js";import{h as J}from"./index.d9dd42f6.js";/* empty css               *//* empty css               */import{a as de}from"./useFormDesignState.7423a27b.js";import"./componentMap.e56f5f78.js";/* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                */import"./useFormItem.0ca96f1f.js";import"./RadioButtonGroup.29ec0324.js";/* empty css                *//* empty css                */import"./index.52c66243.js";import"./useWindowSizeFn.3455cf29.js";import"./FullscreenOutlined.dcdca408.js";/* empty css                *//* empty css                *//* empty css                *//* empty css                */import"./uuid.2b29000c.js";import"./download.8a8ffec6.js";import"./base64Conver.08b9f4ec.js";import"./index.90918534.js";import"./index.c85ba8d6.js";const he=Y({name:"VFormItem",components:{Tooltip:x,Icon:ee,FormItem:oe,Divider:te,Col:ae},props:{formData:{type:Object,default:()=>({})},schema:{type:Object,required:!0},formConfig:{type:Object,required:!0}},emits:["update:form-data","change"],setup(e,{emit:t}){const a=ne({componentMap:R}),{formModel:s,setFormModel:C}=de(),g=I(()=>{const{colProps:o={}}=e.schema;return o}),y=I(()=>{var j,z;const{formConfig:o}=N(e);let{field:l,required:n,rules:h,labelCol:i,wrapperCol:c}=N(e.schema);const{colon:Q}=e.formConfig,{itemProps:r}=N(e.schema);i=i||(o.layout==="horizontal"?o.labelLayout==="flex"?{style:`width:${o.labelWidth}px`}:o.labelCol:{}),c=c||(o.layout==="horizontal"?o.labelLayout==="flex"?{style:"width:auto;flex:1"}:o.wrapperCol:{});const Z=o.layout==="horizontal"&&o.labelLayout==="flex"?{display:"flex"}:{},w=Object.assign({},{name:l,style:u({},Z),colon:Q,required:n,rules:h,labelCol:i,wrapperCol:c},r);return(j=r==null?void 0:r.labelCol)!=null&&j.span||(w.labelCol=i),(z=r==null?void 0:r.wrapperCol)!=null&&z.span||(w.wrapperCol=c),r!=null&&r.rules||(w.rules=h),w}),p=I(()=>R.get(e.schema.component)),m=o=>{var l,n;o.component==="Button"&&((l=o.componentProps)==null?void 0:l.handle)&&t((n=o.componentProps)==null?void 0:n.handle)},d=se(()=>q(this,null,function*(){var n;let{options:o,treeData:l}=(n=e.schema.componentProps)!=null?n:{};return o&&(o=yield J(o)),l&&(l=yield J(l)),{options:o,treeData:l}})),F=I(()=>{var i;const o=e.schema&&["Switch","Checkbox","Radio"].includes(e.schema.component);let{field:l}=e.schema,c=(i=le(e.schema.componentProps,["options","treeData"]))!=null?i:{},{disabled:n}=c,h=_(c,["disabled"]);return n=e.formConfig.disabled||n,M(u({},h),{disabled:n,[o?"checked":"value"]:s.value[l]})}),k=function(o){const l=["Switch","Checkbox","Radio"].includes(e.schema.component),n=o?o.target:null,h=n?l?n.checked:n.value:o;C(e.schema.field,h),t("change",h)};return M(u({},me(a)),{componentItem:p,formItemProps:y,handleClick:m,asyncProps:d,cmpProps:F,handleChange:k,colPropsComputed:g})}}),ue={key:2};function fe(e,t,a,s,C,g){const y=b("Icon"),p=b("Tooltip"),m=b("Divider"),d=b("FormItem"),F=b("Col");return v(),D(F,S(E(e.colPropsComputed)),{default:f(()=>[A(d,S(E(u({},e.formItemProps))),W({default:f(()=>{var k;return[e.schema.componentProps&&((k=e.schema.componentProps)==null?void 0:k.slotName)?re(e.$slots,e.schema.componentProps.slotName,S(X({key:0},e.schema)),void 0,!0):e.schema.component=="Divider"&&e.schema.label&&!e.formItemProps.hiddenLabel?(v(),D(m,{key:1},{default:f(()=>[ie(B(e.schema.label),1)]),_:1})):V("",!0),$("div",null,[(v(),D(ce(e.componentItem),X({class:"v-form-item-wrapper"},u(u({},e.cmpProps),e.asyncProps),{schema:e.schema,style:e.schema.width?{width:e.schema.width}:{},onChange:e.handleChange,onClick:t[0]||(t[0]=o=>e.handleClick(e.schema))}),null,16,["schema","style","onChange"]))]),["Button"].includes(e.schema.component)?(v(),pe("span",ue,B(e.schema.label),1)):V("",!0)]}),_:2},[!e.formItemProps.hiddenLabel&&e.schema.component!=="Divider"?{name:"label",fn:f(()=>[A(p,null,W({default:f(()=>[$("span",null,B(e.schema.label),1),e.schema.helpMessage?(v(),D(y,{key:0,class:"ml-5",icon:"ant-design:question-circle-outlined"})):V("",!0)]),_:2},[e.schema.helpMessage?{name:"title",fn:f(()=>[$("span",null,B(e.schema.helpMessage),1)]),key:"0"}:void 0]),1024)]),key:"0"}:void 0]),1040)]),_:3},16)}var Ze=U(he,[["render",fe],["__scopeId","data-v-a8d8a2d6"]]);export{Ze as default};
