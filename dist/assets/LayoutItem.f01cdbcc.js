var P=Object.defineProperty,L=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var v=(e,o,t)=>o in e?P(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,C=(e,o)=>{for(var t in o||(o={}))H.call(o,t)&&v(e,t,o[t]);if(f)for(var t of f(o))O.call(o,t)&&v(e,t,o[t]);return e},$=(e,o)=>L(e,R(o));import{N as V,a as z,R as A,J as D,w as j,f as d,ar as q,Q as n,o as m,j as u,z as s,h as k,q as B,aC as U,n as i,S as I,H as M,U as E,W as G,X as J}from"./index.c77972c6.js";import{d as Q}from"./vuedraggable.umd.058bdf22.js";import T from"./FormNode.33fd10f1.js";import W from"./FormNodeOperate.ba29a69c.js";import{u as X}from"./useFormDesignState.7423a27b.js";/* empty css               */import"./index.96f0b120.js";import"./formItemConfig.b9a796dd.js";import"./componentMap.e56f5f78.js";/* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css               */import"./useFormItem.0ca96f1f.js";import"./RadioButtonGroup.29ec0324.js";/* empty css                *//* empty css                */import"./index.52c66243.js";import"./useWindowSizeFn.3455cf29.js";import"./FullscreenOutlined.dcdca408.js";/* empty css                *//* empty css                *//* empty css                *//* empty css                */import"./uuid.2b29000c.js";import"./download.8a8ffec6.js";import"./base64Conver.08b9f4ec.js";import"./index.90918534.js";import"./index.c85ba8d6.js";import"./index.d9dd42f6.js";const _=z({name:"LayoutItem",components:{FormNode:T,FormNodeOperate:W,draggable:Q,Row:A,Col:D},props:{schema:{type:Object,required:!0},currentItem:{type:Object,required:!0}},emits:["dragStart","handleColAdd","handle-copy","handle-delete"],setup(e){const{formDesignMethods:{handleSetSelectItem:o},formConfig:t}=X(),c=j({}),g=d(()=>{const{colProps:p={}}=e.schema;return p}),h=d(()=>e.schema.columns),l=d(()=>t.value.layout==="horizontal"?"Col":"div");return $(C({},q(c)),{colPropsComputed:g,handleSetSelectItem:o,layoutTag:l,list1:h})}});function K(e,o,t,c,g,h){const l=n("LayoutItem",!0),p=n("draggable"),y=n("Col"),S=n("Row"),b=n("FormNodeOperate"),F=n("FormNode");return m(),u(y,G(J(e.colPropsComputed)),{default:s(()=>[["Grid"].includes(e.schema.component)?(m(),k("div",{key:0,class:B(["grid-box",{active:e.schema.key===e.currentItem.key}]),onClick:o[2]||(o[2]=U(r=>e.handleSetSelectItem(e.schema),["stop"]))},[i(S,I({class:"grid-row"},e.schema.componentProps),{default:s(()=>[(m(!0),k(M,null,E(e.schema.columns,(r,N)=>(m(),u(y,{class:"grid-col",key:N,span:r.span},{default:s(()=>[i(p,I({class:"list-main draggable-box","component-data":{name:"list",tag:"div",type:"transition-group"}},{group:"form-draggable",ghostClass:"moving",animation:180,handle:".drag-move"},{"item-key":"key",modelValue:r.children,"onUpdate:modelValue":a=>r.children=a,onStart:a=>e.$emit("dragStart",a,r.children),onAdd:a=>e.$emit("handleColAdd",a,r.children)}),{item:s(({element:a})=>[i(l,{class:"drag-move",schema:a,"current-item":e.currentItem,onHandleCopy:o[0]||(o[0]=w=>e.$emit("handle-copy")),onHandleDelete:o[1]||(o[1]=w=>e.$emit("handle-delete"))},null,8,["schema","current-item"])]),_:2},1040,["modelValue","onUpdate:modelValue","onStart","onAdd"])]),_:2},1032,["span"]))),128))]),_:1},16),i(b,{schema:e.schema,currentItem:e.currentItem},null,8,["schema","currentItem"])],2)):(m(),u(F,{key:e.schema.key,schema:e.schema,"current-item":e.currentItem,onHandleCopy:o[3]||(o[3]=r=>e.$emit("handle-copy")),onHandleDelete:o[4]||(o[4]=r=>e.$emit("handle-delete"))},null,8,["schema","current-item"]))]),_:1},16)}var Oe=V(_,[["render",K]]);export{Oe as default};
