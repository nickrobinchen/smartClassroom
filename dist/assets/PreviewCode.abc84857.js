var J=Object.defineProperty,x=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var f=(e,o,t)=>o in e?J(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,_=(e,o)=>{for(var t in o||(o={}))k.call(o,t)&&f(e,t,o[t]);if(p)for(var t of p(o))w.call(o,t)&&f(e,t,o[t]);return e},m=(e,o)=>x(e,F(o));import{C as g,M as A}from"./index.38dc1bc1.js";import{N as B,a as D,w as M,dT as N,ar as $,Q as v,o as R,h as O,i as C,n as c,z as E,B as y,k as P,K as S}from"./index.c77972c6.js";import"./useWindowSizeFn.3455cf29.js";const T=D({name:"PreviewCode",components:{CodeEditor:g},props:{fileFormat:{type:String,default:"json"},editorJson:{type:String,default:""}},setup(e){const o=M({visible:!1}),t=(s,b=`file.${e.fileFormat}`)=>{let l="data:text/csv;charset=utf-8,";l+=s;const h=encodeURI(l),r=document.createElement("a");r.setAttribute("href",h),r.setAttribute("download",b),r.click()},d=()=>{t(e.editorJson)},{clipboardRef:i,copiedRef:u}=N(),{createMessage:a}=S(),n=()=>{const s=e.editorJson;if(!s){a.warning("\u4EE3\u7801\u4E3A\u7A7A\uFF01");return}i.value=s,P(u)&&a.warning("\u590D\u5236\u6210\u529F\uFF01")};return m(_({},$(o)),{exportData:t,handleCopyJson:n,handleExportJson:d,MODE:A})}}),V={class:"v-json-box"},j={class:"copy-btn-box"};function I(e,o,t,d,i,u){const a=v("CodeEditor"),n=v("a-button");return R(),O("div",null,[C("div",V,[c(a,{value:e.editorJson,ref:"myEditor",mode:e.MODE.JSON},null,8,["value","mode"])]),C("div",j,[c(n,{onClick:e.handleCopyJson,type:"primary",class:"copy-btn","data-clipboard-action":"copy","data-clipboard-text":e.editorJson},{default:E(()=>[y(" \u590D\u5236\u6570\u636E ")]),_:1},8,["onClick","data-clipboard-text"]),c(n,{onClick:e.handleExportJson,type:"primary"},{default:E(()=>[y("\u5BFC\u51FA\u4EE3\u7801")]),_:1},8,["onClick"])])])}var q=B(T,[["render",I],["__scopeId","data-v-c7ac4cc2"]]);export{q as default};
