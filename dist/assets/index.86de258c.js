var IC=Object.defineProperty,BC=Object.defineProperties;var _C=Object.getOwnPropertyDescriptors;var Tm=Object.getOwnPropertySymbols;var LC=Object.prototype.hasOwnProperty,zC=Object.prototype.propertyIsEnumerable;var Mm=(g,v,u)=>v in g?IC(g,v,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[v]=u,od=(g,v)=>{for(var u in v||(v={}))LC.call(v,u)&&Mm(g,u,v[u]);if(Tm)for(var u of Tm(v))zC.call(v,u)&&Mm(g,u,v[u]);return g},wm=(g,v)=>BC(g,_C(v));var ks=(g,v,u)=>new Promise((c,i)=>{var s=b=>{try{y(u.next(b))}catch(x){i(x)}},f=b=>{try{y(u.throw(b))}catch(x){i(x)}},y=b=>b.done?c(b.value):Promise.resolve(b.value).then(s,f);y((u=u.apply(g,v)).next())});import{ay as FC,aG as GC,a as rb,al as HC,E as UC,aB as kC,v as Xs,M as XC,k as lr,az as id,bj as $C,N as cd,Q as kn,o as Hn,h as ji,H as Nm,U as YC,n as Bi,z as Ks,B as WC,t as KC,q as $s,l as ad,S as VC,j as dd,dP as ZC,b as JC,aY as QC,f as qC,$ as Dm,a2 as eR,i as tR,Y as rR}from"./index.c77972c6.js";/* empty css               */import{B as nR,u as oR}from"./index.52c66243.js";import{J as iR}from"./index.38dc1bc1.js";import{P as aR}from"./index.36f96364.js";import"./useWindowSizeFn.3455cf29.js";import"./FullscreenOutlined.dcdca408.js";/* empty css               *//* empty css                */import"./useContentViewHeight.06cda917.js";const nb=Symbol("flow-chart");function uR(g){FC(nb,g)}function sR(){return GC(nb)}var Vt=(g=>(g.ZOOM_IN="zoomIn",g.ZOOM_OUT="zoomOut",g.RESET_ZOOM="resetZoom",g.UNDO="undo",g.REDO="redo",g.SNAPSHOT="snapshot",g.VIEW_DATA="viewData",g))(Vt||{});const lR=rb({name:"FlowChartToolbar",components:{Icon:HC,Divider:UC,Tooltip:kC},props:{prefixCls:String},emits:["view-data"],setup(g,{emit:v}){const u=Xs([{type:Vt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Vt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Vt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Vt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Vt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Vt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Vt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:c}=sR();function i({data:{undoAble:f,redoAble:y}}){const b=lr(u),x=b.findIndex(P=>P.type===Vt.UNDO),E=b.findIndex(P=>P.type===Vt.REDO);x!==-1&&(lr(u)[x].disabled=!f),E!==-1&&(lr(u)[E].disabled=!y)}const s=f=>{const y=lr(c);if(!!y)switch(f.type){case Vt.ZOOM_IN:y.zoom();break;case Vt.ZOOM_OUT:y.zoom(!0);break;case Vt.RESET_ZOOM:y.resetZoom();break;case Vt.UNDO:y.undo();break;case Vt.REDO:y.redo();break;case Vt.SNAPSHOT:y.getSnapshot();break;case Vt.VIEW_DATA:v("view-data");break}};return XC(()=>ks(this,null,function*(){var f;lr(c)&&(yield id(),(f=lr(c))==null||f.on("history:change",i))})),$C(()=>{var f;(f=lr(c))==null||f.off("history:change",i)}),{toolbarItemList:u,onControl:s}}}),fR=["onClick"];function cR(g,v,u,c,i,s){const f=kn("Icon"),y=kn("Tooltip"),b=kn("Divider");return Hn(),ji("div",{class:$s([`${g.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Hn(!0),ji(Nm,null,YC(g.toolbarItemList,x=>(Hn(),ji(Nm,{key:x.type},[Bi(y,VC({placement:"bottom"},x.disabled?{visible:!1}:{}),{title:Ks(()=>[WC(KC(x.tooltip),1)]),default:Ks(()=>[x.icon?(Hn(),ji("span",{key:0,class:$s(`${g.prefixCls}-toolbar__icon`),onClick:E=>g.onControl(x)},[Bi(f,{icon:x.icon,class:$s(x.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,fR)):ad("",!0)]),_:2},1040),x.separate?(Hn(),dd(b,{key:0,type:"vertical"})):ad("",!0)],64))),128))],2)}var dR=cd(lR,[["render",cR]]),We={exports:{}};(function(g,v){(function(c,i){g.exports=i()})(window,function(){return function(u){var c={};function i(s){if(c[s])return c[s].exports;var f=c[s]={i:s,l:!1,exports:{}};return u[s].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=u,i.c=c,i.d=function(s,f,y){i.o(s,f)||Object.defineProperty(s,f,{enumerable:!0,get:y})},i.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,f){if(f&1&&(s=i(s)),f&8||f&4&&typeof s=="object"&&s&&s.__esModule)return s;var y=Object.create(null);if(i.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:s}),f&2&&typeof s!="string")for(var b in s)i.d(y,b,function(x){return s[x]}.bind(null,b));return y},i.n=function(s){var f=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(f,"a",f),f},i.o=function(s,f){return Object.prototype.hasOwnProperty.call(s,f)},i.p="",i(i.s=215)}([function(u,c,i){(function(s,f){i.d(c,"a",function(){return R}),i.d(c,"b",function(){return oi}),i.d(c,"c",function(){return ln}),i.d(c,"d",function(){return fr}),i.d(c,"e",function(){return Xe}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return zi}),i.d(c,"h",function(){return Jn}),i.d(c,"i",function(){return ot}),i.d(c,"j",function(){return Pr}),i.d(c,"k",function(){return $r}),i.d(c,"l",function(){return jr}),i.d(c,"m",function(){return Sr}),i.d(c,"n",function(){return ml}),i.d(c,"o",function(){return ce}),i.d(c,"p",function(){return Pl}),i.d(c,"q",function(){return ni}),i.d(c,"r",function(){return Ol}),i.d(c,"s",function(){return wr}),i.d(c,"t",function(){return Ji}),i.d(c,"u",function(){return hl}),i.d(c,"v",function(){return El}),i.d(c,"w",function(){return xl}),i.d(c,"x",function(){return xn}),i.d(c,"y",function(){return Rr}),i.d(c,"z",function(){return kt}),i.d(c,"A",function(){return gr}),i.d(c,"B",function(){return Sn}),i.d(c,"C",function(){return mt}),i.d(c,"D",function(){return Al}),i.d(c,"E",function(){return ri}),i.d(c,"F",function(){return yl}),i.d(c,"G",function(){return pl}),i.d(c,"H",function(){return Yi}),i.d(c,"I",function(){return wl}),i.d(c,"J",function(){return Ar}),i.d(c,"K",function(){return te}),i.d(c,"L",function(){return Sl}),i.d(c,"M",function(){return An});var y="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var x={};Object.freeze(x);function E(){return++He.mobxGuid}function P(d){throw M(!1,d),"X"}function M(d,h){if(!d)throw new Error("[mobx] "+(h||y))}function A(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var D=function(){};function C(d){var h=[];return d.forEach(function(O){h.indexOf(O)===-1&&h.push(O)}),h}function B(d){return d!==null&&typeof d=="object"}function z(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function X(d){if(J(d)||kt(d))return d;if(Array.isArray(d))return new Map(d);if(z(d)){var h=new Map;for(var O in d)h.set(O,d[O]);return h}else return P("Cannot convert to map from '"+d+"'")}function $(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:O})}function ie(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:O})}function oe(d,h){var O=Object.getOwnPropertyDescriptor(d,h);return!O||O.configurable!==!1&&O.writable!==!1}function ee(d,h){var O="isMobX"+d;return h.prototype[O]=!0,function(N){return B(N)&&N[O]===!0}}function J(d){return d instanceof Map}function ue(d){return d instanceof Set}function L(d){var h=new Set;for(var O in d)h.add(O);return Object.getOwnPropertySymbols(d).forEach(function(N){Object.getOwnPropertyDescriptor(d,N).enumerable&&h.add(N)}),Array.from(h)}function U(d){return d&&d.toString?d.toString():new String(d).toString()}function I(d){return d===null?null:typeof d=="object"?""+d:d}var w=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,R=Symbol("mobx administration"),W=function(){function d(h){h===void 0&&(h="Atom@"+E()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=qe.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return Ui(this)},d.prototype.reportChanged=function(){At(),il(this),vr()},d.prototype.toString=function(){return this.name},d}(),Q=ee("Atom",W);function ce(d,h,O){h===void 0&&(h=D),O===void 0&&(O=D);var N=new W(d);return h!==D&&gl(N,h),O!==D&&ri(N,O),N}function Te(d,h){return d===h}function me(d,h){return Eo(d,h)}function Oe(d,h){return Eo(d,h,1)}function Pe(d,h){return Object.is(d,h)}var Ee={identity:Te,structural:me,default:Pe,shallow:Oe};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ne=function(d,h){return Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,N){O.__proto__=N}||function(O,N){for(var F in N)N.hasOwnProperty(F)&&(O[F]=N[F])},Ne(d,h)};function Le(d,h){Ne(d,h);function O(){this.constructor=d}d.prototype=h===null?Object.create(h):(O.prototype=h.prototype,new O)}var Ve=function(){return Ve=Object.assign||function(h){for(var O,N=1,F=arguments.length;N<F;N++){O=arguments[N];for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&(h[K]=O[K])}return h},Ve.apply(this,arguments)};function Be(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],O=0;return h?h.call(d):{next:function(){return d&&O>=d.length&&(d=void 0),{value:d&&d[O++],done:!d}}}}function Se(d,h){var O=typeof Symbol=="function"&&d[Symbol.iterator];if(!O)return d;var N=O.call(d),F,K=[],fe;try{for(;(h===void 0||h-- >0)&&!(F=N.next()).done;)K.push(F.value)}catch(Ae){fe={error:Ae}}finally{try{F&&!F.done&&(O=N.return)&&O.call(N)}finally{if(fe)throw fe.error}}return K}function Ie(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Se(arguments[h]));return d}var ke=Symbol("mobx did run lazy initializers"),k=Symbol("mobx pending decorators"),Y={},q={};function he(d,h){var O=h?Y:q;return O[d]||(O[d]={configurable:!0,enumerable:h,get:function(){return xe(this),this[d]},set:function(N){xe(this),this[d]=N}})}function xe(d){var h,O;if(d[ke]!==!0){var N=d[k];if(N){$(d,ke,!0);var F=Ie(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var K=Be(F),fe=K.next();!fe.done;fe=K.next()){var Ae=fe.value,Ue=N[Ae];Ue.propertyCreator(d,Ue.prop,Ue.descriptor,Ue.decoratorTarget,Ue.decoratorArguments)}}catch(ft){h={error:ft}}finally{try{fe&&!fe.done&&(O=K.return)&&O.call(K)}finally{if(h)throw h.error}}}}}function pe(d,h){return function(){var N,F=function(fe,Ae,Ue,ft){if(ft===!0)return h(fe,Ae,Ue,fe,N),null;if(!Object.prototype.hasOwnProperty.call(fe,k)){var ct=fe[k];$(fe,k,Ve({},ct))}return fe[k][Ae]={prop:Ae,propertyCreator:h,descriptor:Ue,decoratorTarget:fe,decoratorArguments:N},he(Ae,d)};return ze(arguments)?(N=b,F.apply(null,arguments)):(N=Array.prototype.slice.call(arguments),F)}}function ze(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function tt(d,h,O){return xn(d)?d:Array.isArray(d)?mt.array(d,{name:O}):z(d)?mt.object(d,void 0,{name:O}):J(d)?mt.map(d,{name:O}):ue(d)?mt.set(d,{name:O}):d}function Ye(d,h,O){return d==null||gr(d)||Rr(d)||kt(d)||cr(d)?d:Array.isArray(d)?mt.array(d,{name:O,deep:!1}):z(d)?mt.object(d,void 0,{name:O,deep:!1}):J(d)?mt.map(d,{name:O,deep:!1}):ue(d)?mt.set(d,{name:O,deep:!1}):P(!1)}function nt(d){return d}function ve(d,h,O){return Eo(d,h)?h:d}function ut(d){M(d);var h=pe(!0,function(N,F,K,fe,Ae){var Ue=K?K.initializer?K.initializer.call(N):K.value:void 0;ii(N).addObservableProp(F,Ue,d)}),O=(typeof s!="undefined"&&s.env,h);return O.enhancer=d,O}var rt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(rt);function _e(d){return d==null?rt:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var Qe=ut(tt),wt=ut(Ye),dt=ut(nt),bt=ut(ve);function ne(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?nt:tt}function Ct(d,h,O){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Qe.apply(null,arguments);if(xn(d))return d;var N=z(d)?mt.object(d,h,O):Array.isArray(d)?mt.array(d,h):J(d)?mt.map(d,h):ue(d)?mt.set(d,h):d;if(N!==d)return N;P(!1)}var St={box:function(d,h){arguments.length>2&&Yt("box");var O=_e(h);return new sn(d,ne(O),O.name,!0,O.equals)},array:function(d,h){arguments.length>2&&Yt("array");var O=_e(h);return Il(d,ne(O),O.name)},map:function(d,h){arguments.length>2&&Yt("map");var O=_e(h);return new oi(d,ne(O),O.name)},set:function(d,h){arguments.length>2&&Yt("set");var O=_e(h);return new ua(d,ne(O),O.name)},object:function(d,h,O){typeof arguments[1]=="string"&&Yt("object");var N=_e(O);if(N.proxy===!1)return ni({},d,h,N);var F=Vi(N),K=ni({},void 0,void 0,N),fe=Mn(K);return Zi(fe,d,h,F),fe},ref:dt,shallow:wt,deep:Qe,struct:bt},mt=Ct;Object.keys(St).forEach(function(d){return mt[d]=St[d]});function Yt(d){P("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var hr=pe(!1,function(d,h,O,N,F){var K=O.get,fe=O.set,Ae=F[0]||{};ii(d).addComputedProp(d,h,Ve({get:K,set:fe,context:d},Ae))}),Zt=hr({equals:Ee.structural}),Sr=function(h,O,N){if(typeof O=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return hr.apply(null,arguments);var F=typeof O=="object"?O:{};return F.get=h,F.set=typeof O=="function"?O:F.set,F.name=F.name||h.name||"",new mn(F)};Sr.struct=Zt;var qe;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(qe||(qe={}));var Pt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Pt||(Pt={}));var nr=function(){function d(h){this.cause=h}return d}();function je(d){return d instanceof nr}function $e(d){switch(d.dependenciesState){case qe.UP_TO_DATE:return!1;case qe.NOT_TRACKING:case qe.STALE:return!0;case qe.POSSIBLY_STALE:{for(var h=De(!0),O=re(),N=d.observing,F=N.length,K=0;K<F;K++){var fe=N[K];if(bn(fe)){if(He.disableErrorBoundaries)fe.get();else try{fe.get()}catch(Ae){return Me(O),Xe(h),!0}if(d.dependenciesState===qe.STALE)return Me(O),Xe(h),!0}}return vt(d),Me(O),Xe(h),!1}}}function ot(){return He.trackingDerivation!==null}function Je(d){var h=d.observers.size>0;He.computationDepth>0&&h&&P(!1),!He.allowStateChanges&&(h||He.enforceActions==="strict")&&P(!1)}function lt(d,h,O){var N=De(!0);vt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++He.runId;var F=He.trackingDerivation;He.trackingDerivation=d;var K;if(He.disableErrorBoundaries===!0)K=h.call(O);else try{K=h.call(O)}catch(fe){K=new nr(fe)}return He.trackingDerivation=F,G(d),Xe(N),K}function G(d){for(var h=d.observing,O=d.observing=d.newObserving,N=qe.UP_TO_DATE,F=0,K=d.unboundDepsCount,fe=0;fe<K;fe++){var Ae=O[fe];Ae.diffValue===0&&(Ae.diffValue=1,F!==fe&&(O[F]=Ae),F++),Ae.dependenciesState>N&&(N=Ae.dependenciesState)}for(O.length=F,d.newObserving=null,K=h.length;K--;){var Ae=h[K];Ae.diffValue===0&&Xr(Ae,d),Ae.diffValue=0}for(;F--;){var Ae=O[F];Ae.diffValue===1&&(Ae.diffValue=0,ol(Ae,d))}N!==qe.UP_TO_DATE&&(d.dependenciesState=N,d.onBecomeStale())}function V(d){var h=d.observing;d.observing=[];for(var O=h.length;O--;)Xr(h[O],d);d.dependenciesState=qe.NOT_TRACKING}function te(d){var h=re();try{return d()}finally{Me(h)}}function re(){var d=He.trackingDerivation;return He.trackingDerivation=null,d}function Me(d){He.trackingDerivation=d}function De(d){var h=He.allowStateReads;return He.allowStateReads=d,h}function Xe(d){He.allowStateReads=d}function vt(d){if(d.dependenciesState!==qe.UP_TO_DATE){d.dependenciesState=qe.UP_TO_DATE;for(var h=d.observing,O=h.length;O--;)h[O].lowestObserverState=qe.UP_TO_DATE}}var Jt=0,Qt=1,Xn=Object.getOwnPropertyDescriptor(function(){},"name");Xn&&Xn.configurable;function kr(d,h,O){var N=function(){return Li(d,h,O||this,arguments)};return N.isMobxAction=!0,N}function Li(d,h,O,N){var F=Pr();try{return h.apply(O,N)}catch(K){throw F.error=K,K}finally{zi(F)}}function Pr(d,h,O){var N=Rt(),F=0,K=re();At();var fe=gn(!0),Ae=De(!0),Ue={prevDerivation:K,prevAllowStateChanges:fe,prevAllowStateReads:Ae,notifySpy:N,startTime:F,actionId:Qt++,parentActionId:Jt};return Jt=Ue.actionId,Ue}function zi(d){Jt!==d.actionId&&P("invalid action stack. did you forget to finish an action?"),Jt=d.parentActionId,d.error!==void 0&&(He.suppressReactionErrors=!0),$n(d.prevAllowStateChanges),Xe(d.prevAllowStateReads),vr(),Me(d.prevDerivation),d.notifySpy,He.suppressReactionErrors=!1}function fr(d,h){var O=gn(d),N;try{N=h()}finally{$n(O)}return N}function gn(d){var h=He.allowStateChanges;return He.allowStateChanges=d,h}function $n(d){He.allowStateChanges=d}var sn=function(d){Le(h,d);function h(O,N,F,K,fe){F===void 0&&(F="ObservableValue@"+E()),K===void 0&&(K=!0),fe===void 0&&(fe=Ee.default);var Ae=d.call(this,F)||this;return Ae.enhancer=N,Ae.name=F,Ae.equals=fe,Ae.hasUnreportedChange=!1,Ae.value=N(O,void 0,F),K&&Rt(),Ae}return h.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},h.prototype.set=function(O){var N=this.value;if(O=this.prepareNewValue(O),O!==He.UNCHANGED){var F=Rt();this.setNewValue(O)}},h.prototype.prepareNewValue=function(O){if(Je(this),Tr(this)){var N=Mr(this,{object:this,type:"update",newValue:O});if(!N)return He.UNCHANGED;O=N.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?He.UNCHANGED:O},h.prototype.setNewValue=function(O){var N=this.value;this.value=O,this.reportChanged(),yr(this)&&qt(this,{type:"update",object:this,newValue:O,oldValue:N})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(O){return Vn(this,O)},h.prototype.observe=function(O,N){return N&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),Zn(this,O)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return I(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(W),Yn=ee("ObservableValue",sn),mn=function(){function d(h){this.dependenciesState=qe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=qe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new nr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,M(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+E(),h.set&&(this.setter=kr(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Ee.structural:Ee.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){ul(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),He.inBatch===0&&this.observers.size===0&&!this.keepAlive?$e(this)&&(this.warnAboutUntrackedRead(),At(),this.value=this.computeValue(!1),vr()):(Ui(this),$e(this)&&this.trackAndCompute()&&al(this));var h=this.value;if(je(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(je(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){M(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else M(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,O=this.dependenciesState===qe.NOT_TRACKING,N=this.computeValue(!0),F=O||je(h)||je(N)||!this.equals(h,N);return F&&(this.value=N),F},d.prototype.computeValue=function(h){this.isComputing=!0,He.computationDepth++;var O;if(h)O=lt(this,this.derivation,this.scope);else if(He.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(N){O=new nr(N)}return He.computationDepth--,this.isComputing=!1,O},d.prototype.suspend=function(){this.keepAlive||(V(this),this.value=void 0)},d.prototype.observe=function(h,O){var N=this,F=!0,K=void 0;return jr(function(){var fe=N.get();if(!F||O){var Ae=re();h({type:"update",object:N,newValue:fe,oldValue:K}),Me(Ae)}F=!1,K=fe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return I(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),bn=ee("ComputedValue",mn),po=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),nl={};function ho(){return typeof window!="undefined"?window:typeof f!="undefined"?f:typeof self!="undefined"?self:nl}var vo=!0,Fi=!1,He=function(){var d=ho();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(vo=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new po().version&&(vo=!1),vo?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new po):(setTimeout(function(){Fi||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new po)}();function Gi(){(He.pendingReactions.length||He.inBatch||He.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Fi=!0,vo&&(--ho().__mobxInstanceCount===0&&(ho().__mobxGlobals=void 0),He=new po)}function ol(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function Xr(d,h){d.observers.delete(h),d.observers.size===0&&Hi(d)}function Hi(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,He.pendingUnobservations.push(d))}function At(){He.inBatch++}function vr(){if(--He.inBatch===0){$i();for(var d=He.pendingUnobservations,h=0;h<d.length;h++){var O=d[h];O.isPendingUnobservation=!1,O.observers.size===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof mn&&O.suspend())}He.pendingUnobservations=[]}}function Ui(d){var h=He.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&He.inBatch>0&&Hi(d),!1)}function il(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.isTracing!==Pt.NONE&&yo(h,d),h.onBecomeStale()),h.dependenciesState=qe.STALE}))}function al(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.POSSIBLY_STALE?h.dependenciesState=qe.STALE:h.dependenciesState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.UP_TO_DATE)}))}function ul(d){d.lowestObserverState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.dependenciesState=qe.POSSIBLY_STALE,h.isTracing!==Pt.NONE&&yo(h,d),h.onBecomeStale())}))}function yo(d,h){if(d.isTracing===Pt.BREAK){var O=[];ki(Ji(d),O,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof mn?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function ki(d,h,O){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(O).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(N){return ki(N,h,O+1)})}var ln=function(){function d(h,O,N,F){h===void 0&&(h="Reaction@"+E()),F===void 0&&(F=!1),this.name=h,this.onInvalidate=O,this.errorHandler=N,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=qe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,He.pendingReactions.push(this),$i())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(At(),this._isScheduled=!1,$e(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Rt()}catch(h){this.reportExceptionInDerivation(h)}}vr()}},d.prototype.track=function(h){if(!this.isDisposed){At(),this._isRunning=!0;var O=lt(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&V(this),je(O)&&this.reportExceptionInDerivation(O.cause),vr()}},d.prototype.reportExceptionInDerivation=function(h){var O=this;if(this.errorHandler){this.errorHandler(h,this);return}if(He.disableErrorBoundaries)throw h;var N="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";He.suppressReactionErrors,He.globalReactionErrorHandlers.forEach(function(F){return F(h,O)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(At(),V(this),vr()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[R]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),Nl(this,h)},d}(),Xi=100,ei=function(d){return d()};function $i(){He.inBatch>0||He.isRunningReactions||ei(sl)}function sl(){He.isRunningReactions=!0;for(var d=He.pendingReactions,h=0;d.length>0;){++h===Xi&&d.splice(0);for(var O=d.splice(0),N=0,F=O.length;N<F;N++)O[N].runReaction()}He.isRunningReactions=!1}var go=ee("Reaction",ln);function ll(d){var h=ei;ei=function(O){return d(function(){return h(O)})}}function Rt(){return!1}function gd(d){}function md(d){}function bd(d){}function Yi(d){return function(){}}function fl(){P(!1)}function Wi(d){return function(h,O,N){if(N){if(N.value)return{value:kr(d,N.value),enumerable:!1,configurable:!0,writable:!0};var F=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return kr(d,F.call(this))}}}return cl(d).apply(this,arguments)}}function cl(d){return function(h,O,N){Object.defineProperty(h,O,{configurable:!0,enumerable:!1,get:function(){},set:function(F){$(this,O,$r(d,F))}})}}function dl(d,h,O,N){return N===!0?(ti(d,h,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return ti(this,h,O.value||O.initializer.call(this)),this[h]},set:fl}:{enumerable:!1,configurable:!0,set:function(F){ti(this,h,F)},get:function(){}}}var $r=function(h,O,N,F){if(arguments.length===1&&typeof h=="function")return kr(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof O=="function")return kr(h,O);if(arguments.length===1&&typeof h=="string")return Wi(h);if(F===!0)$(h,O,kr(h.name||O,N.value,this));else return Wi(O).apply(null,arguments)};$r.bound=dl;function pl(d,h){var O=typeof d=="string"?d:d.name||"<unnamed action>",N=typeof d=="function"?d:h;return Li(O,N,this,void 0)}function hl(d){return typeof d=="function"&&d.isMobxAction===!0}function ti(d,h,O){$(d,h,kr(h,O.bind(d)))}function jr(d,h){h===void 0&&(h=x);var O=h&&h.name||d.name||"Autorun@"+E(),N=!h.scheduler&&!h.delay,F;if(N)F=new ln(O,function(){this.track(Ae)},h.onError,h.requiresObservable);else{var K=On(h),fe=!1;F=new ln(O,function(){fe||(fe=!0,K(function(){fe=!1,F.isDisposed||F.track(Ae)}))},h.onError,h.requiresObservable)}function Ae(){d(F)}return F.schedule(),F.getDisposer()}var vl=function(d){return d()};function On(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:vl}function yl(d,h,O){O===void 0&&(O=x);var N=O.name||"Reaction@"+E(),F=$r(N,O.onError?Wn(O.onError,h):h),K=!O.scheduler&&!O.delay,fe=On(O),Ae=!0,Ue=!1,ft,ct=O.compareStructural?Ee.structural:O.equals||Ee.default,Ot=new ln(N,function(){Ae||K?xt():Ue||(Ue=!0,fe(xt))},O.onError,O.requiresObservable);function xt(){if(Ue=!1,!Ot.isDisposed){var Bt=!1;Ot.track(function(){var Xt=d(Ot);Bt=Ae||!ct(ft,Xt),ft=Xt}),Ae&&O.fireImmediately&&F(ft,Ot),!Ae&&Bt===!0&&F(ft,Ot),Ae&&(Ae=!1)}}return Ot.schedule(),Ot.getDisposer()}function Wn(d,h){return function(){try{return h.apply(this,arguments)}catch(O){d.call(this,O)}}}function gl(d,h,O){return Ki("onBecomeObserved",d,h,O)}function ri(d,h,O){return Ki("onBecomeUnobserved",d,h,O)}function Ki(d,h,O,N){var F=typeof N=="function"?wr(h,O):wr(h),K=typeof N=="function"?N:O,fe=d+"Listeners";F[fe]?F[fe].add(K):F[fe]=new Set([K]);var Ae=F[d];return typeof Ae!="function"?P(!1):function(){var Ue=F[fe];Ue&&(Ue.delete(K),Ue.size===0&&delete F[fe])}}function ml(d){var h=d.enforceActions,O=d.computedRequiresReaction,N=d.computedConfigurable,F=d.disableErrorBoundaries,K=d.reactionScheduler,fe=d.reactionRequiresObservable,Ae=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&Gi(),h!==void 0){var Ue=void 0;switch(h){case!0:case"observed":Ue=!0;break;case!1:case"never":Ue=!1;break;case"strict":case"always":Ue="strict";break;default:P("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}He.enforceActions=Ue,He.allowStateChanges=!(Ue===!0||Ue==="strict")}O!==void 0&&(He.computedRequiresReaction=!!O),fe!==void 0&&(He.reactionRequiresObservable=!!fe),Ae!==void 0&&(He.observableRequiresReaction=!!Ae,He.allowStateReads=!He.observableRequiresReaction),N!==void 0&&(He.computedConfigurable=!!N),F!==void 0&&(He.disableErrorBoundaries=!!F),K&&ll(K)}function ni(d,h,O,N){N=_e(N);var F=Vi(N);return xe(d),ii(d,N.name,F.enhancer),h&&Zi(d,h,O,F),d}function Vi(d){return d.defaultDecorator||(d.deep===!1?dt:Qe)}function Zi(d,h,O,N){var F,K,fe,Ae;At();try{var Ae=w(h);try{for(var Ue=Be(Ae),ft=Ue.next();!ft.done;ft=Ue.next()){var fe=ft.value,ct=Object.getOwnPropertyDescriptor(h,fe),Ot=O&&fe in O?O[fe]:ct.get?hr:N,xt=Ot(d,fe,ct,!0);xt&&Object.defineProperty(d,fe,xt)}}catch(Xt){F={error:Xt}}finally{try{ft&&!ft.done&&(K=Ue.return)&&K.call(Ue)}finally{if(F)throw F.error}}}finally{vr()}}function Ji(d,h){return Qi(wr(d,h))}function Qi(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=C(d.observing).map(Qi)),h}var bl=0;function qi(){this.message="FLOW_CANCELLED"}qi.prototype=Object.create(Error.prototype);function Ol(d){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var O=this,N=arguments,F=++bl,K=$r(h+" - runid: "+F+" - init",d).apply(O,N),fe,Ae=void 0,Ue=new Promise(function(ft,ct){var Ot=0;fe=ct;function xt(Tt){Ae=void 0;var mr;try{mr=$r(h+" - runid: "+F+" - yield "+Ot++,K.next).call(K,Tt)}catch(wn){return ct(wn)}Xt(mr)}function Bt(Tt){Ae=void 0;var mr;try{mr=$r(h+" - runid: "+F+" - yield "+Ot++,K.throw).call(K,Tt)}catch(wn){return ct(wn)}Xt(mr)}function Xt(Tt){if(Tt&&typeof Tt.then=="function"){Tt.then(Xt,ct);return}return Tt.done?ft(Tt.value):(Ae=Promise.resolve(Tt.value),Ae.then(xt,Bt))}xt(void 0)});return Ue.cancel=$r(h+" - runid: "+F+" - cancel",function(){try{Ae&&ea(Ae);var ft=K.return(void 0),ct=Promise.resolve(ft.value);ct.then(D,D),ea(ct),fe(new qi)}catch(Ot){fe(Ot)}}),Ue}}function ea(d){typeof d.cancel=="function"&&d.cancel()}function ta(d,h){if(d==null)return!1;if(h!==void 0){if(gr(d)===!1||!d[R].values.has(h))return!1;var O=wr(d,h);return bn(O)}return bn(d)}function El(d){return arguments.length>1?P(!1):ta(d)}function xl(d,h){return typeof h!="string"?P(!1):ta(d,h)}function En(d,h){return d==null?!1:h!==void 0?gr(d)?d[R].values.has(h):!1:gr(d)||!!d[R]||Q(d)||go(d)||bn(d)}function xn(d){return arguments.length!==1&&P(!1),En(d)}function Sn(d){return gr(d)?d[R].getKeys():kt(d)||cr(d)?Array.from(d.keys()):Rr(d)?d.map(function(h,O){return O}):P(!1)}function Sl(d){return gr(d)?Sn(d).map(function(h){return d[h]}):kt(d)?Sn(d).map(function(h){return d.get(h)}):cr(d)?Array.from(d.values()):Rr(d)?d.slice():P(!1)}function Pl(d){return gr(d)?Sn(d).map(function(h){return[h,d[h]]}):kt(d)?Sn(d).map(function(h){return[h,d.get(h)]}):cr(d)?Array.from(d.entries()):Rr(d)?d.map(function(h,O){return[O,h]}):P(!1)}function ra(d,h,O){if(arguments.length===2&&!cr(d)){At();var N=h;try{for(var F in N)ra(d,F,N[F])}finally{vr()}return}if(gr(d)){var K=d[R],fe=K.values.get(h);fe?K.write(h,O):K.addObservableProp(h,O,K.defaultEnhancer)}else if(kt(d))d.set(h,O);else if(cr(d))d.add(h);else if(Rr(d))typeof h!="number"&&(h=parseInt(h,10)),M(h>=0,"Not a valid index: '"+h+"'"),At(),h>=d.length&&(d.length=h+1),d[h]=O,vr();else return P(!1)}function Al(d,h,O,N){return typeof O=="function"?Tl(d,h,O,N):mo(d,h,O)}function mo(d,h,O){return Jn(d).observe(h,O)}function Tl(d,h,O,N){return Jn(d,h).observe(O,N)}var Ml={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Pn(d,h,O,N){return N.detectCycles&&d.set(h,O),O}function Yr(d,h,O){if(!h.recurseEverything&&!xn(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(Yn(d))return Yr(d.get(),h,O);xn(d)&&Sn(d);var N=h.detectCycles===!0;if(N&&d!==null&&O.has(d))return O.get(d);if(Rr(d)||Array.isArray(d)){var F=Pn(O,d,[],h),K=d.map(function(Bt){return Yr(Bt,h,O)});F.length=K.length;for(var fe=0,Ae=K.length;fe<Ae;fe++)F[fe]=K[fe];return F}if(cr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var Ue=Pn(O,d,new Set,h);return d.forEach(function(Bt){Ue.add(Yr(Bt,h,O))}),Ue}else{var ft=Pn(O,d,[],h);return d.forEach(function(Bt){ft.push(Yr(Bt,h,O))}),ft}if(kt(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var ct=Pn(O,d,new Map,h);return d.forEach(function(Bt,Xt){ct.set(Xt,Yr(Bt,h,O))}),ct}else{var Ot=Pn(O,d,{},h);return d.forEach(function(Bt,Xt){Ot[Xt]=Yr(Bt,h,O)}),Ot}var xt=Pn(O,d,{},h);return L(d).forEach(function(Bt){xt[Bt]=Yr(d[Bt],h,O)}),xt}function wl(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=Ml),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var O;return h.detectCycles&&(O=new Map),Yr(d,h,O)}function Nl(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=!1;typeof d[d.length-1]=="boolean"&&(O=d.pop());var N=Dl(d);if(!N)return P(!1);N.isTracing,Pt.NONE,N.isTracing=O?Pt.BREAK:Pt.LOG}function Dl(d){switch(d.length){case 0:return He.trackingDerivation;case 1:return wr(d[0]);case 2:return wr(d[0],d[1])}}function Ar(d,h){h===void 0&&(h=void 0),At();try{return d.apply(h)}finally{vr()}}function An(d,h,O){return arguments.length===1||h&&typeof h=="object"?jl(d,h):Kn(d,h,O||{})}function Kn(d,h,O){var N;typeof O.timeout=="number"&&(N=setTimeout(function(){if(!K[R].isDisposed){K();var fe=new Error("WHEN_TIMEOUT");if(O.onError)O.onError(fe);else throw fe}},O.timeout)),O.name=O.name||"When@"+E();var F=kr(O.name+"-effect",h),K=jr(function(fe){d()&&(fe.dispose(),N&&clearTimeout(N),F())},O);return K}function jl(d,h){var O,N=new Promise(function(F,K){var fe=Kn(d,F,Ve(Ve({},h),{onError:K}));O=function(){fe(),K("WHEN_CANCELLED")}});return N.cancel=O,N}function bo(d){return d[R]}function Oo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var Tn={has:function(d,h){if(h===R||h==="constructor"||h===ke)return!0;var O=bo(d);return Oo(h)?O.has(h):h in d},get:function(d,h){if(h===R||h==="constructor"||h===ke)return d[h];var O=bo(d),N=O.values.get(h);if(N instanceof W){var F=N.get();return F===void 0&&O.has(h),F}return Oo(h)&&O.has(h),d[h]},set:function(d,h,O){return Oo(h)?(ra(d,h,O),!0):!1},deleteProperty:function(d,h){if(!Oo(h))return!1;var O=bo(d);return O.remove(h),!0},ownKeys:function(d){var h=bo(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return P("Dynamic observable objects cannot be frozen"),!1}};function Mn(d){var h=new Proxy(d,Tn);return d[R].proxy=h,h}function Tr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Vn(d,h){var O=d.interceptors||(d.interceptors=[]);return O.push(h),A(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function Mr(d,h){var O=re();try{for(var N=Ie(d.interceptors||[]),F=0,K=N.length;F<K&&(h=N[F](h),M(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);F++);return h}finally{Me(O)}}function yr(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function Zn(d,h){var O=d.changeListeners||(d.changeListeners=[]);return O.push(h),A(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function qt(d,h){var O=re(),N=d.changeListeners;if(!!N){N=N.slice();for(var F=0,K=N.length;F<K;F++)N[F](h);Me(O)}}var Cl=1e4,Rl={get:function(d,h){return h===R?d[R]:h==="length"?d[R].getArrayLength():typeof h=="number"?Cr.get.call(d,h):typeof h=="string"&&!isNaN(h)?Cr.get.call(d,parseInt(h)):Cr.hasOwnProperty(h)?Cr[h]:d[h]},set:function(d,h,O){return h==="length"&&d[R].setArrayLength(O),typeof h=="number"&&Cr.set.call(d,h,O),typeof h=="symbol"||isNaN(h)?d[h]=O:Cr.set.call(d,parseInt(h),O),!0},preventExtensions:function(d){return P("Observable arrays cannot be frozen"),!1}};function Il(d,h,O,N){O===void 0&&(O="ObservableArray@"+E()),N===void 0&&(N=!1);var F=new na(O,h,N);ie(F.values,R,F);var K=new Proxy(F.values,Rl);if(F.proxy=K,d&&d.length){var fe=gn(!0);F.spliceWithArray(0,0,d),$n(fe)}return K}var na=function(){function d(h,O,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new W(h||"ObservableArray@"+E()),this.enhancer=function(F,K){return O(F,K,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return Vn(this,h)},d.prototype.observe=function(h,O){return O===void 0&&(O=!1),O&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Zn(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var O=this.values.length;if(h!==O)if(h>O){for(var N=new Array(h-O),F=0;F<h-O;F++)N[F]=void 0;this.spliceWithArray(O,0,N)}else this.spliceWithArray(h,O-h)},d.prototype.updateArrayLength=function(h,O){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},d.prototype.spliceWithArray=function(h,O,N){var F=this;Je(this.atom);var K=this.values.length;if(h===void 0?h=0:h>K?h=K:h<0&&(h=Math.max(0,K+h)),arguments.length===1?O=K-h:O==null?O=0:O=Math.max(0,Math.min(O,K-h)),N===void 0&&(N=b),Tr(this)){var fe=Mr(this,{object:this.proxy,type:"splice",index:h,removedCount:O,added:N});if(!fe)return b;O=fe.removedCount,N=fe.added}N=N.length===0?N:N.map(function(Ue){return F.enhancer(Ue,void 0)});var Ae=this.spliceItemsIntoValues(h,O,N);return(O!==0||N.length!==0)&&this.notifyArraySplice(h,N,Ae),this.dehanceValues(Ae)},d.prototype.spliceItemsIntoValues=function(h,O,N){var F;if(N.length<Cl)return(F=this.values).splice.apply(F,Ie([h,O],N));var K=this.values.slice(h,h+O);return this.values=this.values.slice(0,h).concat(N,this.values.slice(h+O)),K},d.prototype.notifyArrayChildUpdate=function(h,O,N){var F=!this.owned&&Rt(),K=yr(this),fe=K||F?{object:this.proxy,type:"update",index:h,newValue:O,oldValue:N}:null;this.atom.reportChanged(),K&&qt(this,fe)},d.prototype.notifyArraySplice=function(h,O,N){var F=!this.owned&&Rt(),K=yr(this),fe=K||F?{object:this.proxy,type:"splice",index:h,removed:N,added:O,removedCount:N.length,addedCount:O.length}:null;this.atom.reportChanged(),K&&qt(this,fe)},d}(),Cr={intercept:function(d){return this[R].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var O=this[R];return O.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[R];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var O=[],N=2;N<arguments.length;N++)O[N-2]=arguments[N];var F=this[R];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(d);case 2:return F.spliceWithArray(d,h)}return F.spliceWithArray(d,h,O)},spliceWithArray:function(d,h,O){var N=this[R];return N.spliceWithArray(d,h,O)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(O.values.length,0,d),O.values.length},pop:function(){return this.splice(Math.max(this[R].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(0,0,d),O.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[R],O=h.dehanceValues(h.values).indexOf(d);return O>-1?(this.splice(O,1),!0):!1},get:function(d){var h=this[R];if(h&&d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d])},set:function(d,h){var O=this[R],N=O.values;if(d<N.length){Je(O.atom);var F=N[d];if(Tr(O)){var K=Mr(O,{type:"update",object:O.proxy,index:d,newValue:h});if(!K)return;h=K.newValue}h=O.enhancer(h,F);var fe=h!==F;fe&&(N[d]=h,O.notifyArrayChildUpdate(d,h,F))}else if(d===N.length)O.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+N.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Cr[d]=function(){var h=this[R];h.atom.reportObserved();var O=h.dehanceValues(h.values);return O[d].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Cr[d]=function(h,O){var N=this,F=this[R];F.atom.reportObserved();var K=F.dehanceValues(F.values);return K[d](function(fe,Ae){return h.call(O,fe,Ae,N)},O)})}),["reduce","reduceRight"].forEach(function(d){Cr[d]=function(){var h=this,O=this[R];O.atom.reportObserved();var N=arguments[0];return arguments[0]=function(F,K,fe){return K=O.dehanceValue(K),N(F,K,fe,h)},O.values[d].apply(O.values,arguments)}});var Bl=ee("ObservableArrayAdministration",na);function Rr(d){return B(d)&&Bl(d[R])}var oa,ia={},oi=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableMap@"+E()),this.enhancer=O,this.name=N,this[oa]=ia,this._keysAtom=ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var O=this;if(!He.trackingDerivation)return this._has(h);var N=this._hasMap.get(h);if(!N){var F=N=new sn(this._has(h),nt,this.name+"."+U(h)+"?",!1);this._hasMap.set(h,F),ri(F,function(){return O._hasMap.delete(h)})}return N.get()},d.prototype.set=function(h,O){var N=this._has(h);if(Tr(this)){var F=Mr(this,{type:N?"update":"add",object:this,newValue:O,name:h});if(!F)return this;O=F.newValue}return N?this._updateValue(h,O):this._addValue(h,O),this},d.prototype.delete=function(h){var O=this;if(Je(this._keysAtom),Tr(this)){var N=Mr(this,{type:"delete",object:this,name:h});if(!N)return!1}if(this._has(h)){var F=Rt(),K=yr(this),N=K||F?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Ar(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(h,!1);var Ae=O._data.get(h);Ae.setNewValue(void 0),O._data.delete(h)}),K&&qt(this,N),!0}return!1},d.prototype._updateHasMapEntry=function(h,O){var N=this._hasMap.get(h);N&&N.setNewValue(O)},d.prototype._updateValue=function(h,O){var N=this._data.get(h);if(O=N.prepareNewValue(O),O!==He.UNCHANGED){var F=Rt(),K=yr(this),fe=K||F?{type:"update",object:this,oldValue:N.value,name:h,newValue:O}:null;N.setNewValue(O),K&&qt(this,fe)}},d.prototype._addValue=function(h,O){var N=this;Je(this._keysAtom),Ar(function(){var Ae=new sn(O,N.enhancer,N.name+"."+U(h),!1);N._data.set(h,Ae),O=Ae.value,N._updateHasMapEntry(h,!0),N._keysAtom.reportChanged()});var F=Rt(),K=yr(this),fe=K||F?{type:"add",object:this,name:h,newValue:O}:null;K&&qt(this,fe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,O=this.keys();return xo({next:function(){var N=O.next(),F=N.done,K=N.value;return{done:F,value:F?void 0:h.get(K)}}})},d.prototype.entries=function(){var h=this,O=this.keys();return xo({next:function(){var N=O.next(),F=N.done,K=N.value;return{done:F,value:F?void 0:[K,h.get(K)]}}})},d.prototype[oa=R,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,O){var N,F;try{for(var K=Be(this),fe=K.next();!fe.done;fe=K.next()){var Ae=Se(fe.value,2),Ue=Ae[0],ft=Ae[1];h.call(O,ft,Ue,this)}}catch(ct){N={error:ct}}finally{try{fe&&!fe.done&&(F=K.return)&&F.call(K)}finally{if(N)throw N.error}}},d.prototype.merge=function(h){var O=this;return kt(h)&&(h=h.toJS()),Ar(function(){var N=gn(!0);try{z(h)?L(h).forEach(function(F){return O.set(F,h[F])}):Array.isArray(h)?h.forEach(function(F){var K=Se(F,2),fe=K[0],Ae=K[1];return O.set(fe,Ae)}):J(h)?(h.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(F,K){return O.set(K,F)})):h!=null&&P("Cannot initialize map from "+h)}finally{$n(N)}}),this},d.prototype.clear=function(){var h=this;Ar(function(){te(function(){var O,N;try{for(var F=Be(h.keys()),K=F.next();!K.done;K=F.next()){var fe=K.value;h.delete(fe)}}catch(Ae){O={error:Ae}}finally{try{K&&!K.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.replace=function(h){var O=this;return Ar(function(){var N,F,K,fe,Ae=X(h),Ue=new Map,ft=!1;try{for(var ct=Be(O._data.keys()),Ot=ct.next();!Ot.done;Ot=ct.next()){var xt=Ot.value;if(!Ae.has(xt)){var Bt=O.delete(xt);if(Bt)ft=!0;else{var Xt=O._data.get(xt);Ue.set(xt,Xt)}}}}catch(fn){N={error:fn}}finally{try{Ot&&!Ot.done&&(F=ct.return)&&F.call(ct)}finally{if(N)throw N.error}}try{for(var Tt=Be(Ae.entries()),mr=Tt.next();!mr.done;mr=Tt.next()){var wn=Se(mr.value,2),xt=wn[0],Xt=wn[1],va=O._data.has(xt);if(O.set(xt,Xt),O._data.has(xt)){var ya=O._data.get(xt);Ue.set(xt,ya),va||(ft=!0)}}}catch(fn){K={error:fn}}finally{try{mr&&!mr.done&&(fe=Tt.return)&&fe.call(Tt)}finally{if(K)throw K.error}}if(!ft)if(O._data.size!==Ue.size)O._keysAtom.reportChanged();else for(var ga=O._data.keys(),ma=Ue.keys(),ui=ga.next(),Nn=ma.next();!ui.done;){if(ui.value!==Nn.value){O._keysAtom.reportChanged();break}ui=ga.next(),Nn=ma.next()}O._data=Ue}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,O,N={};try{for(var F=Be(this),K=F.next();!K.done;K=F.next()){var fe=Se(K.value,2),Ae=fe[0],Ue=fe[1];N[typeof Ae=="symbol"?Ae:U(Ae)]=Ue}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return U(O)+": "+(""+h.get(O))}).join(", ")+" }]"},d.prototype.observe=function(h,O){return Zn(this,h)},d.prototype.intercept=function(h){return Vn(this,h)},d}(),kt=ee("ObservableMap",oi),aa,_l={},ua=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableSet@"+E()),this.name=N,this[aa]=_l,this._data=new Set,this._atom=ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,K){return O(F,K,N)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Ar(function(){te(function(){var O,N;try{for(var F=Be(h._data.values()),K=F.next();!K.done;K=F.next()){var fe=K.value;h.delete(fe)}}catch(Ae){O={error:Ae}}finally{try{K&&!K.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.forEach=function(h,O){var N,F;try{for(var K=Be(this),fe=K.next();!fe.done;fe=K.next()){var Ae=fe.value;h.call(O,Ae,Ae,this)}}catch(Ue){N={error:Ue}}finally{try{fe&&!fe.done&&(F=K.return)&&F.call(K)}finally{if(N)throw N.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var O=this;if(Je(this._atom),Tr(this)){var N=Mr(this,{type:"add",object:this,newValue:h});if(!N)return this}if(!this.has(h)){Ar(function(){O._data.add(O.enhancer(h,void 0)),O._atom.reportChanged()});var F=Rt(),K=yr(this),N=K||F?{type:"add",object:this,newValue:h}:null;K&&qt(this,N)}return this},d.prototype.delete=function(h){var O=this;if(Tr(this)){var N=Mr(this,{type:"delete",object:this,oldValue:h});if(!N)return!1}if(this.has(h)){var F=Rt(),K=yr(this),N=K||F?{type:"delete",object:this,oldValue:h}:null;return Ar(function(){O._atom.reportChanged(),O._data.delete(h)}),K&&qt(this,N),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,O=Array.from(this.keys()),N=Array.from(this.values());return xo({next:function(){var F=h;return h+=1,F<N.length?{value:[O[F],N[F]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,O=0,N=Array.from(this._data.values());return xo({next:function(){return O<N.length?{value:h.dehanceValue(N[O++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var O=this;return cr(h)&&(h=h.toJS()),Ar(function(){var N=gn(!0);try{Array.isArray(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):ue(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):h!=null&&P("Cannot initialize set from "+h)}finally{$n(N)}}),this},d.prototype.observe=function(h,O){return Zn(this,h)},d.prototype.intercept=function(h){return Vn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[aa=R,Symbol.iterator]=function(){return this.values()},d}(),cr=ee("ObservableSet",ua),sa=function(){function d(h,O,N,F){O===void 0&&(O=new Map),this.target=h,this.values=O,this.name=N,this.defaultEnhancer=F,this.keysAtom=new W(N+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,O){var N=this.target,F=this.values.get(h);if(F instanceof mn){F.set(O);return}if(Tr(this)){var K=Mr(this,{type:"update",object:this.proxy||N,name:h,newValue:O});if(!K)return;O=K.newValue}if(O=F.prepareNewValue(O),O!==He.UNCHANGED){var fe=yr(this),Ae=Rt(),K=fe||Ae?{type:"update",object:this.proxy||N,oldValue:F.value,name:h,newValue:O}:null;F.setNewValue(O),fe&&qt(this,K)}},d.prototype.has=function(h){var O=this.pendingKeys||(this.pendingKeys=new Map),N=O.get(h);if(N)return N.get();var F=!!this.values.get(h);return N=new sn(F,nt,this.name+"."+U(h)+"?",!1),O.set(h,N),N.get()},d.prototype.addObservableProp=function(h,O,N){N===void 0&&(N=this.defaultEnhancer);var F=this.target;if(Tr(this)){var K=Mr(this,{object:this.proxy||F,name:h,type:"add",newValue:O});if(!K)return;O=K.newValue}var fe=new sn(O,N,this.name+"."+U(h),!1);this.values.set(h,fe),O=fe.value,Object.defineProperty(F,h,Ll(h)),this.notifyPropertyAddition(h,O)},d.prototype.addComputedProp=function(h,O,N){var F=this.target;N.name=N.name||this.name+"."+U(O),this.values.set(O,new mn(N)),(h===F||oe(h,O))&&Object.defineProperty(h,O,zl(O))},d.prototype.remove=function(h){if(!!this.values.has(h)){var O=this.target;if(Tr(this)){var N=Mr(this,{object:this.proxy||O,name:h,type:"remove"});if(!N)return}try{At();var F=yr(this),K=Rt(),fe=this.values.get(h),Ae=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var Ue=this.pendingKeys.get(h);Ue&&Ue.set(!1)}delete this.target[h];var N=F||K?{type:"remove",object:this.proxy||O,oldValue:Ae,name:h}:null;F&&qt(this,N)}finally{vr()}}},d.prototype.illegalAccess=function(h,O){},d.prototype.observe=function(h,O){return Zn(this,h)},d.prototype.intercept=function(h){return Vn(this,h)},d.prototype.notifyPropertyAddition=function(h,O){var N=yr(this),F=Rt(),K=N||F?{type:"add",object:this.proxy||this.target,name:h,newValue:O}:null;if(N&&qt(this,K),this.pendingKeys){var fe=this.pendingKeys.get(h);fe&&fe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,O;this.keysAtom.reportObserved();var N=[];try{for(var F=Be(this.values),K=F.next();!K.done;K=F.next()){var fe=Se(K.value,2),Ae=fe[0],Ue=fe[1];Ue instanceof sn&&N.push(Ae)}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d}();function ii(d,h,O){if(h===void 0&&(h=""),O===void 0&&(O=tt),Object.prototype.hasOwnProperty.call(d,R))return d[R];z(d)||(h=(d.constructor.name||"ObservableObject")+"@"+E()),h||(h="ObservableObject@"+E());var N=new sa(d,new Map,U(h),O);return $(d,R,N),N}var la=Object.create(null),fa=Object.create(null);function Ll(d){return la[d]||(la[d]={configurable:!0,enumerable:!0,get:function(){return this[R].read(d)},set:function(h){this[R].write(d,h)}})}function ca(d){var h=d[R];return h||(xe(d),d[R])}function zl(d){return fa[d]||(fa[d]={configurable:He.computedConfigurable,enumerable:!1,get:function(){return ca(this).read(d)},set:function(h){ca(this).write(d,h)}})}var Fl=ee("ObservableObjectAdministration",sa);function gr(d){return B(d)?(xe(d),Fl(d[R])):!1}function wr(d,h){if(typeof d=="object"&&d!==null){if(Rr(d))return h!==void 0&&P(!1),d[R].atom;if(cr(d))return d[R];if(kt(d)){var O=d;if(h===void 0)return O._keysAtom;var N=O._data.get(h)||O._hasMap.get(h);return N||P(!1),N}if(xe(d),h&&!d[R]&&d[h],gr(d)){if(!h)return P(!1);var N=d[R].values.get(h);return N||P(!1),N}if(Q(d)||bn(d)||go(d))return d}else if(typeof d=="function"&&go(d[R]))return d[R];return P(!1)}function Jn(d,h){if(d||P("Expecting some object"),h!==void 0)return Jn(wr(d,h));if(Q(d)||bn(d)||go(d)||kt(d)||cr(d))return d;if(xe(d),d[R])return d[R];P(!1)}function Gl(d,h){var O;return h!==void 0?O=wr(d,h):gr(d)||kt(d)||cr(d)?O=Jn(d):O=wr(d),O.name}var da=Object.prototype.toString;function Eo(d,h,O){return O===void 0&&(O=-1),Qn(d,h,O)}function Qn(d,h,O,N,F){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var K=typeof d;if(K!=="function"&&K!=="object"&&typeof h!="object")return!1;var fe=da.call(d);if(fe!==da.call(h))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":O>=0&&O++;break}d=pa(d),h=pa(h);var Ae=fe==="[object Array]";if(!Ae){if(typeof d!="object"||typeof h!="object")return!1;var Ue=d.constructor,ft=h.constructor;if(Ue!==ft&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in d&&"constructor"in h)return!1}if(O===0)return!1;O<0&&(O=-1),N=N||[],F=F||[];for(var ct=N.length;ct--;)if(N[ct]===d)return F[ct]===h;if(N.push(d),F.push(h),Ae){if(ct=d.length,ct!==h.length)return!1;for(;ct--;)if(!Qn(d[ct],h[ct],O-1,N,F))return!1}else{var Ot=Object.keys(d),xt=void 0;if(ct=Ot.length,Object.keys(h).length!==ct)return!1;for(;ct--;)if(xt=Ot[ct],!(Hl(h,xt)&&Qn(d[xt],h[xt],O-1,N,F)))return!1}return N.pop(),F.pop(),!0}function pa(d){return Rr(d)?d.slice():J(d)||kt(d)||ue(d)||cr(d)?Array.from(d.entries()):d}function Hl(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function xo(d){return d[Symbol.iterator]=ai,d}function ai(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch(d){var ha=ho();typeof s=="undefined"&&(ha.process={}),ha.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Yi,extras:{getDebugName:Gl},$mobx:R})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return oe}),i.d(c,"b",function(){return ie}),i.d(c,"c",function(){return Ie}),i.d(c,"d",function(){return ke}),i.d(c,"e",function(){return z}),i.d(c,"f",function(){return $}),i.d(c,"g",function(){return z}),i.d(c,"h",function(){return Se}),i.d(c,"i",function(){return f}),i.d(c,"j",function(){return Be}),i.d(c,"k",function(){return w});var s,f,y,b,x,E,P,M={},A=[],D=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(k,Y){for(var q in Y)k[q]=Y[q];return k}function B(k){var Y=k.parentNode;Y&&Y.removeChild(k)}function z(k,Y,q){var he,xe,pe,ze={};for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?xe=Y[pe]:ze[pe]=Y[pe];if(arguments.length>2&&(ze.children=arguments.length>3?s.call(arguments,2):q),typeof k=="function"&&k.defaultProps!=null)for(pe in k.defaultProps)ze[pe]===void 0&&(ze[pe]=k.defaultProps[pe]);return X(k,ze,he,xe,null)}function X(k,Y,q,he,xe){var pe={type:k,props:Y,key:q,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:xe==null?++y:xe};return xe==null&&f.vnode!=null&&f.vnode(pe),pe}function $(){return{current:null}}function ie(k){return k.children}function oe(k,Y){this.props=k,this.context=Y}function ee(k,Y){if(Y==null)return k.__?ee(k.__,k.__.__k.indexOf(k)+1):null;for(var q;Y<k.__k.length;Y++)if((q=k.__k[Y])!=null&&q.__e!=null)return q.__e;return typeof k.type=="function"?ee(k):null}function J(k){var Y,q;if((k=k.__)!=null&&k.__c!=null){for(k.__e=k.__c.base=null,Y=0;Y<k.__k.length;Y++)if((q=k.__k[Y])!=null&&q.__e!=null){k.__e=k.__c.base=q.__e;break}return J(k)}}function ue(k){(!k.__d&&(k.__d=!0)&&b.push(k)&&!L.__r++||E!==f.debounceRendering)&&((E=f.debounceRendering)||x)(L)}function L(){for(var k;L.__r=b.length;)k=b.sort(function(Y,q){return Y.__v.__b-q.__v.__b}),b=[],k.some(function(Y){var q,he,xe,pe,ze,tt;Y.__d&&(ze=(pe=(q=Y).__v).__e,(tt=q.__P)&&(he=[],(xe=C({},pe)).__v=pe.__v+1,Oe(tt,pe,xe,q.__n,tt.ownerSVGElement!==void 0,pe.__h!=null?[ze]:null,he,ze==null?ee(pe):ze,pe.__h),Pe(he,pe),pe.__e!=ze&&J(pe)))})}function U(k,Y,q,he,xe,pe,ze,tt,Ye,nt){var ve,ut,rt,_e,Qe,wt,dt,bt=he&&he.__k||A,ne=bt.length;for(q.__k=[],ve=0;ve<Y.length;ve++)if((_e=q.__k[ve]=(_e=Y[ve])==null||typeof _e=="boolean"?null:typeof _e=="string"||typeof _e=="number"||typeof _e=="bigint"?X(null,_e,null,null,_e):Array.isArray(_e)?X(ie,{children:_e},null,null,null):_e.__b>0?X(_e.type,_e.props,_e.key,null,_e.__v):_e)!=null){if(_e.__=q,_e.__b=q.__b+1,(rt=bt[ve])===null||rt&&_e.key==rt.key&&_e.type===rt.type)bt[ve]=void 0;else for(ut=0;ut<ne;ut++){if((rt=bt[ut])&&_e.key==rt.key&&_e.type===rt.type){bt[ut]=void 0;break}rt=null}Oe(k,_e,rt=rt||M,xe,pe,ze,tt,Ye,nt),Qe=_e.__e,(ut=_e.ref)&&rt.ref!=ut&&(dt||(dt=[]),rt.ref&&dt.push(rt.ref,null,_e),dt.push(ut,_e.__c||Qe,_e)),Qe!=null?(wt==null&&(wt=Qe),typeof _e.type=="function"&&_e.__k===rt.__k?_e.__d=Ye=I(_e,Ye,k):Ye=R(k,_e,rt,bt,Qe,Ye),typeof q.type=="function"&&(q.__d=Ye)):Ye&&rt.__e==Ye&&Ye.parentNode!=k&&(Ye=ee(rt))}for(q.__e=wt,ve=ne;ve--;)bt[ve]!=null&&(typeof q.type=="function"&&bt[ve].__e!=null&&bt[ve].__e==q.__d&&(q.__d=ee(he,ve+1)),Le(bt[ve],bt[ve]));if(dt)for(ve=0;ve<dt.length;ve++)Ne(dt[ve],dt[++ve],dt[++ve])}function I(k,Y,q){for(var he,xe=k.__k,pe=0;xe&&pe<xe.length;pe++)(he=xe[pe])&&(he.__=k,Y=typeof he.type=="function"?I(he,Y,q):R(q,he,he,xe,he.__e,Y));return Y}function w(k,Y){return Y=Y||[],k==null||typeof k=="boolean"||(Array.isArray(k)?k.some(function(q){w(q,Y)}):Y.push(k)),Y}function R(k,Y,q,he,xe,pe){var ze,tt,Ye;if(Y.__d!==void 0)ze=Y.__d,Y.__d=void 0;else if(q==null||xe!=pe||xe.parentNode==null)e:if(pe==null||pe.parentNode!==k)k.appendChild(xe),ze=null;else{for(tt=pe,Ye=0;(tt=tt.nextSibling)&&Ye<he.length;Ye+=2)if(tt==xe)break e;k.insertBefore(xe,pe),ze=pe}return ze!==void 0?ze:xe.nextSibling}function W(k,Y,q,he,xe){var pe;for(pe in q)pe==="children"||pe==="key"||pe in Y||ce(k,pe,null,q[pe],he);for(pe in Y)xe&&typeof Y[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||q[pe]===Y[pe]||ce(k,pe,Y[pe],q[pe],he)}function Q(k,Y,q){Y[0]==="-"?k.setProperty(Y,q):k[Y]=q==null?"":typeof q!="number"||D.test(Y)?q:q+"px"}function ce(k,Y,q,he,xe){var pe;e:if(Y==="style")if(typeof q=="string")k.style.cssText=q;else{if(typeof he=="string"&&(k.style.cssText=he=""),he)for(Y in he)q&&Y in q||Q(k.style,Y,"");if(q)for(Y in q)he&&q[Y]===he[Y]||Q(k.style,Y,q[Y])}else if(Y[0]==="o"&&Y[1]==="n")pe=Y!==(Y=Y.replace(/Capture$/,"")),Y=Y.toLowerCase()in k?Y.toLowerCase().slice(2):Y.slice(2),k.l||(k.l={}),k.l[Y+pe]=q,q?he||k.addEventListener(Y,pe?me:Te,pe):k.removeEventListener(Y,pe?me:Te,pe);else if(Y!=="dangerouslySetInnerHTML"){if(xe)Y=Y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Y!=="href"&&Y!=="list"&&Y!=="form"&&Y!=="tabIndex"&&Y!=="download"&&Y in k)try{k[Y]=q==null?"":q;break e}catch(ze){}typeof q=="function"||(q!=null&&(q!==!1||Y[0]==="a"&&Y[1]==="r")?k.setAttribute(Y,q):k.removeAttribute(Y))}}function Te(k){this.l[k.type+!1](f.event?f.event(k):k)}function me(k){this.l[k.type+!0](f.event?f.event(k):k)}function Oe(k,Y,q,he,xe,pe,ze,tt,Ye){var nt,ve,ut,rt,_e,Qe,wt,dt,bt,ne,Ct,St=Y.type;if(Y.constructor!==void 0)return null;q.__h!=null&&(Ye=q.__h,tt=Y.__e=q.__e,Y.__h=null,pe=[tt]),(nt=f.__b)&&nt(Y);try{e:if(typeof St=="function"){if(dt=Y.props,bt=(nt=St.contextType)&&he[nt.__c],ne=nt?bt?bt.props.value:nt.__:he,q.__c?wt=(ve=Y.__c=q.__c).__=ve.__E:("prototype"in St&&St.prototype.render?Y.__c=ve=new St(dt,ne):(Y.__c=ve=new oe(dt,ne),ve.constructor=St,ve.render=Ve),bt&&bt.sub(ve),ve.props=dt,ve.state||(ve.state={}),ve.context=ne,ve.__n=he,ut=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),St.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=C({},ve.__s)),C(ve.__s,St.getDerivedStateFromProps(dt,ve.__s))),rt=ve.props,_e=ve.state,ut)St.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(St.getDerivedStateFromProps==null&&dt!==rt&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(dt,ne),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(dt,ve.__s,ne)===!1||Y.__v===q.__v){ve.props=dt,ve.state=ve.__s,Y.__v!==q.__v&&(ve.__d=!1),ve.__v=Y,Y.__e=q.__e,Y.__k=q.__k,Y.__k.forEach(function(mt){mt&&(mt.__=Y)}),ve.__h.length&&ze.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(dt,ve.__s,ne),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(rt,_e,Qe)})}ve.context=ne,ve.props=dt,ve.state=ve.__s,(nt=f.__r)&&nt(Y),ve.__d=!1,ve.__v=Y,ve.__P=k,nt=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(he=C(C({},he),ve.getChildContext())),ut||ve.getSnapshotBeforeUpdate==null||(Qe=ve.getSnapshotBeforeUpdate(rt,_e)),Ct=nt!=null&&nt.type===ie&&nt.key==null?nt.props.children:nt,U(k,Array.isArray(Ct)?Ct:[Ct],Y,q,he,xe,pe,ze,tt,Ye),ve.base=Y.__e,Y.__h=null,ve.__h.length&&ze.push(ve),wt&&(ve.__E=ve.__=null),ve.__e=!1}else pe==null&&Y.__v===q.__v?(Y.__k=q.__k,Y.__e=q.__e):Y.__e=Ee(q.__e,Y,q,he,xe,pe,ze,Ye);(nt=f.diffed)&&nt(Y)}catch(mt){Y.__v=null,(Ye||pe!=null)&&(Y.__e=tt,Y.__h=!!Ye,pe[pe.indexOf(tt)]=null),f.__e(mt,Y,q)}}function Pe(k,Y){f.__c&&f.__c(Y,k),k.some(function(q){try{k=q.__h,q.__h=[],k.some(function(he){he.call(q)})}catch(he){f.__e(he,q.__v)}})}function Ee(k,Y,q,he,xe,pe,ze,tt){var Ye,nt,ve,ut=q.props,rt=Y.props,_e=Y.type,Qe=0;if(_e==="svg"&&(xe=!0),pe!=null){for(;Qe<pe.length;Qe++)if((Ye=pe[Qe])&&"setAttribute"in Ye==!!_e&&(_e?Ye.localName===_e:Ye.nodeType===3)){k=Ye,pe[Qe]=null;break}}if(k==null){if(_e===null)return document.createTextNode(rt);k=xe?document.createElementNS("http://www.w3.org/2000/svg",_e):document.createElement(_e,rt.is&&rt),pe=null,tt=!1}if(_e===null)ut===rt||tt&&k.data===rt||(k.data=rt);else{if(pe=pe&&s.call(k.childNodes),nt=(ut=q.props||M).dangerouslySetInnerHTML,ve=rt.dangerouslySetInnerHTML,!tt){if(pe!=null)for(ut={},Qe=0;Qe<k.attributes.length;Qe++)ut[k.attributes[Qe].name]=k.attributes[Qe].value;(ve||nt)&&(ve&&(nt&&ve.__html==nt.__html||ve.__html===k.innerHTML)||(k.innerHTML=ve&&ve.__html||""))}if(W(k,rt,ut,xe,tt),ve)Y.__k=[];else if(Qe=Y.props.children,U(k,Array.isArray(Qe)?Qe:[Qe],Y,q,he,xe&&_e!=="foreignObject",pe,ze,pe?pe[0]:q.__k&&ee(q,0),tt),pe!=null)for(Qe=pe.length;Qe--;)pe[Qe]!=null&&B(pe[Qe]);tt||("value"in rt&&(Qe=rt.value)!==void 0&&(Qe!==ut.value||Qe!==k.value||_e==="progress"&&!Qe)&&ce(k,"value",Qe,ut.value,!1),"checked"in rt&&(Qe=rt.checked)!==void 0&&Qe!==k.checked&&ce(k,"checked",Qe,ut.checked,!1))}return k}function Ne(k,Y,q){try{typeof k=="function"?k(Y):k.current=Y}catch(he){f.__e(he,q)}}function Le(k,Y,q){var he,xe;if(f.unmount&&f.unmount(k),(he=k.ref)&&(he.current&&he.current!==k.__e||Ne(he,null,Y)),(he=k.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){f.__e(pe,Y)}he.base=he.__P=null}if(he=k.__k)for(xe=0;xe<he.length;xe++)he[xe]&&Le(he[xe],Y,typeof k.type!="function");q||k.__e==null||B(k.__e),k.__e=k.__d=void 0}function Ve(k,Y,q){return this.constructor(k,q)}function Be(k,Y,q){var he,xe,pe;f.__&&f.__(k,Y),xe=(he=typeof q=="function")?null:q&&q.__k||Y.__k,pe=[],Oe(Y,k=(!he&&q||Y).__k=z(ie,null,[k]),xe||M,M,Y.ownerSVGElement!==void 0,!he&&q?[q]:xe?null:Y.firstChild?s.call(Y.childNodes):null,pe,!he&&q?q:xe?xe.__e:Y.firstChild,he),Pe(pe,k)}function Se(k,Y){Be(k,Y,Se)}function Ie(k,Y,q){var he,xe,pe,ze=C({},k.props);for(pe in Y)pe=="key"?he=Y[pe]:pe=="ref"?xe=Y[pe]:ze[pe]=Y[pe];return arguments.length>2&&(ze.children=arguments.length>3?s.call(arguments,2):q),X(k.type,ze,he||k.key,xe||k.ref,null)}function ke(k,Y){var q={__c:Y="__cC"+P++,__:k,Consumer:function(he,xe){return he.children(xe)},Provider:function(he){var xe,pe;return this.getChildContext||(xe=[],(pe={})[Y]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(ze){this.props.value!==ze.value&&xe.some(ue)},this.sub=function(ze){xe.push(ze);var tt=ze.componentWillUnmount;ze.componentWillUnmount=function(){xe.splice(xe.indexOf(ze),1),tt&&tt.call(ze)}}),he.children}};return q.Provider.__=q.Consumer.contextType=q}s=A.slice,f={__e:function(k,Y){for(var q,he,xe;Y=Y.__;)if((q=Y.__c)&&!q.__)try{if((he=q.constructor)&&he.getDerivedStateFromError!=null&&(q.setState(he.getDerivedStateFromError(k)),xe=q.__d),q.componentDidCatch!=null&&(q.componentDidCatch(k),xe=q.__d),xe)return q.__E=q}catch(pe){k=pe}throw k}},y=0,oe.prototype.setState=function(k,Y){var q;q=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof k=="function"&&(k=k(C({},q),this.props)),k&&C(q,k),k!=null&&this.__v&&(Y&&this.__h.push(Y),ue(this))},oe.prototype.forceUpdate=function(k){this.__v&&(this.__e=!0,k&&this.__h.push(k),ue(this))},oe.prototype.render=ie,b=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,P=0},function(u,c,i){var s=i(116),f=i(44),y=i(178);s||f(Object.prototype,"toString",y,{unsafe:!0})},function(u,c,i){var s=i(39),f=i(83),y=i(70),b=i(56),x=i(111),E="Array Iterator",P=b.set,M=b.getterFor(E);u.exports=x(Array,"Array",function(A,D){P(this,{type:E,target:s(A),index:0,kind:D})},function(){var A=M(this),D=A.target,C=A.kind,B=A.index++;return!D||B>=D.length?(A.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:B,done:!1}:C=="values"?{value:D[B],done:!1}:{value:[B,D[B]],done:!1}},"values"),y.Arguments=y.Array,f("keys"),f("values"),f("entries")},function(u,c,i){var s=i(7),f=i(147),y=i(148),b=i(3),x=i(57),E=i(27),P=E("iterator"),M=E("toStringTag"),A=b.values,D=function(B,z){if(B){if(B[P]!==A)try{x(B,P,A)}catch($){B[P]=A}if(B[M]||x(B,M,z),f[z]){for(var X in b)if(B[X]!==b[X])try{x(B,X,b[X])}catch($){B[X]=b[X]}}}};for(var C in f)D(s[C]&&s[C].prototype,C);D(y,"DOMTokenList")},function(u,c,i){var s=i(16),f=i(7),y=i(46),b=i(76),x=i(35),E=i(15),P=i(64),M=i(36),A=i(109),D=i(18),C=i(34),B=i(99),z=i(28),X=i(33),$=i(58),ie=i(88),oe=i(32),ee=i(38),J=i(39),ue=i(87),L=i(40),U=i(71),I=i(54),w=i(66),R=i(72),W=i(139),Q=i(112),ce=i(51),Te=i(37),me=i(93),Oe=i(101),Pe=i(44),Ee=i(84),Ne=i(91),Le=i(69),Ve=i(85),Be=i(27),Se=i(149),Ie=i(150),ke=i(73),k=i(56),Y=i(74).forEach,q=Ne("hidden"),he="Symbol",xe="prototype",pe=Be("toPrimitive"),ze=k.set,tt=k.getterFor(he),Ye=Object[xe],nt=f.Symbol,ve=nt&&nt[xe],ut=f.TypeError,rt=f.QObject,_e=y("JSON","stringify"),Qe=ce.f,wt=Te.f,dt=W.f,bt=me.f,ne=E([].push),Ct=Ee("symbols"),St=Ee("op-symbols"),mt=Ee("string-to-symbol-registry"),Yt=Ee("symbol-to-string-registry"),hr=Ee("wks"),Zt=!rt||!rt[xe]||!rt[xe].findChild,Sr=M&&D(function(){return I(wt({},"a",{get:function(){return wt(this,"a",{value:7}).a}})).a!=7})?function(te,re,Me){var De=Qe(Ye,re);De&&delete Ye[re],wt(te,re,Me),De&&te!==Ye&&wt(Ye,re,De)}:wt,qe=function(te,re){var Me=Ct[te]=I(ve);return ze(Me,{type:he,tag:te,description:re}),M||(Me.description=re),Me},Pt=function(re,Me,De){re===Ye&&Pt(St,Me,De),oe(re);var Xe=ue(Me);return oe(De),C(Ct,Xe)?(De.enumerable?(C(re,q)&&re[q][Xe]&&(re[q][Xe]=!1),De=I(De,{enumerable:U(0,!1)})):(C(re,q)||wt(re,q,U(1,{})),re[q][Xe]=!0),Sr(re,Xe,De)):wt(re,Xe,De)},nr=function(re,Me){oe(re);var De=J(Me),Xe=w(De).concat(lt(De));return Y(Xe,function(vt){(!M||x($e,De,vt))&&Pt(re,vt,De[vt])}),re},je=function(re,Me){return Me===void 0?I(re):nr(I(re),Me)},$e=function(re){var Me=ue(re),De=x(bt,this,Me);return this===Ye&&C(Ct,Me)&&!C(St,Me)?!1:De||!C(this,Me)||!C(Ct,Me)||C(this,q)&&this[q][Me]?De:!0},ot=function(re,Me){var De=J(re),Xe=ue(Me);if(!(De===Ye&&C(Ct,Xe)&&!C(St,Xe))){var vt=Qe(De,Xe);return vt&&C(Ct,Xe)&&!(C(De,q)&&De[q][Xe])&&(vt.enumerable=!0),vt}},Je=function(re){var Me=dt(J(re)),De=[];return Y(Me,function(Xe){!C(Ct,Xe)&&!C(Le,Xe)&&ne(De,Xe)}),De},lt=function(re){var Me=re===Ye,De=dt(Me?St:J(re)),Xe=[];return Y(De,function(vt){C(Ct,vt)&&(!Me||C(Ye,vt))&&ne(Xe,Ct[vt])}),Xe};if(A||(nt=function(){if($(ve,this))throw ut("Symbol is not a constructor");var re=!arguments.length||arguments[0]===void 0?void 0:L(arguments[0]),Me=Ve(re),De=function(Xe){this===Ye&&x(De,St,Xe),C(this,q)&&C(this[q],Me)&&(this[q][Me]=!1),Sr(this,Me,U(1,Xe))};return M&&Zt&&Sr(Ye,Me,{configurable:!0,set:De}),qe(Me,re)},ve=nt[xe],Pe(ve,"toString",function(){return tt(this).tag}),Pe(nt,"withoutSetter",function(te){return qe(Ve(te),te)}),me.f=$e,Te.f=Pt,ce.f=ot,R.f=W.f=Je,Q.f=lt,Se.f=function(te){return qe(Be(te),te)},M&&(wt(ve,"description",{configurable:!0,get:function(){return tt(this).description}}),P||Pe(Ye,"propertyIsEnumerable",$e,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:nt}),Y(w(hr),function(te){Ie(te)}),s({target:he,stat:!0,forced:!A},{for:function(te){var re=L(te);if(C(mt,re))return mt[re];var Me=nt(re);return mt[re]=Me,Yt[Me]=re,Me},keyFor:function(re){if(!ie(re))throw ut(re+" is not a symbol");if(C(Yt,re))return Yt[re]},useSetter:function(){Zt=!0},useSimple:function(){Zt=!1}}),s({target:"Object",stat:!0,forced:!A,sham:!M},{create:je,defineProperty:Pt,defineProperties:nr,getOwnPropertyDescriptor:ot}),s({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:Je,getOwnPropertySymbols:lt}),s({target:"Object",stat:!0,forced:D(function(){Q.f(1)})},{getOwnPropertySymbols:function(re){return Q.f(ee(re))}}),_e){var G=!A||D(function(){var te=nt();return _e([te])!="[null]"||_e({a:te})!="{}"||_e(Object(te))!="{}"});s({target:"JSON",stat:!0,forced:G},{stringify:function(re,Me,De){var Xe=Oe(arguments),vt=Me;if(!(!X(Me)&&re===void 0||ie(re)))return B(Me)||(Me=function(Jt,Qt){if(z(vt)&&(Qt=x(vt,this,Jt,Qt)),!ie(Qt))return Qt}),Xe[1]=Me,b(_e,null,Xe)}})}if(!ve[pe]){var V=ve.valueOf;Pe(ve,pe,function(te){return x(V,this)})}ke(nt,he),Le[q]=!0},function(u,c,i){var s=i(146).charAt,f=i(40),y=i(56),b=i(111),x="String Iterator",E=y.set,P=y.getterFor(x);b(String,"String",function(M){E(this,{type:x,string:f(M),index:0})},function(){var A=P(this),D=A.string,C=A.index,B;return C>=D.length?{value:void 0,done:!0}:(B=s(D,C),A.index+=B.length,{value:B,done:!1})})},function(u,c,i){(function(s){var f=function(y){return y&&y.Math==Math&&y};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof s=="object"&&s)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var s=i(16),f=i(36),y=i(7),b=i(15),x=i(34),E=i(28),P=i(58),M=i(40),A=i(37).f,D=i(134),C=y.Symbol,B=C&&C.prototype;if(f&&E(C)&&(!("description"in B)||C().description!==void 0)){var z={},X=function(){var U=arguments.length<1||arguments[0]===void 0?void 0:M(arguments[0]),I=P(B,this)?new C(U):U===void 0?C():C(U);return U===""&&(z[I]=!0),I};D(X,C),X.prototype=B,B.constructor=X;var $=String(C("test"))=="Symbol(test)",ie=b(B.toString),oe=b(B.valueOf),ee=/^Symbol\((.*)\)[^)]+$/,J=b("".replace),ue=b("".slice);A(B,"description",{configurable:!0,get:function(){var U=oe(this),I=ie(U);if(x(z,U))return"";var w=$?ue(I,7,-1):J(I,ee,"$1");return w===""?void 0:w}}),s({global:!0,forced:!0},{Symbol:X})}},function(u,c,i){var s=i(150);s("iterator")},function(u,c,i){i.d(c,"a",function(){return s.a}),i.d(c,"c",function(){return s.e}),i.d(c,"h",function(){return ue}),i.d(c,"i",function(){return $}),i.d(c,"j",function(){return z}),i.d(c,"b",function(){return Pe}),i.d(c,"e",function(){return Ve}),i.d(c,"f",function(){return Ee}),i.d(c,"g",function(){return $e});var s=i(1),f,y,b,x=0,E=[],P=s.i.__b,M=s.i.__r,A=s.i.diffed,D=s.i.__c,C=s.i.unmount;function B(G,V){s.i.__h&&s.i.__h(y,G,x||V),x=0;var te=y.__H||(y.__H={__:[],__h:[]});return G>=te.__.length&&te.__.push({}),te.__[G]}function z(G){return x=1,X(Te,G)}function X(G,V,te){var re=B(f++,2);return re.t=G,re.__c||(re.__=[te?te(V):Te(void 0,V),function(Me){var De=re.t(re.__[0],Me);re.__[0]!==De&&(re.__=[De,re.__[1]],re.__c.setState({}))}],re.__c=y),re.__}function $(G,V){var te=B(f++,3);!s.i.__s&&ce(te.__H,V)&&(te.__=G,te.__H=V,y.__H.__h.push(te))}function ie(G,V){var te=B(f++,4);!s.i.__s&&ce(te.__H,V)&&(te.__=G,te.__H=V,y.__h.push(te))}function oe(G){return x=5,J(function(){return{current:G}},[])}function ee(G,V,te){x=6,ie(function(){typeof G=="function"?G(V()):G&&(G.current=V())},te==null?te:te.concat(G))}function J(G,V){var te=B(f++,7);return ce(te.__H,V)&&(te.__=G(),te.__H=V,te.__h=G),te.__}function ue(G,V){return x=8,J(function(){return G},V)}function L(G){var V=y.context[G.__c],te=B(f++,9);return te.c=G,V?(te.__==null&&(te.__=!0,V.sub(y)),V.props.value):G.__}function U(G,V){s.i.useDebugValue&&s.i.useDebugValue(V?V(G):G)}function I(){var G;for(E.sort(function(V,te){return V.__v.__b-te.__v.__b});G=E.pop();)if(G.__P)try{G.__H.__h.forEach(W),G.__H.__h.forEach(Q),G.__H.__h=[]}catch(V){G.__H.__h=[],s.i.__e(V,G.__v)}}s.i.__b=function(G){y=null,P&&P(G)},s.i.__r=function(G){M&&M(G),f=0;var V=(y=G.__c).__H;V&&(V.__h.forEach(W),V.__h.forEach(Q),V.__h=[])},s.i.diffed=function(G){A&&A(G);var V=G.__c;V&&V.__H&&V.__H.__h.length&&(E.push(V)!==1&&b===s.i.requestAnimationFrame||((b=s.i.requestAnimationFrame)||R)(I)),y=null},s.i.__c=function(G,V){V.some(function(te){try{te.__h.forEach(W),te.__h=te.__h.filter(function(re){return!re.__||Q(re)})}catch(re){V.some(function(Me){Me.__h&&(Me.__h=[])}),V=[],s.i.__e(re,te.__v)}}),D&&D(G,V)},s.i.unmount=function(G){C&&C(G);var V,te=G.__c;te&&te.__H&&(te.__H.__.forEach(function(re){try{W(re)}catch(Me){V=Me}}),V&&s.i.__e(V,te.__v))};var w=typeof requestAnimationFrame=="function";function R(G){var V,te=function(){clearTimeout(re),w&&cancelAnimationFrame(V),setTimeout(G)},re=setTimeout(te,100);w&&(V=requestAnimationFrame(te))}function W(G){var V=y,te=G.__c;typeof te=="function"&&(G.__c=void 0,te()),y=V}function Q(G){var V=y;G.__c=G.__(),y=V}function ce(G,V){return!G||G.length!==V.length||V.some(function(te,re){return te!==G[re]})}function Te(G,V){return typeof V=="function"?V(G):V}function me(G,V){for(var te in V)G[te]=V[te];return G}function Oe(G,V){for(var te in G)if(te!=="__source"&&!(te in V))return!0;for(var re in V)if(re!=="__source"&&G[re]!==V[re])return!0;return!1}function Pe(G){this.props=G}function Ee(G,V){function te(Me){var De=this.props.ref,Xe=De==Me.ref;return!Xe&&De&&(De.call?De(null):De.current=null),V?!V(this.props,Me)||!Xe:Oe(this.props,Me)}function re(Me){return this.shouldComponentUpdate=te,Object(s.e)(G,Me)}return re.displayName="Memo("+(G.displayName||G.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(Pe.prototype=new s.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(G,V){return Oe(this.props,G)||Oe(this.state,V)};var Ne=s.i.__b;s.i.__b=function(G){G.type&&G.type.__f&&G.ref&&(G.props.ref=G.ref,G.ref=null),Ne&&Ne(G)};var Le=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ve(G){function V(te,re){var Me=me({},te);return delete Me.ref,G(Me,!(re=te.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return V.$$typeof=Le,V.render=V,V.prototype.isReactComponent=V.__f=!0,V.displayName="ForwardRef("+(G.displayName||G.name)+")",V}var Be=function(G,V){return G==null?null:Object(s.k)(Object(s.k)(G).map(V))},Se={map:Be,forEach:Be,count:function(G){return G?Object(s.k)(G).length:0},only:function(G){var V=Object(s.k)(G);if(V.length!==1)throw"Children.only";return V[0]},toArray:s.k},Ie=s.i.__e;s.i.__e=function(G,V,te){if(G.then){for(var re,Me=V;Me=Me.__;)if((re=Me.__c)&&re.__c)return V.__e==null&&(V.__e=te.__e,V.__k=te.__k),re.__c(G,V)}Ie(G,V,te)};var ke=s.i.unmount;function k(G,V,te){return G&&(G.__c&&G.__c.__H&&(G.__c.__H.__.forEach(function(re){typeof re.__c=="function"&&re.__c()}),G.__c.__H=null),(G=me({},G)).__c!=null&&(G.__c.__P===te&&(G.__c.__P=V),G.__c=null),G.__k=G.__k&&G.__k.map(function(re){return k(re,V,te)})),G}function Y(G,V,te){return G&&(G.__v=null,G.__k=G.__k&&G.__k.map(function(re){return Y(re,V,te)}),G.__c&&G.__c.__P===V&&(G.__e&&te.insertBefore(G.__e,G.__d),G.__c.__e=!0,G.__c.__P=te)),G}function q(){this.__u=0,this.t=null,this.__b=null}function he(G){var V=G.__.__c;return V&&V.__e&&V.__e(G)}function xe(G){var V,te,re;function Me(De){if(V||(V=G()).then(function(Xe){te=Xe.default||Xe},function(Xe){re=Xe}),re)throw re;if(!te)throw V;return Object(s.e)(te,De)}return Me.displayName="Lazy",Me.__f=!0,Me}function pe(){this.u=null,this.o=null}s.i.unmount=function(G){var V=G.__c;V&&V.__R&&V.__R(),V&&G.__h===!0&&(G.type=null),ke&&ke(G)},(q.prototype=new s.a).__c=function(G,V){var te=V.__c,re=this;re.t==null&&(re.t=[]),re.t.push(te);var Me=he(re.__v),De=!1,Xe=function(){De||(De=!0,te.__R=null,Me?Me(vt):vt())};te.__R=Xe;var vt=function(){if(!--re.__u){if(re.state.__e){var Qt=re.state.__e;re.__v.__k[0]=Y(Qt,Qt.__c.__P,Qt.__c.__O)}var Xn;for(re.setState({__e:re.__b=null});Xn=re.t.pop();)Xn.forceUpdate()}},Jt=V.__h===!0;re.__u++||Jt||re.setState({__e:re.__b=re.__v.__k[0]}),G.then(Xe,Xe)},q.prototype.componentWillUnmount=function(){this.t=[]},q.prototype.render=function(G,V){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=k(this.__b,te,re.__O=re.__P)}this.__b=null}var Me=V.__e&&Object(s.e)(s.b,null,G.fallback);return Me&&(Me.__h=null),[Object(s.e)(s.b,null,V.__e?null:G.children),Me]};var ze=function(G,V,te){if(++te[1]===te[0]&&G.o.delete(V),G.props.revealOrder&&(G.props.revealOrder[0]!=="t"||!G.o.size))for(te=G.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;G.u=te=te[2]}};function tt(G){return this.getChildContext=function(){return G.context},G.children}function Ye(G){var V=this,te=G.i;V.componentWillUnmount=function(){Object(s.j)(null,V.l),V.l=null,V.i=null},V.i&&V.i!==te&&V.componentWillUnmount(),G.__v?(V.l||(V.i=te,V.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(re){this.childNodes.push(re),V.i.appendChild(re)},insertBefore:function(re,Me){this.childNodes.push(re),V.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),V.i.removeChild(re)}}),Object(s.j)(Object(s.e)(tt,{context:V.context},G.__v),V.l)):V.l&&V.componentWillUnmount()}function nt(G,V){return Object(s.e)(Ye,{__v:G,i:V})}(pe.prototype=new s.a).__e=function(G){var V=this,te=he(V.__v),re=V.o.get(G);return re[0]++,function(Me){var De=function(){V.props.revealOrder?(re.push(Me),ze(V,G,re)):Me()};te?te(De):De()}},pe.prototype.render=function(G){this.u=null,this.o=new Map;var V=Object(s.k)(G.children);G.revealOrder&&G.revealOrder[0]==="b"&&V.reverse();for(var te=V.length;te--;)this.o.set(V[te],this.u=[1,0,this.u]);return G.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var G=this;this.o.forEach(function(V,te){ze(G,te,V)})};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,ut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,rt=typeof document!="undefined",_e=function(G){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(G)};function Qe(G,V,te){return V.__k==null&&(V.textContent=""),Object(s.j)(G,V),typeof te=="function"&&te(),G?G.__c:null}function wt(G,V,te){return Object(s.h)(G,V),typeof te=="function"&&te(),G?G.__c:null}s.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(G){Object.defineProperty(s.a.prototype,G,{configurable:!0,get:function(){return this["UNSAFE_"+G]},set:function(V){Object.defineProperty(this,G,{configurable:!0,writable:!0,value:V})}})});var dt=s.i.event;function bt(){}function ne(){return this.cancelBubble}function Ct(){return this.defaultPrevented}s.i.event=function(G){return dt&&(G=dt(G)),G.persist=bt,G.isPropagationStopped=ne,G.isDefaultPrevented=Ct,G.nativeEvent=G};var St,mt={configurable:!0,get:function(){return this.class}},Yt=s.i.vnode;s.i.vnode=function(G){var V=G.type,te=G.props,re=te;if(typeof V=="string"){var Me=V.indexOf("-")===-1;for(var De in re={},te){var Xe=te[De];rt&&De==="children"&&V==="noscript"||De==="value"&&"defaultValue"in te&&Xe==null||(De==="defaultValue"&&"value"in te&&te.value==null?De="value":De==="download"&&Xe===!0?Xe="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+V)&&!_e(te.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():Me&&ut.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Xe===null&&(Xe=void 0),re[De]=Xe)}V=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(s.k)(te.children).forEach(function(vt){vt.props.selected=re.value.indexOf(vt.props.value)!=-1})),V=="select"&&re.defaultValue!=null&&(re.value=Object(s.k)(te.children).forEach(function(vt){vt.props.selected=re.multiple?re.defaultValue.indexOf(vt.props.value)!=-1:re.defaultValue==vt.props.value})),G.props=re,te.class!=te.className&&(mt.enumerable="className"in te,te.className!=null&&(re.class=te.className),Object.defineProperty(re,"className",mt))}G.$$typeof=ve,Yt&&Yt(G)};var hr=s.i.__r;s.i.__r=function(G){hr&&hr(G),St=G.__c};var Zt={ReactCurrentDispatcher:{current:{readContext:function(G){return St.__n[G.__c].props.value}}}};function Sr(G){return s.e.bind(null,G)}function qe(G){return!!G&&G.$$typeof===ve}function Pt(G){return qe(G)?s.c.apply(null,arguments):G}function nr(G){return!!G.__k&&(Object(s.j)(null,G),!0)}function je(G){return G&&(G.base||G.nodeType===1&&G)||null}var $e=function(G,V){return G(V)},ot=function(G,V){return G(V)},Je=s.b,lt={useState:z,useReducer:X,useEffect:$,useLayoutEffect:ie,useRef:oe,useImperativeHandle:ee,useMemo:J,useCallback:ue,useContext:L,useDebugValue:U,version:"17.0.2",Children:Se,render:Qe,hydrate:wt,unmountComponentAtNode:nr,createPortal:nt,createElement:s.e,createContext:s.d,createFactory:Sr,cloneElement:Pt,createRef:s.f,Fragment:s.b,isValidElement:qe,findDOMNode:je,Component:s.a,PureComponent:Pe,memo:Ee,forwardRef:Ve,flushSync:ot,unstable_batchedUpdates:$e,StrictMode:Je,Suspense:q,SuspenseList:pe,lazy:xe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Zt};c.d=lt},function(u,c,i){var s=i(7),f=i(147),y=i(148),b=i(179),x=i(57),E=function(M){if(M&&M.forEach!==b)try{x(M,"forEach",b)}catch(A){M.forEach=b}};for(var P in f)f[P]&&E(s[P]&&s[P].prototype);E(y)},function(u,c,i){var s=i(16),f=i(97);s({target:"Object",stat:!0},{setPrototypeOf:f})},function(u,c,i){var s=i(16),f=i(18),y=i(38),b=i(96),x=i(137),E=f(function(){b(1)});s({target:"Object",stat:!0,forced:E,sham:!x},{getPrototypeOf:function(M){return b(y(M))}})},function(u,c,i){var s=i(16),f=i(46),y=i(76),b=i(199),x=i(157),E=i(32),P=i(33),M=i(54),A=i(18),D=f("Reflect","construct"),C=Object.prototype,B=[].push,z=A(function(){function ie(){}return!(D(function(){},[],ie)instanceof ie)}),X=!A(function(){D(function(){})}),$=z||X;s({target:"Reflect",stat:!0,forced:$,sham:$},{construct:function(oe,ee){x(oe),E(ee);var J=arguments.length<3?oe:x(arguments[2]);if(X&&!z)return D(oe,ee,J);if(oe==J){switch(ee.length){case 0:return new oe;case 1:return new oe(ee[0]);case 2:return new oe(ee[0],ee[1]);case 3:return new oe(ee[0],ee[1],ee[2]);case 4:return new oe(ee[0],ee[1],ee[2],ee[3])}var ue=[null];return y(B,ue,ee),new(y(b,oe,ue))}var L=J.prototype,U=M(P(L)?L:C),I=y(oe,U,ee);return P(I)?I:U}})},function(u,c){var i=Function.prototype,s=i.bind,f=i.call,y=s&&s.bind(f);u.exports=s?function(b){return b&&y(f,b)}:function(b){return b&&function(){return f.apply(b,arguments)}}},function(u,c,i){var s=i(7),f=i(51).f,y=i(57),b=i(44),x=i(108),E=i(134),P=i(95);u.exports=function(M,A){var D=M.target,C=M.global,B=M.stat,z,X,$,ie,oe,ee;if(C?X=s:B?X=s[D]||x(D,{}):X=(s[D]||{}).prototype,X)for($ in A){if(oe=A[$],M.noTargetGet?(ee=f(X,$),ie=ee&&ee.value):ie=X[$],z=P(C?$:D+(B?".":"#")+$,M.forced),!z&&ie!==void 0){if(typeof oe==typeof ie)continue;E(oe,ie)}(M.sham||ie&&ie.sham)&&y(oe,"sham",!0),b(X,$,oe,M)}}},function(u,c,i){var s=i(16),f=i(7),y=i(99),b=i(100),x=i(33),E=i(67),P=i(43),M=i(39),A=i(61),D=i(27),C=i(75),B=i(101),z=C("slice"),X=D("species"),$=f.Array,ie=Math.max;s({target:"Array",proto:!0,forced:!z},{slice:function(ee,J){var ue=M(this),L=P(ue),U=E(ee,L),I=E(J===void 0?L:J,L),w,R,W;if(y(ue)&&(w=ue.constructor,b(w)&&(w===$||y(w.prototype))?w=void 0:x(w)&&(w=w[X],w===null&&(w=void 0)),w===$||w===void 0))return B(ue,U,I);for(R=new(w===void 0?$:w)(ie(I-U,0)),W=0;U<I;U++,W++)U in ue&&A(R,W,ue[U]);return R.length=W,R}})},function(u,c){u.exports=function(i){try{return!!i()}catch(s){return!0}}},function(u,c,i){var s=i(16),f=i(102);s({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(u,c,i){var s=i(16),f=i(38),y=i(66),b=i(18),x=b(function(){y(1)});s({target:"Object",stat:!0,forced:x},{keys:function(P){return y(f(P))}})},function(u,c,i){var s=i(16),f=i(18),y=i(39),b=i(51).f,x=i(36),E=f(function(){b(1)}),P=!x||E;s({target:"Object",stat:!0,forced:P,sham:!x},{getOwnPropertyDescriptor:function(A,D){return b(y(A),D)}})},function(u,c,i){var s=i(16),f=i(74).filter,y=i(75),b=y("filter");s({target:"Array",proto:!0,forced:!b},{filter:function(E){return f(this,E,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(16),f=i(36),y=i(135),b=i(39),x=i(51),E=i(61);s({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(M){for(var A=b(M),D=x.f,C=y(A),B={},z=0,X,$;C.length>z;)$=D(A,X=C[z++]),$!==void 0&&E(B,X,$);return B}})},function(u,c,i){var s=i(36),f=i(94).EXISTS,y=i(15),b=i(37).f,x=Function.prototype,E=y(x.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,M=y(P.exec),A="name";s&&!f&&b(x,A,{configurable:!0,get:function(){try{return M(P,E(this))[1]}catch(D){return""}}})},function(u,c,i){var s=i(16),f=i(182),y=i(118),b=!y(function(x){Array.from(x)});s({target:"Array",stat:!0,forced:b},{from:f})},,function(u,c,i){var s=i(7),f=i(84),y=i(34),b=i(85),x=i(109),E=i(128),P=f("wks"),M=s.Symbol,A=M&&M.for,D=E?M:M&&M.withoutSetter||b;u.exports=function(C){if(!y(P,C)||!(x||typeof P[C]=="string")){var B="Symbol."+C;x&&y(M,C)?P[C]=M[C]:E&&A?P[C]=A(B):P[C]=D(B)}return P[C]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var s=i(16),f=i(7),y=i(18),b=i(99),x=i(33),E=i(38),P=i(43),M=i(61),A=i(119),D=i(75),C=i(27),B=i(65),z=C("isConcatSpreadable"),X=9007199254740991,$="Maximum allowed index exceeded",ie=f.TypeError,oe=B>=51||!y(function(){var L=[];return L[z]=!1,L.concat()[0]!==L}),ee=D("concat"),J=function(L){if(!x(L))return!1;var U=L[z];return U!==void 0?!!U:b(L)},ue=!oe||!ee;s({target:"Array",proto:!0,forced:ue},{concat:function(U){var I=E(this),w=A(I,0),R=0,W,Q,ce,Te,me;for(W=-1,ce=arguments.length;W<ce;W++)if(me=W===-1?I:arguments[W],J(me)){if(Te=P(me),R+Te>X)throw ie($);for(Q=0;Q<Te;Q++,R++)Q in me&&M(w,R,me[Q])}else{if(R>=X)throw ie($);M(w,R++,me)}return w.length=R,w}})},function(u,c,i){var s=i(16),f=i(198);s({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(u,c,i){var s=i(105),f=typeof self=="object"&&self&&self.Object===Object&&self,y=s.a||f||Function("return this")();c.a=y},function(u,c,i){var s=i(7),f=i(33),y=s.String,b=s.TypeError;u.exports=function(x){if(f(x))return x;throw b(y(x)+" is not an object")}},function(u,c,i){var s=i(28);u.exports=function(f){return typeof f=="object"?f!==null:s(f)}},function(u,c,i){var s=i(15),f=i(38),y=s({}.hasOwnProperty);u.exports=Object.hasOwn||function(x,E){return y(f(x),E)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var s=i(7),f=i(36),y=i(129),b=i(32),x=i(87),E=s.TypeError,P=Object.defineProperty;c.f=f?P:function(A,D,C){if(b(A),D=x(D),b(C),y)try{return P(A,D,C)}catch(B){}if("get"in C||"set"in C)throw E("Accessors not supported");return"value"in C&&(A[D]=C.value),A}},function(u,c,i){var s=i(7),f=i(45),y=s.Object;u.exports=function(b){return y(f(b))}},function(u,c,i){var s=i(81),f=i(45);u.exports=function(y){return s(f(y))}},function(u,c,i){var s=i(7),f=i(98),y=s.String;u.exports=function(b){if(f(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(b)}},function(u,c,i){var s=i(16),f=i(74).map,y=i(75),b=y("map");s({target:"Array",proto:!0,forced:!b},{map:function(E){return f(this,E,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(s){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return x}),i.d(c,"b",function(){return E}),i.d(c,"a",function(){return M});var f=i(10),y=function(A,D){var C=typeof Symbol=="function"&&A[Symbol.iterator];if(!C)return A;var B=C.call(A),z,X=[],$;try{for(;(D===void 0||D-- >0)&&!(z=B.next()).done;)X.push(z.value)}catch(ie){$={error:ie}}finally{try{z&&!z.done&&(C=B.return)&&C.call(B)}finally{if($)throw $.error}}return X};function b(){var A=y(Object(f.j)(0),2),D=A[1],C=Object(f.h)(function(){D(function(B){return B+1})},[]);return C}function x(A){if(!A||typeof A!="object")return!1;var D=Object.getPrototypeOf(A);return!D||D===Object.prototype}function E(A){return typeof Symbol=="function"?Symbol.for(A):"__$mobx-react "+A+"__"}var P={};function M(){return typeof window!="undefined"?window:typeof s!="undefined"?s:typeof self!="undefined"?self:P}}).call(this,i(82))},function(u,c,i){var s=i(90);u.exports=function(f){return s(f.length)}},function(u,c,i){var s=i(7),f=i(28),y=i(34),b=i(57),x=i(108),E=i(92),P=i(56),M=i(94).CONFIGURABLE,A=P.get,D=P.enforce,C=String(String).split("String");(u.exports=function(B,z,X,$){var ie=$?!!$.unsafe:!1,oe=$?!!$.enumerable:!1,ee=$?!!$.noTargetGet:!1,J=$&&$.name!==void 0?$.name:z,ue;if(f(X)&&(String(J).slice(0,7)==="Symbol("&&(J="["+String(J).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(X,"name")||M&&X.name!==J)&&b(X,"name",J),ue=D(X),ue.source||(ue.source=C.join(typeof J=="string"?J:""))),B===s){oe?B[z]=X:x(z,X);return}else ie?!ee&&B[z]&&(oe=!0):delete B[z];oe?B[z]=X:b(B,z,X)})(Function.prototype,"toString",function(){return f(this)&&A(this).source||E(this)})},function(u,c,i){var s=i(7),f=s.TypeError;u.exports=function(y){if(y==null)throw f("Can't call method on "+y);return y}},function(u,c,i){var s=i(7),f=i(28),y=function(b){return f(b)?b:void 0};u.exports=function(b,x){return arguments.length<2?y(s[b]):s[b]&&s[b][x]}},function(u,c,i){var s=i(16),f=i(35),y=i(33),b=i(32),x=i(200),E=i(51),P=i(96);function M(A,D){var C=arguments.length<3?A:arguments[2],B,z;if(b(A)===C)return A[D];if(B=E.f(A,D),B)return x(B)?B.value:B.get===void 0?void 0:f(B.get,C);if(y(z=P(A)))return M(z,D,C)}s({target:"Reflect",stat:!0},{get:M})},function(u,c,i){(function(s){var f=i(31),y=i(165),b=v&&!v.nodeType&&v,x=b&&typeof s=="object"&&s&&!s.nodeType&&s,E=x&&x.exports===b,P=E?f.a.Buffer:void 0,M=P?P.isBuffer:void 0,A=M||y.a;c.a=A}).call(this,i(121)(u))},function(u,c,i){(function(s){var f=i(105),y=v&&!v.nodeType&&v,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===y,E=x&&f.a.process,P=function(){try{var M=b&&b.require&&b.require("util").types;return M||E&&E.binding&&E.binding("util")}catch(A){}}();c.a=P}).call(this,i(121)(u))},function(u,c,i){var s=i(15),f=s({}.toString),y=s("".slice);u.exports=function(b){return y(f(b),8,-1)}},function(u,c,i){var s=i(36),f=i(35),y=i(93),b=i(71),x=i(39),E=i(87),P=i(34),M=i(129),A=Object.getOwnPropertyDescriptor;c.f=s?A:function(C,B){if(C=x(C),B=E(B),M)try{return A(C,B)}catch(z){}if(P(C,B))return b(!f(y.f,C,B),C[B])}},function(u,c,i){var s=i(16),f=i(213).entries;s({target:"Object",stat:!0},{entries:function(b){return f(b)}})},function(u,c,i){var s=i(46);u.exports=s("navigator","userAgent")||""},function(u,c,i){var s=i(32),f=i(168),y=i(110),b=i(69),x=i(133),E=i(86),P=i(91),M=">",A="<",D="prototype",C="script",B=P("IE_PROTO"),z=function(){},X=function(J){return A+C+M+J+A+"/"+C+M},$=function(J){J.write(X("")),J.close();var ue=J.parentWindow.Object;return J=null,ue},ie=function(){var J=E("iframe"),ue="java"+C+":",L;return J.style.display="none",x.appendChild(J),J.src=String(ue),L=J.contentWindow.document,L.open(),L.write(X("document.F=Object")),L.close(),L.F},oe,ee=function(){try{oe=new ActiveXObject("htmlfile")}catch(ue){}ee=typeof document!="undefined"?document.domain&&oe?$(oe):ie():$(oe);for(var J=y.length;J--;)delete ee[D][y[J]];return ee()};b[B]=!0,u.exports=Object.create||function(ue,L){var U;return ue!==null?(z[D]=s(ue),U=new z,z[D]=null,U[B]=ue):U=ee(),L===void 0?U:f(U,L)}},function(u,c,i){var s=i(7),f=i(28),y=i(89),b=s.TypeError;u.exports=function(x){if(f(x))return x;throw b(y(x)+" is not a function")}},function(u,c,i){var s=i(170),f=i(7),y=i(15),b=i(33),x=i(57),E=i(34),P=i(107),M=i(91),A=i(69),D="Object already initialized",C=f.TypeError,B=f.WeakMap,z,X,$,ie=function(I){return $(I)?X(I):z(I,{})},oe=function(I){return function(w){var R;if(!b(w)||(R=X(w)).type!==I)throw C("Incompatible receiver, "+I+" required");return R}};if(s||P.state){var ee=P.state||(P.state=new B),J=y(ee.get),ue=y(ee.has),L=y(ee.set);z=function(I,w){if(ue(ee,I))throw new C(D);return w.facade=I,L(ee,I,w),w},X=function(I){return J(ee,I)||{}},$=function(I){return ue(ee,I)}}else{var U=M("state");A[U]=!0,z=function(I,w){if(E(I,U))throw new C(D);return w.facade=I,x(I,U,w),w},X=function(I){return E(I,U)?I[U]:{}},$=function(I){return E(I,U)}}u.exports={set:z,get:X,has:$,enforce:ie,getterFor:oe}},function(u,c,i){var s=i(36),f=i(37),y=i(71);u.exports=s?function(b,x,E){return f.f(b,x,y(1,E))}:function(b,x,E){return b[x]=E,b}},function(u,c,i){var s=i(15);u.exports=s({}.isPrototypeOf)},function(u,c,i){var s=i(55);u.exports=function(f,y){var b=f[y];return b==null?void 0:s(b)}},function(u,c,i){var s=i(173),f=i(177);s("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},f)},function(u,c,i){var s=i(87),f=i(37),y=i(71);u.exports=function(b,x,E){var P=s(x);P in b?f.f(b,P,y(0,E)):b[P]=E}},function(u,c,i){var s=i(15),f=i(55),y=s(s.bind);u.exports=function(b,x){return f(b),x===void 0?b:y?y(b,x):function(){return b.apply(x,arguments)}}},function(u,c,i){var s=i(16),f=i(214),y=i(83);s({target:"Array",proto:!0},{fill:f}),y("fill")},function(u,c){u.exports=!1},function(u,c,i){var s=i(7),f=i(53),y=s.process,b=s.Deno,x=y&&y.versions||b&&b.version,E=x&&x.v8,P,M;E&&(P=E.split("."),M=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!M&&f&&(P=f.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=f.match(/Chrome\/(\d+)/),P&&(M=+P[1]))),u.exports=M},function(u,c,i){var s=i(131),f=i(110);u.exports=Object.keys||function(b){return s(b,f)}},function(u,c,i){var s=i(68),f=Math.max,y=Math.min;u.exports=function(b,x){var E=s(b);return E<0?f(E+x,0):y(E,x)}},function(u,c){var i=Math.ceil,s=Math.floor;u.exports=function(f){var y=+f;return y!==y||y===0?0:(y>0?s:i)(y)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,s){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:s}}},function(u,c,i){var s=i(131),f=i(110),y=f.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(x){return s(x,y)}},function(u,c,i){var s=i(37).f,f=i(34),y=i(27),b=y("toStringTag");u.exports=function(x,E,P){x&&!f(x=P?x:x.prototype,b)&&s(x,b,{configurable:!0,value:E})}},function(u,c,i){var s=i(62),f=i(15),y=i(81),b=i(38),x=i(43),E=i(119),P=f([].push),M=function(A){var D=A==1,C=A==2,B=A==3,z=A==4,X=A==6,$=A==7,ie=A==5||X;return function(oe,ee,J,ue){for(var L=b(oe),U=y(L),I=s(ee,J),w=x(U),R=0,W=ue||E,Q=D?W(oe,w):C||$?W(oe,0):void 0,ce,Te;w>R;R++)if((ie||R in U)&&(ce=U[R],Te=I(ce,R,L),A))if(D)Q[R]=Te;else if(Te)switch(A){case 3:return!0;case 5:return ce;case 6:return R;case 2:P(Q,ce)}else switch(A){case 4:return!1;case 7:P(Q,ce)}return X?-1:B||z?z:Q}};u.exports={forEach:M(0),map:M(1),filter:M(2),some:M(3),every:M(4),find:M(5),findIndex:M(6),filterReject:M(7)}},function(u,c,i){var s=i(18),f=i(27),y=i(65),b=f("species");u.exports=function(x){return y>=51||!s(function(){var E=[],P=E.constructor={};return P[b]=function(){return{foo:1}},E[x](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,s=i.apply,f=i.bind,y=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(f?y.bind(s):function(){return y.apply(s,arguments)})},function(u,c,i){var s=i(16),f=i(15),y=i(81),b=i(39),x=i(120),E=f([].join),P=y!=Object,M=x("join",",");s({target:"Array",proto:!0,forced:P||!M},{join:function(D){return E(b(this),D===void 0?",":D)}})},function(u,c,i){var s=i(76),f=i(35),y=i(15),b=i(122),x=i(154),E=i(32),P=i(45),M=i(156),A=i(123),D=i(90),C=i(40),B=i(59),z=i(113),X=i(124),$=i(102),ie=i(151),oe=i(18),ee=ie.UNSUPPORTED_Y,J=4294967295,ue=Math.min,L=[].push,U=y(/./.exec),I=y(L),w=y("".slice),R=!oe(function(){var W=/(?:)/,Q=W.exec;W.exec=function(){return Q.apply(this,arguments)};var ce="ab".split(W);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});b("split",function(W,Q,ce){var Te;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Te=function(me,Oe){var Pe=C(P(this)),Ee=Oe===void 0?J:Oe>>>0;if(Ee===0)return[];if(me===void 0)return[Pe];if(!x(me))return f(Q,Pe,me,Ee);for(var Ne=[],Le=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ve=0,Be=new RegExp(me.source,Le+"g"),Se,Ie,ke;(Se=f($,Be,Pe))&&(Ie=Be.lastIndex,!(Ie>Ve&&(I(Ne,w(Pe,Ve,Se.index)),Se.length>1&&Se.index<Pe.length&&s(L,Ne,z(Se,1)),ke=Se[0].length,Ve=Ie,Ne.length>=Ee)));)Be.lastIndex===Se.index&&Be.lastIndex++;return Ve===Pe.length?(ke||!U(Be,""))&&I(Ne,""):I(Ne,w(Pe,Ve)),Ne.length>Ee?z(Ne,0,Ee):Ne}:"0".split(void 0,0).length?Te=function(me,Oe){return me===void 0&&Oe===0?[]:f(Q,this,me,Oe)}:Te=Q,[function(Oe,Pe){var Ee=P(this),Ne=Oe==null?void 0:B(Oe,W);return Ne?f(Ne,Oe,Ee,Pe):f(Te,C(Ee),Oe,Pe)},function(me,Oe){var Pe=E(this),Ee=C(me),Ne=ce(Te,Pe,Ee,Oe,Te!==Q);if(Ne.done)return Ne.value;var Le=M(Pe,RegExp),Ve=Pe.unicode,Be=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(ee?"g":"y"),Se=new Le(ee?"^(?:"+Pe.source+")":Pe,Be),Ie=Oe===void 0?J:Oe>>>0;if(Ie===0)return[];if(Ee.length===0)return X(Se,Ee)===null?[Ee]:[];for(var ke=0,k=0,Y=[];k<Ee.length;){Se.lastIndex=ee?0:k;var q=X(Se,ee?w(Ee,k):Ee),he;if(q===null||(he=ue(D(Se.lastIndex+(ee?k:0)),Ee.length))===ke)k=A(Ee,k,Ve);else{if(I(Y,w(Ee,ke,k)),Y.length===Ie)return Y;for(var xe=1;xe<=q.length-1;xe++)if(I(Y,q[xe]),Y.length===Ie)return Y;k=ke=he}}return I(Y,w(Ee,ke)),Y}]},!R,ee)},function(u,c,i){var s=i(36),f=i(7),y=i(15),b=i(95),x=i(44),E=i(34),P=i(143),M=i(58),A=i(88),D=i(130),C=i(18),B=i(72).f,z=i(51).f,X=i(37).f,$=i(196),ie=i(159).trim,oe="Number",ee=f[oe],J=ee.prototype,ue=f.TypeError,L=y("".slice),U=y("".charCodeAt),I=function(Te){var me=D(Te,"number");return typeof me=="bigint"?me:w(me)},w=function(Te){var me=D(Te,"number"),Oe,Pe,Ee,Ne,Le,Ve,Be,Se;if(A(me))throw ue("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=ie(me),Oe=U(me,0),Oe===43||Oe===45){if(Pe=U(me,2),Pe===88||Pe===120)return NaN}else if(Oe===48){switch(U(me,1)){case 66:case 98:Ee=2,Ne=49;break;case 79:case 111:Ee=8,Ne=55;break;default:return+me}for(Le=L(me,2),Ve=Le.length,Be=0;Be<Ve;Be++)if(Se=U(Le,Be),Se<48||Se>Ne)return NaN;return parseInt(Le,Ee)}}return+me};if(b(oe,!ee(" 0o1")||!ee("0b1")||ee("+0x1"))){for(var R=function(me){var Oe=arguments.length<1?0:ee(I(me)),Pe=this;return M(J,Pe)&&C(function(){$(Pe)})?P(Object(Oe),Pe,R):Oe},W=s?B(ee):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Q=0,ce;W.length>Q;Q++)E(ee,ce=W[Q])&&!E(R,ce)&&X(R,ce,z(ee,ce));R.prototype=J,J.constructor=R,x(f,oe,R)}},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var s=i(7),f=i(15),y=i(18),b=i(50),x=s.Object,E=f("".split);u.exports=y(function(){return!x("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?E(P,""):x(P)}:x},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(s){typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var s=i(27),f=i(54),y=i(37),b=s("unscopables"),x=Array.prototype;x[b]==null&&y.f(x,b,{configurable:!0,value:f(null)}),u.exports=function(E){x[b][E]=!0}},function(u,c,i){var s=i(64),f=i(107);(u.exports=function(y,b){return f[y]||(f[y]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:s?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var s=i(15),f=0,y=Math.random(),b=s(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+b(++f+y,36)}},function(u,c,i){var s=i(7),f=i(33),y=s.document,b=f(y)&&f(y.createElement);u.exports=function(x){return b?y.createElement(x):{}}},function(u,c,i){var s=i(130),f=i(88);u.exports=function(y){var b=s(y,"string");return f(b)?b:b+""}},function(u,c,i){var s=i(7),f=i(46),y=i(28),b=i(58),x=i(128),E=s.Object;u.exports=x?function(P){return typeof P=="symbol"}:function(P){var M=f("Symbol");return y(M)&&b(M.prototype,E(P))}},function(u,c,i){var s=i(7),f=s.String;u.exports=function(y){try{return f(y)}catch(b){return"Object"}}},function(u,c,i){var s=i(68),f=Math.min;u.exports=function(y){return y>0?f(s(y),9007199254740991):0}},function(u,c,i){var s=i(84),f=i(85),y=s("keys");u.exports=function(b){return y[b]||(y[b]=f(b))}},function(u,c,i){var s=i(15),f=i(28),y=i(107),b=s(Function.toString);f(y.inspectSource)||(y.inspectSource=function(x){return b(x)}),u.exports=y.inspectSource},function(u,c,i){var s={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,y=f&&!s.call({1:2},1);c.f=y?function(x){var E=f(this,x);return!!E&&E.enumerable}:s},function(u,c,i){var s=i(36),f=i(34),y=Function.prototype,b=s&&Object.getOwnPropertyDescriptor,x=f(y,"name"),E=x&&function(){}.name==="something",P=x&&(!s||s&&b(y,"name").configurable);u.exports={EXISTS:x,PROPER:E,CONFIGURABLE:P}},function(u,c,i){var s=i(18),f=i(28),y=/#|\.prototype\./,b=function(A,D){var C=E[x(A)];return C==M?!0:C==P?!1:f(D)?s(D):!!D},x=b.normalize=function(A){return String(A).replace(y,".").toLowerCase()},E=b.data={},P=b.NATIVE="N",M=b.POLYFILL="P";u.exports=b},function(u,c,i){var s=i(7),f=i(34),y=i(28),b=i(38),x=i(91),E=i(137),P=x("IE_PROTO"),M=s.Object,A=M.prototype;u.exports=E?M.getPrototypeOf:function(D){var C=b(D);if(f(C,P))return C[P];var B=C.constructor;return y(B)&&C instanceof B?B.prototype:C instanceof M?A:null}},function(u,c,i){var s=i(15),f=i(32),y=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,x={},E;try{E=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),E(x,[]),b=x instanceof Array}catch(P){}return function(M,A){return f(M),y(A),b?E(M,A):M.__proto__=A,M}}():void 0)},function(u,c,i){var s=i(7),f=i(116),y=i(28),b=i(50),x=i(27),E=x("toStringTag"),P=s.Object,M=b(function(){return arguments}())=="Arguments",A=function(D,C){try{return D[C]}catch(B){}};u.exports=f?b:function(D){var C,B,z;return D===void 0?"Undefined":D===null?"Null":typeof(B=A(C=P(D),E))=="string"?B:M?b(C):(z=b(C))=="Object"&&y(C.callee)?"Arguments":z}},function(u,c,i){var s=i(50);u.exports=Array.isArray||function(y){return s(y)=="Array"}},function(u,c,i){var s=i(15),f=i(18),y=i(28),b=i(98),x=i(46),E=i(92),P=function(){},M=[],A=x("Reflect","construct"),D=/^\s*(?:class|function)\b/,C=s(D.exec),B=!D.exec(P),z=function($){if(!y($))return!1;try{return A(P,M,$),!0}catch(ie){return!1}},X=function($){if(!y($))return!1;switch(b($)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return B||!!C(D,E($))};u.exports=!A||f(function(){var $;return z(z.call)||!z(Object)||!z(function(){$=!0})||$})?X:z},function(u,c,i){var s=i(15);u.exports=s([].slice)},function(u,c,i){var s=i(35),f=i(15),y=i(40),b=i(184),x=i(151),E=i(84),P=i(54),M=i(56).get,A=i(185),D=i(186),C=E("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,z=B,X=f("".charAt),$=f("".indexOf),ie=f("".replace),oe=f("".slice),ee=function(){var U=/a/,I=/b*/g;return s(B,U,"a"),s(B,I,"a"),U.lastIndex!==0||I.lastIndex!==0}(),J=x.BROKEN_CARET,ue=/()??/.exec("")[1]!==void 0,L=ee||ue||J||A||D;L&&(z=function(I){var w=this,R=M(w),W=y(I),Q=R.raw,ce,Te,me,Oe,Pe,Ee,Ne;if(Q)return Q.lastIndex=w.lastIndex,ce=s(z,Q,W),w.lastIndex=Q.lastIndex,ce;var Le=R.groups,Ve=J&&w.sticky,Be=s(b,w),Se=w.source,Ie=0,ke=W;if(Ve&&(Be=ie(Be,"y",""),$(Be,"g")===-1&&(Be+="g"),ke=oe(W,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&X(W,w.lastIndex-1)!==`
`)&&(Se="(?: "+Se+")",ke=" "+ke,Ie++),Te=new RegExp("^(?:"+Se+")",Be)),ue&&(Te=new RegExp("^"+Se+"$(?!\\s)",Be)),ee&&(me=w.lastIndex),Oe=s(B,Ve?Te:w,ke),Ve?Oe?(Oe.input=oe(Oe.input,Ie),Oe[0]=oe(Oe[0],Ie),Oe.index=w.lastIndex,w.lastIndex+=Oe[0].length):w.lastIndex=0:ee&&Oe&&(w.lastIndex=w.global?Oe.index+Oe[0].length:me),ue&&Oe&&Oe.length>1&&s(C,Oe[0],Te,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(Oe[Pe]=void 0)}),Oe&&Le)for(Oe.groups=Ee=P(null),Pe=0;Pe<Le.length;Pe++)Ne=Le[Pe],Ee[Ne[0]]=Oe[Ne[1]];return Oe}),u.exports=z},function(u,c,i){var s=i(16),f=i(7),y=i(67),b=i(68),x=i(43),E=i(38),P=i(119),M=i(61),A=i(75),D=A("splice"),C=f.TypeError,B=Math.max,z=Math.min,X=9007199254740991,$="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!D},{splice:function(oe,ee){var J=E(this),ue=x(J),L=y(oe,ue),U=arguments.length,I,w,R,W,Q,ce;if(U===0?I=w=0:U===1?(I=0,w=ue-L):(I=U-2,w=z(B(b(ee),0),ue-L)),ue+I-w>X)throw C($);for(R=P(J,w),W=0;W<w;W++)Q=L+W,Q in J&&M(R,W,J[Q]);if(R.length=w,I<w){for(W=L;W<ue-w;W++)Q=W+w,ce=W+I,Q in J?J[ce]=J[Q]:delete J[ce];for(W=ue;W>ue-w+I;W--)delete J[W-1]}else if(I>w)for(W=ue-w;W>L;W--)Q=W+w-1,ce=W+I-1,Q in J?J[ce]=J[Q]:delete J[ce];for(W=0;W<I;W++)J[W+L]=arguments[W+2];return J.length=ue-w+I,R}})},function(u,c,i){var s=i(16),f=i(201),y=i(202);s({target:"String",proto:!0,forced:y("anchor")},{anchor:function(x){return f(this,"a","name",x)}})},function(u,c,i){(function(s){var f=typeof s=="object"&&s&&s.Object===Object&&s;c.a=f}).call(this,i(82))},function(u,c,i){(function(s){var f=i(31),y=v&&!v.nodeType&&v,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===y,E=x?f.a.Buffer:void 0,P=E?E.allocUnsafe:void 0;function M(A,D){if(D)return A.slice();var C=A.length,B=P?P(C):new A.constructor(C);return A.copy(B),B}c.a=M}).call(this,i(121)(u))},function(u,c,i){var s=i(7),f=i(108),y="__core-js_shared__",b=s[y]||f(y,{});u.exports=b},function(u,c,i){var s=i(7),f=Object.defineProperty;u.exports=function(y,b){try{f(s,y,{value:b,configurable:!0,writable:!0})}catch(x){s[y]=b}return b}},function(u,c,i){var s=i(65),f=i(18);u.exports=!!Object.getOwnPropertySymbols&&!f(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&s&&s<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var s=i(16),f=i(35),y=i(64),b=i(94),x=i(28),E=i(171),P=i(96),M=i(97),A=i(73),D=i(57),C=i(44),B=i(27),z=i(70),X=i(136),$=b.PROPER,ie=b.CONFIGURABLE,oe=X.IteratorPrototype,ee=X.BUGGY_SAFARI_ITERATORS,J=B("iterator"),ue="keys",L="values",U="entries",I=function(){return this};u.exports=function(w,R,W,Q,ce,Te,me){E(W,R,Q);var Oe=function(k){if(k===ce&&Ve)return Ve;if(!ee&&k in Ne)return Ne[k];switch(k){case ue:return function(){return new W(this,k)};case L:return function(){return new W(this,k)};case U:return function(){return new W(this,k)}}return function(){return new W(this)}},Pe=R+" Iterator",Ee=!1,Ne=w.prototype,Le=Ne[J]||Ne["@@iterator"]||ce&&Ne[ce],Ve=!ee&&Le||Oe(ce),Be=R=="Array"&&Ne.entries||Le,Se,Ie,ke;if(Be&&(Se=P(Be.call(new w)),Se!==Object.prototype&&Se.next&&(!y&&P(Se)!==oe&&(M?M(Se,oe):x(Se[J])||C(Se,J,I)),A(Se,Pe,!0,!0),y&&(z[Pe]=I))),$&&ce==L&&Le&&Le.name!==L&&(!y&&ie?D(Ne,"name",L):(Ee=!0,Ve=function(){return f(Le,this)})),ce)if(Ie={values:Oe(L),keys:Te?Ve:Oe(ue),entries:Oe(U)},me)for(ke in Ie)(ee||Ee||!(ke in Ne))&&C(Ne,ke,Ie[ke]);else s({target:R,proto:!0,forced:ee||Ee},Ie);return(!y||me)&&Ne[J]!==Ve&&C(Ne,J,Ve,{name:ce}),z[R]=Ve,Ie}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var s=i(7),f=i(67),y=i(43),b=i(61),x=s.Array,E=Math.max;u.exports=function(P,M,A){for(var D=y(P),C=f(M,D),B=f(A===void 0?D:A,D),z=x(E(B-C,0)),X=0;C<B;C++,X++)b(z,X,P[C]);return z.length=X,z}},function(u,c,i){var s=i(7),f=i(62),y=i(35),b=i(32),x=i(89),E=i(140),P=i(43),M=i(58),A=i(141),D=i(115),C=i(142),B=s.TypeError,z=function($,ie){this.stopped=$,this.result=ie},X=z.prototype;u.exports=function($,ie,oe){var ee=oe&&oe.that,J=!!(oe&&oe.AS_ENTRIES),ue=!!(oe&&oe.IS_ITERATOR),L=!!(oe&&oe.INTERRUPTED),U=f(ie,ee),I,w,R,W,Q,ce,Te,me=function(Pe){return I&&C(I,"normal",Pe),new z(!0,Pe)},Oe=function(Pe){return J?(b(Pe),L?U(Pe[0],Pe[1],me):U(Pe[0],Pe[1])):L?U(Pe,me):U(Pe)};if(ue)I=$;else{if(w=D($),!w)throw B(x($)+" is not iterable");if(E(w)){for(R=0,W=P($);W>R;R++)if(Q=Oe($[R]),Q&&M(X,Q))return Q;return new z(!1)}I=A($,w)}for(ce=I.next;!(Te=y(ce,I)).done;){try{Q=Oe(Te.value)}catch(Pe){C(I,"throw",Pe)}if(typeof Q=="object"&&Q&&M(X,Q))return Q}return new z(!1)}},function(u,c,i){var s=i(98),f=i(59),y=i(70),b=i(27),x=b("iterator");u.exports=function(E){if(E!=null)return f(E,x)||f(E,"@@iterator")||y[s(E)]}},function(u,c,i){var s=i(27),f=s("toStringTag"),y={};y[f]="z",u.exports=String(y)==="[object z]"},function(u,c,i){var s=i(7),f=i(58),y=s.TypeError;u.exports=function(b,x){if(f(x,b))return b;throw y("Incorrect invocation")}},function(u,c,i){var s=i(27),f=s("iterator"),y=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){y=!0}};x[f]=function(){return this},Array.from(x,function(){throw 2})}catch(E){}u.exports=function(E,P){if(!P&&!y)return!1;var M=!1;try{var A={};A[f]=function(){return{next:function(){return{done:M=!0}}}},E(A)}catch(D){}return M}},function(u,c,i){var s=i(180);u.exports=function(f,y){return new(s(f))(y===0?0:y)}},function(u,c,i){var s=i(18);u.exports=function(f,y){var b=[][f];return!!b&&s(function(){b.call(null,y||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var s=Object.create(i);s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),Object.defineProperty(s,"exports",{enumerable:!0}),s.webpackPolyfill=1}return s}},function(u,c,i){i(19);var s=i(15),f=i(44),y=i(102),b=i(18),x=i(27),E=i(57),P=x("species"),M=RegExp.prototype;u.exports=function(A,D,C,B){var z=x(A),X=!b(function(){var ee={};return ee[z]=function(){return 7},""[A](ee)!=7}),$=X&&!b(function(){var ee=!1,J=/a/;return A==="split"&&(J={},J.constructor={},J.constructor[P]=function(){return J},J.flags="",J[z]=/./[z]),J.exec=function(){return ee=!0,null},J[z](""),!ee});if(!X||!$||C){var ie=s(/./[z]),oe=D(z,""[A],function(ee,J,ue,L,U){var I=s(ee),w=J.exec;return w===y||w===M.exec?X&&!U?{done:!0,value:ie(J,ue,L)}:{done:!0,value:I(ue,J,L)}:{done:!1}});f(String.prototype,A,oe[0]),f(M,z,oe[1])}B&&E(M[z],"sham",!0)}},function(u,c,i){var s=i(146).charAt;u.exports=function(f,y,b){return y+(b?s(f,y).length:1)}},function(u,c,i){var s=i(7),f=i(35),y=i(32),b=i(28),x=i(50),E=i(102),P=s.TypeError;u.exports=function(M,A){var D=M.exec;if(b(D)){var C=f(D,M,A);return C!==null&&y(C),C}if(x(M)==="RegExp")return f(E,M,A);throw P("RegExp#exec called on incompatible receiver")}},function(u,c,i){var s=i(76),f=i(35),y=i(15),b=i(122),x=i(18),E=i(32),P=i(28),M=i(68),A=i(90),D=i(40),C=i(45),B=i(123),z=i(59),X=i(197),$=i(124),ie=i(27),oe=ie("replace"),ee=Math.max,J=Math.min,ue=y([].concat),L=y([].push),U=y("".indexOf),I=y("".slice),w=function(ce){return ce===void 0?ce:String(ce)},R=function(){return"a".replace(/./,"$0")==="$0"}(),W=function(){return/./[oe]?/./[oe]("a","$0")==="":!1}(),Q=!x(function(){var ce=/./;return ce.exec=function(){var Te=[];return Te.groups={a:"7"},Te},"".replace(ce,"$<a>")!=="7"});b("replace",function(ce,Te,me){var Oe=W?"$":"$0";return[function(Ee,Ne){var Le=C(this),Ve=Ee==null?void 0:z(Ee,oe);return Ve?f(Ve,Ee,Le,Ne):f(Te,D(Le),Ee,Ne)},function(Pe,Ee){var Ne=E(this),Le=D(Pe);if(typeof Ee=="string"&&U(Ee,Oe)===-1&&U(Ee,"$<")===-1){var Ve=me(Te,Ne,Le,Ee);if(Ve.done)return Ve.value}var Be=P(Ee);Be||(Ee=D(Ee));var Se=Ne.global;if(Se){var Ie=Ne.unicode;Ne.lastIndex=0}for(var ke=[];;){var k=$(Ne,Le);if(k===null||(L(ke,k),!Se))break;var Y=D(k[0]);Y===""&&(Ne.lastIndex=B(Le,A(Ne.lastIndex),Ie))}for(var q="",he=0,xe=0;xe<ke.length;xe++){k=ke[xe];for(var pe=D(k[0]),ze=ee(J(M(k.index),Le.length),0),tt=[],Ye=1;Ye<k.length;Ye++)L(tt,w(k[Ye]));var nt=k.groups;if(Be){var ve=ue([pe],tt,ze,Le);nt!==void 0&&L(ve,nt);var ut=D(s(Ee,void 0,ve))}else ut=X(pe,Le,ze,tt,nt,Ee);ze>=he&&(q+=I(Le,he,ze)+ut,he=ze+pe.length)}return q+I(Le,he)}]},!Q||!R||W)},function(u,c,i){var s=i(50),f=i(7);u.exports=s(f.process)=="process"},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var s=i(109);u.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var s=i(36),f=i(18),y=i(86);u.exports=!s&&!f(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var s=i(7),f=i(35),y=i(33),b=i(88),x=i(59),E=i(169),P=i(27),M=s.TypeError,A=P("toPrimitive");u.exports=function(D,C){if(!y(D)||b(D))return D;var B=x(D,A),z;if(B){if(C===void 0&&(C="default"),z=f(B,D,C),!y(z)||b(z))return z;throw M("Can't convert object to primitive value")}return C===void 0&&(C="number"),E(D,C)}},function(u,c,i){var s=i(15),f=i(34),y=i(39),b=i(132).indexOf,x=i(69),E=s([].push);u.exports=function(P,M){var A=y(P),D=0,C=[],B;for(B in A)!f(x,B)&&f(A,B)&&E(C,B);for(;M.length>D;)f(A,B=M[D++])&&(~b(C,B)||E(C,B));return C}},function(u,c,i){var s=i(39),f=i(67),y=i(43),b=function(x){return function(E,P,M){var A=s(E),D=y(A),C=f(M,D),B;if(x&&P!=P){for(;D>C;)if(B=A[C++],B!=B)return!0}else for(;D>C;C++)if((x||C in A)&&A[C]===P)return x||C||0;return!x&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var s=i(46);u.exports=s("document","documentElement")},function(u,c,i){var s=i(34),f=i(135),y=i(51),b=i(37);u.exports=function(x,E){for(var P=f(E),M=b.f,A=y.f,D=0;D<P.length;D++){var C=P[D];s(x,C)||M(x,C,A(E,C))}}},function(u,c,i){var s=i(46),f=i(15),y=i(72),b=i(112),x=i(32),E=f([].concat);u.exports=s("Reflect","ownKeys")||function(M){var A=y.f(x(M)),D=b.f;return D?E(A,D(M)):A}},function(u,c,i){var s=i(18),f=i(28),y=i(54),b=i(96),x=i(44),E=i(27),P=i(64),M=E("iterator"),A=!1,D,C,B;[].keys&&(B=[].keys(),"next"in B?(C=b(b(B)),C!==Object.prototype&&(D=C)):A=!0);var z=D==null||s(function(){var X={};return D[M].call(X)!==X});z?D={}:P&&(D=y(D)),f(D[M])||x(D,M,function(){return this}),u.exports={IteratorPrototype:D,BUGGY_SAFARI_ITERATORS:A}},function(u,c,i){var s=i(18);u.exports=!s(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(u,c,i){var s=i(16),f=i(15),y=i(69),b=i(33),x=i(34),E=i(37).f,P=i(72),M=i(139),A=i(174),D=i(85),C=i(176),B=!1,z=D("meta"),X=0,$=function(L){E(L,z,{value:{objectID:"O"+X++,weakData:{}}})},ie=function(L,U){if(!b(L))return typeof L=="symbol"?L:(typeof L=="string"?"S":"P")+L;if(!x(L,z)){if(!A(L))return"F";if(!U)return"E";$(L)}return L[z].objectID},oe=function(L,U){if(!x(L,z)){if(!A(L))return!0;if(!U)return!1;$(L)}return L[z].weakData},ee=function(L){return C&&B&&A(L)&&!x(L,z)&&$(L),L},J=function(){ue.enable=function(){},B=!0;var L=P.f,U=f([].splice),I={};I[z]=1,L(I).length&&(P.f=function(w){for(var R=L(w),W=0,Q=R.length;W<Q;W++)if(R[W]===z){U(R,W,1);break}return R},s({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:M.f}))},ue=u.exports={enable:J,fastKey:ie,getWeakData:oe,onFreeze:ee};y[z]=!0},function(u,c,i){var s=i(50),f=i(39),y=i(72).f,b=i(113),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],E=function(P){try{return y(P)}catch(M){return b(x)}};u.exports.f=function(M){return x&&s(M)=="Window"?E(M):y(f(M))}},function(u,c,i){var s=i(27),f=i(70),y=s("iterator"),b=Array.prototype;u.exports=function(x){return x!==void 0&&(f.Array===x||b[y]===x)}},function(u,c,i){var s=i(7),f=i(35),y=i(55),b=i(32),x=i(89),E=i(115),P=s.TypeError;u.exports=function(M,A){var D=arguments.length<2?E(M):A;if(y(D))return b(f(D,M));throw P(x(M)+" is not iterable")}},function(u,c,i){var s=i(35),f=i(32),y=i(59);u.exports=function(b,x,E){var P,M;f(b);try{if(P=y(b,"return"),!P){if(x==="throw")throw E;return E}P=s(P,b)}catch(A){M=!0,P=A}if(x==="throw")throw E;if(M)throw P;return f(P),E}},function(u,c,i){var s=i(28),f=i(33),y=i(97);u.exports=function(b,x,E){var P,M;return y&&s(P=x.constructor)&&P!==E&&f(M=P.prototype)&&M!==E.prototype&&y(b,M),b}},function(u,c,i){var s=i(44);u.exports=function(f,y,b){for(var x in y)s(f,x,y[x],b);return f}},function(u,c,i){var s=i(46),f=i(37),y=i(27),b=i(36),x=y("species");u.exports=function(E){var P=s(E),M=f.f;b&&P&&!P[x]&&M(P,x,{configurable:!0,get:function(){return this}})}},function(u,c,i){var s=i(15),f=i(68),y=i(40),b=i(45),x=s("".charAt),E=s("".charCodeAt),P=s("".slice),M=function(A){return function(D,C){var B=y(b(D)),z=f(C),X=B.length,$,ie;return z<0||z>=X?A?"":void 0:($=E(B,z),$<55296||$>56319||z+1===X||(ie=E(B,z+1))<56320||ie>57343?A?x(B,z):$:A?P(B,z,z+2):($-55296<<10)+(ie-56320)+65536)}};u.exports={codeAt:M(!1),charAt:M(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var s=i(86),f=s("span").classList,y=f&&f.constructor&&f.constructor.prototype;u.exports=y===Object.prototype?void 0:y},function(u,c,i){var s=i(27);c.f=s},function(u,c,i){var s=i(181),f=i(34),y=i(149),b=i(37).f;u.exports=function(x){var E=s.Symbol||(s.Symbol={});f(E,x)||b(E,x,{value:y.f(x)})}},function(u,c,i){var s=i(18),f=i(7),y=f.RegExp,b=s(function(){var P=y("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),x=b||s(function(){return!y("a","y").sticky}),E=b||s(function(){var P=y("^r","gy");return P.lastIndex=2,P.exec("str")!=null});u.exports={BROKEN_CARET:E,MISSED_STICKY:x,UNSUPPORTED_Y:b}},function(u,c,i){var s=i(16),f=i(132).includes,y=i(83);s({target:"Array",proto:!0},{includes:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(u,c,i){var s=i(16),f=i(15),y=i(193),b=i(45),x=i(40),E=i(194),P=f("".indexOf);s({target:"String",proto:!0,forced:!E("includes")},{includes:function(A){return!!~P(x(b(this)),x(y(A)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(33),f=i(50),y=i(27),b=y("match");u.exports=function(x){var E;return s(x)&&((E=x[b])!==void 0?!!E:f(x)=="RegExp")}},function(u,c){var i=u.exports={},s,f;function y(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=y}catch($){s=y}try{typeof clearTimeout=="function"?f=clearTimeout:f=b}catch($){f=b}})();function x($){if(s===setTimeout)return setTimeout($,0);if((s===y||!s)&&setTimeout)return s=setTimeout,setTimeout($,0);try{return s($,0)}catch(ie){try{return s.call(null,$,0)}catch(oe){return s.call(this,$,0)}}}function E($){if(f===clearTimeout)return clearTimeout($);if((f===b||!f)&&clearTimeout)return f=clearTimeout,clearTimeout($);try{return f($)}catch(ie){try{return f.call(null,$)}catch(oe){return f.call(this,$)}}}var P=[],M=!1,A,D=-1;function C(){!M||!A||(M=!1,A.length?P=A.concat(P):D=-1,P.length&&B())}function B(){if(!M){var $=x(C);M=!0;for(var ie=P.length;ie;){for(A=P,P=[];++D<ie;)A&&A[D].run();D=-1,ie=P.length}A=null,M=!1,E($)}}i.nextTick=function($){var ie=new Array(arguments.length-1);if(arguments.length>1)for(var oe=1;oe<arguments.length;oe++)ie[oe-1]=arguments[oe];P.push(new z($,ie)),P.length===1&&!M&&x(B)};function z($,ie){this.fun=$,this.array=ie}z.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function X(){}i.on=X,i.addListener=X,i.once=X,i.off=X,i.removeListener=X,i.removeAllListeners=X,i.emit=X,i.prependListener=X,i.prependOnceListener=X,i.listeners=function($){return[]},i.binding=function($){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function($){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var s=i(32),f=i(157),y=i(27),b=y("species");u.exports=function(x,E){var P=s(x).constructor,M;return P===void 0||(M=s(P)[b])==null?E:f(M)}},function(u,c,i){var s=i(7),f=i(100),y=i(89),b=s.TypeError;u.exports=function(x){if(f(x))return x;throw b(y(x)+" is not a constructor")}},function(u,c,i){var s=i(16),f=i(159).trim,y=i(195);s({target:"String",proto:!0,forced:y("trim")},{trim:function(){return f(this)}})},function(u,c,i){var s=i(15),f=i(45),y=i(40),b=i(160),x=s("".replace),E="["+b+"]",P=RegExp("^"+E+E+"*"),M=RegExp(E+E+"*$"),A=function(D){return function(C){var B=y(f(C));return D&1&&(B=x(B,P,"")),D&2&&(B=x(B,M,"")),B}};u.exports={start:A(1),end:A(2),trim:A(3)}},function(u,c){u.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(u,c,i){var s=i(35),f=i(122),y=i(32),b=i(90),x=i(40),E=i(45),P=i(59),M=i(123),A=i(124);f("match",function(D,C,B){return[function(X){var $=E(this),ie=X==null?void 0:P(X,D);return ie?s(ie,X,$):new RegExp(X)[D](x($))},function(z){var X=y(this),$=x(z),ie=B(C,X,$);if(ie.done)return ie.value;if(!X.global)return A(X,$);var oe=X.unicode;X.lastIndex=0;for(var ee=[],J=0,ue;(ue=A(X,$))!==null;){var L=x(ue[0]);ee[J]=L,L===""&&(X.lastIndex=M($,b(X.lastIndex),oe)),J++}return J===0?null:ee}]})},function(u,c,i){var s=i(7),f=i(76),y=i(62),b=i(28),x=i(34),E=i(18),P=i(133),M=i(101),A=i(86),D=i(163),C=i(126),B=s.setImmediate,z=s.clearImmediate,X=s.process,$=s.Dispatch,ie=s.Function,oe=s.MessageChannel,ee=s.String,J=0,ue={},L="onreadystatechange",U,I,w,R;try{U=s.location}catch(me){}var W=function(me){if(x(ue,me)){var Oe=ue[me];delete ue[me],Oe()}},Q=function(me){return function(){W(me)}},ce=function(me){W(me.data)},Te=function(me){s.postMessage(ee(me),U.protocol+"//"+U.host)};(!B||!z)&&(B=function(Oe){var Pe=M(arguments,1);return ue[++J]=function(){f(b(Oe)?Oe:ie(Oe),void 0,Pe)},I(J),J},z=function(Oe){delete ue[Oe]},C?I=function(me){X.nextTick(Q(me))}:$&&$.now?I=function(me){$.now(Q(me))}:oe&&!D?(w=new oe,R=w.port2,w.port1.onmessage=ce,I=y(R.postMessage,R)):s.addEventListener&&b(s.postMessage)&&!s.importScripts&&U&&U.protocol!=="file:"&&!E(Te)?(I=Te,s.addEventListener("message",ce,!1)):L in A("script")?I=function(me){P.appendChild(A("script"))[L]=function(){P.removeChild(this),W(me)}}:I=function(me){setTimeout(Q(me),0)}),u.exports={set:B,clear:z}},function(u,c,i){var s=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},function(u,c,i){var s=i(55),f=function(y){var b,x;this.promise=new y(function(E,P){if(b!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");b=E,x=P}),this.resolve=s(b),this.reject=s(x)};u.exports.f=function(y){return new f(y)}},function(u,c,i){function s(){return!1}c.a=s},function(u,c,i){(function(s){i.d(c,"a",function(){return J});var f=i(0);function y(L){throw new Error("[mobx-utils] "+L)}function b(L,U){U===void 0&&(U="Illegal state"),L||y(U)}var x=function(L){return L&&L!==Object.prototype&&Object.getOwnPropertyNames(L).concat(x(Object.getPrototypeOf(L))||[])},E=function(L){var U=x(L),I=U.filter(function(w,R){return U.indexOf(w)===R});return I},P=function(L){return E(L).filter(function(U){return U!=="constructor"&&!~U.indexOf("__")})},M="pending",A="fulfilled",D="rejected";function C(L){switch(this.state){case M:return L.pending&&L.pending(this.value);case D:return L.rejected&&L.rejected(this.value);case A:return L.fulfilled?L.fulfilled(this.value):this.value}}function B(L,U){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof L=="function"||typeof L=="object"&&L&&typeof L.then=="function","Please pass a promise or function to fromPromise"),L.isPromiseBasedObservable===!0)return L;typeof L=="function"&&(L=new Promise(L));var I=L;L.then(Object(f.k)("observableFromPromise-resolve",function(R){I.value=R,I.state=A}),Object(f.k)("observableFromPromise-reject",function(R){I.value=R,I.state=D})),I.isPromiseBasedObservable=!0,I.case=C;var w=U&&U.state===A?U.value:void 0;return Object(f.q)(I,{value:w,state:M},{},{deep:!1}),I}(function(L){L.reject=Object(f.k)("fromPromise.reject",function(I){var w=L(Promise.reject(I));return w.state=D,w.value=I,w});function U(I){I===void 0&&(I=void 0);var w=L(Promise.resolve(I));return w.state=A,w.value=I,w}L.resolve=Object(f.k)("fromPromise.resolve",U)})(B||(B={}));var z=function(L,U,I,w){var R=arguments.length,W=R<3?U:w===null?w=Object.getOwnPropertyDescriptor(U,I):w,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,U,I,w);else for(var ce=L.length-1;ce>=0;ce--)(Q=L[ce])&&(W=(R<3?Q(W):R>3?Q(U,I,W):Q(U,I))||W);return R>3&&W&&Object.defineProperty(U,I,W),W};(function(){function L(U,I){var w=this;Object(f.G)(function(){w.current=I,w.subscription=U.subscribe(w)})}return L.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},L.prototype.next=function(U){this.current=U},L.prototype.complete=function(){this.dispose()},L.prototype.error=function(U){this.current=U,this.dispose()},z([f.C.ref],L.prototype,"current",void 0),z([f.k.bound],L.prototype,"next",null),z([f.k.bound],L.prototype,"complete",null),z([f.k.bound],L.prototype,"error",null),L})();var X=function(){return X=Object.assign||function(L){for(var U,I=1,w=arguments.length;I<w;I++){U=arguments[I];for(var R in U)Object.prototype.hasOwnProperty.call(U,R)&&(L[R]=U[R])}return L},X.apply(this,arguments)},$=function(L,U,I,w){var R=arguments.length,W=R<3?U:w===null?w=Object.getOwnPropertyDescriptor(U,I):w,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,U,I,w);else for(var ce=L.length-1;ce>=0;ce--)(Q=L[ce])&&(W=(R<3?Q(W):R>3?Q(U,I,W):Q(U,I))||W);return R>3&&W&&Object.defineProperty(U,I,W),W},ie=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function L(U){var I=this;this.model=U,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(w){return I.localValues.has(w)},b(Object(f.A)(U),"createViewModel expects an observable object"),P(U).forEach(function(w){if(!(w===f.a||w==="__mobxDidRunLazyInitializers")){if(b(ie.indexOf(w)===-1,"The propertyname "+w+" is reserved and cannot be used with viewModels"),Object(f.w)(U,w)){var R=Object(f.h)(U,w).derivation;I.localComputedValues.set(w,Object(f.m)(R.bind(I)))}var W=Object.getOwnPropertyDescriptor(U,w),Q=W?{enumerable:W.enumerable}:{};Object.defineProperty(I,w,X(X({},Q),{configurable:!0,get:function(){return Object(f.w)(U,w)?I.localComputedValues.get(w).get():I.isPropertyDirty(w)?I.localValues.get(w):I.model[w]},set:Object(f.k)(function(ce){ce!==I.model[w]?I.localValues.set(w,ce):I.localValues.delete(w)})}))}})}return Object.defineProperty(L.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),L.prototype.submit=function(){var U=this;Object(f.B)(this.localValues).forEach(function(I){var w=U.localValues.get(I),R=U.model[I];Object(f.y)(R)?R.replace(w):Object(f.z)(R)?(R.clear(),R.merge(w)):Object(f.v)(w)||(U.model[I]=w)}),this.localValues.clear()},L.prototype.reset=function(){this.localValues.clear()},L.prototype.resetProperty=function(U){this.localValues.delete(U)},$([f.m],L.prototype,"isDirty",null),$([f.m],L.prototype,"changedValues",null),$([f.k.bound],L.prototype,"submit",null),$([f.k.bound],L.prototype,"reset",null),$([f.k.bound],L.prototype,"resetProperty",null),L})();function oe(L){if(!L)return"ROOT";for(var U=[];L.parent;)U.push(L.path),L=L.parent;return U.reverse().join("/")}function ee(L){return Object(f.A)(L)||Object(f.y)(L)||Object(f.z)(L)}function J(L,U){var I=new WeakMap;function w(ce){var Te=I.get(ce.object);R(ce,Te),U(ce,oe(Te),L)}function R(ce,Te){switch(ce.type){case"add":W(ce.newValue,Te,ce.name);break;case"update":Q(ce.oldValue),W(ce.newValue,Te,ce.name||""+ce.index);break;case"remove":case"delete":Q(ce.oldValue);break;case"splice":ce.removed.map(Q),ce.added.forEach(function(Pe,Ee){return W(Pe,Te,""+(ce.index+Ee))});for(var me=ce.index+ce.addedCount;me<ce.object.length;me++)if(ee(ce.object[me])){var Oe=I.get(ce.object[me]);Oe&&(Oe.path=""+me)}break}}function W(ce,Te,me){if(ee(ce)){var Oe=I.get(ce);if(Oe){if(Oe.parent!==Te||Oe.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+oe(Te)+"/"+me+"',")+(" but it already exists at '"+oe(Oe.parent)+"/"+Oe.path+"'"))}else{var Pe={parent:Te,path:me,dispose:Object(f.D)(ce,w)};I.set(ce,Pe),Object(f.p)(ce).forEach(function(Ee){var Ne=Ee[0],Le=Ee[1];return W(Le,Pe,Ne)})}}}function Q(ce){if(ee(ce)){var Te=I.get(ce);if(!Te)return;I.delete(ce),Te.dispose(),Object(f.L)(ce).forEach(Q)}}return W(L,void 0,""),function(){Q(L)}}var ue=function(){var L=function(U,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var W in R)R.hasOwnProperty(W)&&(w[W]=R[W])},L(U,I)};return function(U,I){L(U,I);function w(){this.constructor=U}U.prototype=I===null?Object.create(I):(w.prototype=I.prototype,new w)}}();(function(L){ue(U,L);function U(I,w,R){var W=R===void 0?{}:R,Q=W.name,ce=Q===void 0?"ogm"+(Math.random()*1e3|0):Q,Te=W.keyToName,me=Te===void 0?function(Ee){return""+Ee}:Te,Oe=L.call(this)||this;Oe._keyToName=me,Oe._groupBy=w,Oe._ogmInfoKey=Symbol("ogmInfo"+ce),Oe._base=I;for(var Pe=0;Pe<I.length;Pe++)Oe._addItem(I[Pe]);return Oe._disposeBaseObserver=Object(f.D)(Oe._base,function(Ee){if(Ee.type==="splice")Object(f.J)(function(){for(var Ne=0,Le=Ee.removed;Ne<Le.length;Ne++){var Ve=Le[Ne];Oe._removeItem(Ve)}for(var Be=0,Se=Ee.added;Be<Se.length;Be++){var Ie=Se[Be];Oe._addItem(Ie)}});else if(Ee.type==="update")Object(f.J)(function(){Oe._removeItem(Ee.oldValue),Oe._addItem(Ee.newValue)});else throw new Error("illegal state")}),Oe}return U.prototype.clear=function(){throw new Error("not supported")},U.prototype.delete=function(I){throw new Error("not supported")},U.prototype.set=function(I,w){throw new Error("not supported")},U.prototype.dispose=function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var w=this._base[I],R=w[this._ogmInfoKey];R.reaction(),delete w[this._ogmInfoKey]}},U.prototype._getGroupArr=function(I){var w=L.prototype.get.call(this,I);return w===void 0&&(w=Object(f.C)([],{name:"GroupArray["+this._keyToName(I)+"]",deep:!1}),L.prototype.set.call(this,I,w)),w},U.prototype._removeFromGroupArr=function(I,w){var R=L.prototype.get.call(this,I);R.length===1?L.prototype.delete.call(this,I):(w===R.length-1||(R[w]=R[R.length-1],R[w][this._ogmInfoKey].groupArrIndex=w),R.length--)},U.prototype._addItem=function(I){var w=this,R=this._groupBy(I),W=this._getGroupArr(R),Q={groupByValue:R,groupArrIndex:W.length,reaction:Object(f.F)(function(){return w._groupBy(I)},function(ce,Te){var me=I[w._ogmInfoKey];w._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var Oe=w._getGroupArr(ce),Pe=Oe.length;Oe.push(I),me.groupByValue=ce,me.groupArrIndex=Pe})};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Q}),W.push(I)},U.prototype._removeItem=function(I){var w=I[this._ogmInfoKey];this._removeFromGroupArr(w.groupByValue,w.groupArrIndex),w.reaction(),delete I[this._ogmInfoKey]},U})(f.b),Promise.resolve(),typeof queueMicrotask!="undefined"||typeof s!="undefined"&&s.nextTick}).call(this,i(155))},function(u,c,i){var s;(function(f,y,b){if(!f)return;for(var x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},E={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},M={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A,D=1;D<20;++D)x[111+D]="f"+D;for(D=0;D<=9;++D)x[D+96]=D.toString();function C(w,R,W){if(w.addEventListener){w.addEventListener(R,W,!1);return}w.attachEvent("on"+R,W)}function B(w){if(w.type=="keypress"){var R=String.fromCharCode(w.which);return w.shiftKey||(R=R.toLowerCase()),R}return x[w.which]?x[w.which]:E[w.which]?E[w.which]:String.fromCharCode(w.which).toLowerCase()}function z(w,R){return w.sort().join(",")===R.sort().join(",")}function X(w){var R=[];return w.shiftKey&&R.push("shift"),w.altKey&&R.push("alt"),w.ctrlKey&&R.push("ctrl"),w.metaKey&&R.push("meta"),R}function $(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function ie(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function oe(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function ee(){if(!A){A={};for(var w in x)w>95&&w<112||x.hasOwnProperty(w)&&(A[x[w]]=w)}return A}function J(w,R,W){return W||(W=ee()[w]?"keydown":"keypress"),W=="keypress"&&R.length&&(W="keydown"),W}function ue(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function L(w,R){var W,Q,ce,Te=[];for(W=ue(w),ce=0;ce<W.length;++ce)Q=W[ce],M[Q]&&(Q=M[Q]),R&&R!="keypress"&&P[Q]&&(Q=P[Q],Te.push("shift")),oe(Q)&&Te.push(Q);return R=J(Q,Te,R),{key:Q,modifiers:Te,action:R}}function U(w,R){return w===null||w===y?!1:w===R?!0:U(w.parentNode,R)}function I(w){var R=this;if(w=w||y,!(R instanceof I))return new I(w);R.target=w,R._callbacks={},R._directMap={};var W={},Q,ce=!1,Te=!1,me=!1;function Oe(Se){Se=Se||{};var Ie=!1,ke;for(ke in W){if(Se[ke]){Ie=!0;continue}W[ke]=0}Ie||(me=!1)}function Pe(Se,Ie,ke,k,Y,q){var he,xe,pe=[],ze=ke.type;if(!R._callbacks[Se])return[];for(ze=="keyup"&&oe(Se)&&(Ie=[Se]),he=0;he<R._callbacks[Se].length;++he)if(xe=R._callbacks[Se][he],!(!k&&xe.seq&&W[xe.seq]!=xe.level)&&ze==xe.action&&(ze=="keypress"&&!ke.metaKey&&!ke.ctrlKey||z(Ie,xe.modifiers))){var tt=!k&&xe.combo==Y,Ye=k&&xe.seq==k&&xe.level==q;(tt||Ye)&&R._callbacks[Se].splice(he,1),pe.push(xe)}return pe}function Ee(Se,Ie,ke,k){R.stopCallback(Ie,Ie.target||Ie.srcElement,ke,k)||Se(Ie,ke)===!1&&($(Ie),ie(Ie))}R._handleKey=function(Se,Ie,ke){var k=Pe(Se,Ie,ke),Y,q={},he=0,xe=!1;for(Y=0;Y<k.length;++Y)k[Y].seq&&(he=Math.max(he,k[Y].level));for(Y=0;Y<k.length;++Y){if(k[Y].seq){if(k[Y].level!=he)continue;xe=!0,q[k[Y].seq]=1,Ee(k[Y].callback,ke,k[Y].combo,k[Y].seq);continue}xe||Ee(k[Y].callback,ke,k[Y].combo)}var pe=ke.type=="keypress"&&Te;ke.type==me&&!oe(Se)&&!pe&&Oe(q),Te=xe&&ke.type=="keydown"};function Ne(Se){typeof Se.which!="number"&&(Se.which=Se.keyCode);var Ie=B(Se);if(!!Ie){if(Se.type=="keyup"&&ce===Ie){ce=!1;return}R.handleKey(Ie,X(Se),Se)}}function Le(){clearTimeout(Q),Q=setTimeout(Oe,1e3)}function Ve(Se,Ie,ke,k){W[Se]=0;function Y(ze){return function(){me=ze,++W[Se],Le()}}function q(ze){Ee(ke,ze,Se),k!=="keyup"&&(ce=B(ze)),setTimeout(Oe,10)}for(var he=0;he<Ie.length;++he){var xe=he+1===Ie.length,pe=xe?q:Y(k||L(Ie[he+1]).action);Be(Ie[he],pe,k,Se,he)}}function Be(Se,Ie,ke,k,Y){R._directMap[Se+":"+ke]=Ie,Se=Se.replace(/\s+/g," ");var q=Se.split(" "),he;if(q.length>1){Ve(Se,q,Ie,ke);return}he=L(Se,ke),R._callbacks[he.key]=R._callbacks[he.key]||[],Pe(he.key,he.modifiers,{type:he.action},k,Se,Y),R._callbacks[he.key][k?"unshift":"push"]({callback:Ie,modifiers:he.modifiers,action:he.action,seq:k,level:Y,combo:Se})}R._bindMultiple=function(Se,Ie,ke){for(var k=0;k<Se.length;++k)Be(Se[k],Ie,ke)},C(w,"keypress",Ne),C(w,"keydown",Ne),C(w,"keyup",Ne)}I.prototype.bind=function(w,R,W){var Q=this;return w=w instanceof Array?w:[w],Q._bindMultiple.call(Q,w,R,W),Q},I.prototype.unbind=function(w,R){var W=this;return W.bind.call(W,w,function(){},R)},I.prototype.trigger=function(w,R){var W=this;return W._directMap[w+":"+R]&&W._directMap[w+":"+R]({},w),W},I.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},I.prototype.stopCallback=function(w,R){var W=this;if((" "+R.className+" ").indexOf(" mousetrap ")>-1||U(R,W.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var Q=w.composedPath()[0];Q!==w.target&&(R=Q)}return R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},I.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},I.addKeycodes=function(w){for(var R in w)w.hasOwnProperty(R)&&(x[R]=w[R]);A=null},I.init=function(){var w=I(y);for(var R in w)R.charAt(0)!=="_"&&(I[R]=function(W){return function(){return w[W].apply(w,arguments)}}(R))},I.init(),f.Mousetrap=I,u.exports&&(u.exports=I),s=function(){return I}.call(c,i,c,u),s!==b&&(u.exports=s)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(u,c,i){var s=i(36),f=i(37),y=i(32),b=i(39),x=i(66);u.exports=s?Object.defineProperties:function(P,M){y(P);for(var A=b(M),D=x(M),C=D.length,B=0,z;C>B;)f.f(P,z=D[B++],A[z]);return P}},function(u,c,i){var s=i(7),f=i(35),y=i(28),b=i(33),x=s.TypeError;u.exports=function(E,P){var M,A;if(P==="string"&&y(M=E.toString)&&!b(A=f(M,E))||y(M=E.valueOf)&&!b(A=f(M,E))||P!=="string"&&y(M=E.toString)&&!b(A=f(M,E)))return A;throw x("Can't convert object to primitive value")}},function(u,c,i){var s=i(7),f=i(28),y=i(92),b=s.WeakMap;u.exports=f(b)&&/native code/.test(y(b))},function(u,c,i){var s=i(136).IteratorPrototype,f=i(54),y=i(71),b=i(73),x=i(70),E=function(){return this};u.exports=function(P,M,A,D){var C=M+" Iterator";return P.prototype=f(s,{next:y(+!D,A)}),b(P,C,!1,!0),x[C]=E,P}},function(u,c,i){var s=i(7),f=i(28),y=s.String,b=s.TypeError;u.exports=function(x){if(typeof x=="object"||f(x))return x;throw b("Can't set "+y(x)+" as a prototype")}},function(u,c,i){var s=i(16),f=i(7),y=i(15),b=i(95),x=i(44),E=i(138),P=i(114),M=i(117),A=i(28),D=i(33),C=i(18),B=i(118),z=i(73),X=i(143);u.exports=function($,ie,oe){var ee=$.indexOf("Map")!==-1,J=$.indexOf("Weak")!==-1,ue=ee?"set":"add",L=f[$],U=L&&L.prototype,I=L,w={},R=function(Pe){var Ee=y(U[Pe]);x(U,Pe,Pe=="add"?function(Le){return Ee(this,Le===0?0:Le),this}:Pe=="delete"?function(Ne){return J&&!D(Ne)?!1:Ee(this,Ne===0?0:Ne)}:Pe=="get"?function(Le){return J&&!D(Le)?void 0:Ee(this,Le===0?0:Le)}:Pe=="has"?function(Le){return J&&!D(Le)?!1:Ee(this,Le===0?0:Le)}:function(Le,Ve){return Ee(this,Le===0?0:Le,Ve),this})},W=b($,!A(L)||!(J||U.forEach&&!C(function(){new L().entries().next()})));if(W)I=oe.getConstructor(ie,$,ee,ue),E.enable();else if(b($,!0)){var Q=new I,ce=Q[ue](J?{}:-0,1)!=Q,Te=C(function(){Q.has(1)}),me=B(function(Pe){new L(Pe)}),Oe=!J&&C(function(){for(var Pe=new L,Ee=5;Ee--;)Pe[ue](Ee,Ee);return!Pe.has(-0)});me||(I=ie(function(Pe,Ee){M(Pe,U);var Ne=X(new L,Pe,I);return Ee!=null&&P(Ee,Ne[ue],{that:Ne,AS_ENTRIES:ee}),Ne}),I.prototype=U,U.constructor=I),(Te||Oe)&&(R("delete"),R("has"),ee&&R("get")),(Oe||ce)&&R(ue),J&&U.clear&&delete U.clear}return w[$]=I,s({global:!0,forced:I!=L},w),z(I,$),J||oe.setStrong(I,$,ee),I}},function(u,c,i){var s=i(18),f=i(33),y=i(50),b=i(175),x=Object.isExtensible,E=s(function(){});u.exports=E||b?function(M){return!f(M)||b&&y(M)=="ArrayBuffer"?!1:x?x(M):!0}:x},function(u,c,i){var s=i(18);u.exports=s(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var s=i(37).f,f=i(54),y=i(144),b=i(62),x=i(117),E=i(114),P=i(111),M=i(145),A=i(36),D=i(138).fastKey,C=i(56),B=C.set,z=C.getterFor;u.exports={getConstructor:function(X,$,ie,oe){var ee=X(function(I,w){x(I,J),B(I,{type:$,index:f(null),first:void 0,last:void 0,size:0}),A||(I.size=0),w!=null&&E(w,I[oe],{that:I,AS_ENTRIES:ie})}),J=ee.prototype,ue=z($),L=function(I,w,R){var W=ue(I),Q=U(I,w),ce,Te;return Q?Q.value=R:(W.last=Q={index:Te=D(w,!0),key:w,value:R,previous:ce=W.last,next:void 0,removed:!1},W.first||(W.first=Q),ce&&(ce.next=Q),A?W.size++:I.size++,Te!=="F"&&(W.index[Te]=Q)),I},U=function(I,w){var R=ue(I),W=D(w),Q;if(W!=="F")return R.index[W];for(Q=R.first;Q;Q=Q.next)if(Q.key==w)return Q};return y(J,{clear:function(){for(var w=this,R=ue(w),W=R.index,Q=R.first;Q;)Q.removed=!0,Q.previous&&(Q.previous=Q.previous.next=void 0),delete W[Q.index],Q=Q.next;R.first=R.last=void 0,A?R.size=0:w.size=0},delete:function(I){var w=this,R=ue(w),W=U(w,I);if(W){var Q=W.next,ce=W.previous;delete R.index[W.index],W.removed=!0,ce&&(ce.next=Q),Q&&(Q.previous=ce),R.first==W&&(R.first=Q),R.last==W&&(R.last=ce),A?R.size--:w.size--}return!!W},forEach:function(w){for(var R=ue(this),W=b(w,arguments.length>1?arguments[1]:void 0),Q;Q=Q?Q.next:R.first;)for(W(Q.value,Q.key,this);Q&&Q.removed;)Q=Q.previous},has:function(w){return!!U(this,w)}}),y(J,ie?{get:function(w){var R=U(this,w);return R&&R.value},set:function(w,R){return L(this,w===0?0:w,R)}}:{add:function(w){return L(this,w=w===0?0:w,w)}}),A&&s(J,"size",{get:function(){return ue(this).size}}),ee},setStrong:function(X,$,ie){var oe=$+" Iterator",ee=z($),J=z(oe);P(X,$,function(ue,L){B(this,{type:oe,target:ue,state:ee(ue),kind:L,last:void 0})},function(){for(var ue=J(this),L=ue.kind,U=ue.last;U&&U.removed;)U=U.previous;return!ue.target||!(ue.last=U=U?U.next:ue.state.first)?(ue.target=void 0,{value:void 0,done:!0}):L=="keys"?{value:U.key,done:!1}:L=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}},ie?"entries":"values",!ie,!0),M($)}}},function(u,c,i){var s=i(116),f=i(98);u.exports=s?{}.toString:function(){return"[object "+f(this)+"]"}},function(u,c,i){var s=i(74).forEach,f=i(120),y=f("forEach");u.exports=y?[].forEach:function(x){return s(this,x,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var s=i(7),f=i(99),y=i(100),b=i(33),x=i(27),E=x("species"),P=s.Array;u.exports=function(M){var A;return f(M)&&(A=M.constructor,y(A)&&(A===P||f(A.prototype))?A=void 0:b(A)&&(A=A[E],A===null&&(A=void 0))),A===void 0?P:A}},function(u,c,i){var s=i(7);u.exports=s},function(u,c,i){var s=i(7),f=i(62),y=i(35),b=i(38),x=i(183),E=i(140),P=i(100),M=i(43),A=i(61),D=i(141),C=i(115),B=s.Array;u.exports=function(X){var $=b(X),ie=P(this),oe=arguments.length,ee=oe>1?arguments[1]:void 0,J=ee!==void 0;J&&(ee=f(ee,oe>2?arguments[2]:void 0));var ue=C($),L=0,U,I,w,R,W,Q;if(ue&&!(this==B&&E(ue)))for(R=D($,ue),W=R.next,I=ie?new this:[];!(w=y(W,R)).done;L++)Q=J?x(R,ee,[w.value,L],!0):w.value,A(I,L,Q);else for(U=M($),I=ie?new this(U):B(U);U>L;L++)Q=J?ee($[L],L):$[L],A(I,L,Q);return I.length=L,I}},function(u,c,i){var s=i(32),f=i(142);u.exports=function(y,b,x,E){try{return E?b(s(x)[0],x[1]):b(x)}catch(P){f(y,"throw",P)}}},function(u,c,i){var s=i(32);u.exports=function(){var f=s(this),y="";return f.global&&(y+="g"),f.ignoreCase&&(y+="i"),f.multiline&&(y+="m"),f.dotAll&&(y+="s"),f.unicode&&(y+="u"),f.sticky&&(y+="y"),y}},function(u,c,i){var s=i(18),f=i(7),y=f.RegExp;u.exports=s(function(){var b=y(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var s=i(18),f=i(7),y=f.RegExp;u.exports=s(function(){var b=y("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var s=i(16),f=i(15),y=i(55),b=i(38),x=i(43),E=i(40),P=i(18),M=i(188),A=i(120),D=i(189),C=i(190),B=i(65),z=i(191),X=[],$=f(X.sort),ie=f(X.push),oe=P(function(){X.sort(void 0)}),ee=P(function(){X.sort(null)}),J=A("sort"),ue=!P(function(){if(B)return B<70;if(!(D&&D>3)){if(C)return!0;if(z)return z<603;var I="",w,R,W,Q;for(w=65;w<76;w++){switch(R=String.fromCharCode(w),w){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(Q=0;Q<47;Q++)X.push({k:R+Q,v:W})}for(X.sort(function(ce,Te){return Te.v-ce.v}),Q=0;Q<X.length;Q++)R=X[Q].k.charAt(0),I.charAt(I.length-1)!==R&&(I+=R);return I!=="DGBEFHACIJK"}}),L=oe||!ee||!J||!ue,U=function(I){return function(w,R){return R===void 0?-1:w===void 0?1:I!==void 0?+I(w,R)||0:E(w)>E(R)?1:-1}};s({target:"Array",proto:!0,forced:L},{sort:function(w){w!==void 0&&y(w);var R=b(this);if(ue)return w===void 0?$(R):$(R,w);var W=[],Q=x(R),ce,Te;for(Te=0;Te<Q;Te++)Te in R&&ie(W,R[Te]);for(M(W,U(w)),ce=W.length,Te=0;Te<ce;)R[Te]=W[Te++];for(;Te<Q;)delete R[Te++];return R}})},function(u,c,i){var s=i(113),f=Math.floor,y=function(E,P){var M=E.length,A=f(M/2);return M<8?b(E,P):x(E,y(s(E,0,A),P),y(s(E,A),P),P)},b=function(E,P){for(var M=E.length,A=1,D,C;A<M;){for(C=A,D=E[A];C&&P(E[C-1],D)>0;)E[C]=E[--C];C!==A++&&(E[C]=D)}return E},x=function(E,P,M,A){for(var D=P.length,C=M.length,B=0,z=0;B<D||z<C;)E[B+z]=B<D&&z<C?A(P[B],M[z])<=0?P[B++]:M[z++]:B<D?P[B++]:M[z++];return E};u.exports=y},function(u,c,i){var s=i(53),f=s.match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,c,i){var s=i(53);u.exports=/MSIE|Trident/.test(s)},function(u,c,i){var s=i(53),f=s.match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,c,i){var s=i(16),f=i(74).find,y=i(83),b="find",x=!0;b in[]&&Array(1)[b](function(){x=!1}),s({target:"Array",proto:!0,forced:x},{find:function(P){return f(this,P,arguments.length>1?arguments[1]:void 0)}}),y(b)},function(u,c,i){var s=i(7),f=i(154),y=s.TypeError;u.exports=function(b){if(f(b))throw y("The method doesn't accept regular expressions");return b}},function(u,c,i){var s=i(27),f=s("match");u.exports=function(y){var b=/./;try{"/./"[y](b)}catch(x){try{return b[f]=!1,"/./"[y](b)}catch(E){}}return!1}},function(u,c,i){var s=i(94).PROPER,f=i(18),y=i(160),b="\u200B\x85\u180E";u.exports=function(x){return f(function(){return!!y[x]()||b[x]()!==b||s&&y[x].name!==x})}},function(u,c,i){var s=i(15);u.exports=s(1 .valueOf)},function(u,c,i){var s=i(15),f=i(38),y=Math.floor,b=s("".charAt),x=s("".replace),E=s("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M=/\$([$&'`]|\d{1,2})/g;u.exports=function(A,D,C,B,z,X){var $=C+A.length,ie=B.length,oe=M;return z!==void 0&&(z=f(z),oe=P),x(X,oe,function(ee,J){var ue;switch(b(J,0)){case"$":return"$";case"&":return A;case"`":return E(D,0,C);case"'":return E(D,$);case"<":ue=z[E(J,1,-1)];break;default:var L=+J;if(L===0)return ee;if(L>ie){var U=y(L/10);return U===0?ee:U<=ie?B[U-1]===void 0?b(J,1):B[U-1]+b(J,1):ee}ue=B[L-1]}return ue===void 0?"":ue})}},function(u,c,i){var s=i(36),f=i(15),y=i(35),b=i(18),x=i(66),E=i(112),P=i(93),M=i(38),A=i(81),D=Object.assign,C=Object.defineProperty,B=f([].concat);u.exports=!D||b(function(){if(s&&D({b:1},D(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var z={},X={},$=Symbol(),ie="abcdefghijklmnopqrst";return z[$]=7,ie.split("").forEach(function(oe){X[oe]=oe}),D({},z)[$]!=7||x(D({},X)).join("")!=ie})?function(X,$){for(var ie=M(X),oe=arguments.length,ee=1,J=E.f,ue=P.f;oe>ee;)for(var L=A(arguments[ee++]),U=J?B(x(L),J(L)):x(L),I=U.length,w=0,R;I>w;)R=U[w++],(!s||y(ue,L,R))&&(ie[R]=L[R]);return ie}:D},function(u,c,i){var s=i(7),f=i(15),y=i(55),b=i(33),x=i(34),E=i(101),P=s.Function,M=f([].concat),A=f([].join),D={},C=function(B,z,X){if(!x(D,z)){for(var $=[],ie=0;ie<z;ie++)$[ie]="a["+ie+"]";D[z]=P("C,a","return new C("+A($,",")+")")}return D[z](B,X)};u.exports=P.bind||function(z){var X=y(this),$=X.prototype,ie=E(arguments,1),oe=function(){var J=M(ie,E(arguments));return this instanceof oe?C(X,J.length,J):X.apply(z,J)};return b($)&&(oe.prototype=$),oe}},function(u,c,i){var s=i(34);u.exports=function(f){return f!==void 0&&(s(f,"value")||s(f,"writable"))}},function(u,c,i){var s=i(15),f=i(45),y=i(40),b=/"/g,x=s("".replace);u.exports=function(E,P,M,A){var D=y(f(E)),C="<"+P;return M!==""&&(C+=" "+M+'="'+x(y(A),b,"&quot;")+'"'),C+">"+D+"</"+P+">"}},function(u,c,i){var s=i(18);u.exports=function(f){return s(function(){var y=""[f]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(u,c,i){var s=i(16),f=Math.hypot,y=Math.abs,b=Math.sqrt,x=!!f&&f(1/0,NaN)!==1/0;s({target:"Math",stat:!0,forced:x},{hypot:function(P,M){for(var A=0,D=0,C=arguments.length,B=0,z,X;D<C;)z=y(arguments[D++]),B<z?(X=B/z,A=A*X*X+1,B=z):z>0?(X=z/B,A+=X*X):A+=z;return B===1/0?1/0:B*b(A)}})},function(u,c,i){var s=i(16),f=i(64),y=i(7),b=i(46),x=i(35),E=i(205),P=i(44),M=i(144),A=i(97),D=i(73),C=i(145),B=i(55),z=i(28),X=i(33),$=i(117),ie=i(92),oe=i(114),ee=i(118),J=i(156),ue=i(162).set,L=i(206),U=i(209),I=i(210),w=i(164),R=i(211),W=i(56),Q=i(95),ce=i(27),Te=i(212),me=i(126),Oe=i(65),Pe=ce("species"),Ee="Promise",Ne=W.getterFor(Ee),Le=W.set,Ve=W.getterFor(Ee),Be=E&&E.prototype,Se=E,Ie=Be,ke=y.TypeError,k=y.document,Y=y.process,q=w.f,he=q,xe=!!(k&&k.createEvent&&y.dispatchEvent),pe=z(y.PromiseRejectionEvent),ze="unhandledrejection",tt="rejectionhandled",Ye=0,nt=1,ve=2,ut=1,rt=2,_e=!1,Qe,wt,dt,bt,ne=Q(Ee,function(){var je=ie(Se),$e=je!==String(Se);if(!$e&&Oe===66||f&&!Ie.finally)return!0;if(Oe>=51&&/native code/.test(je))return!1;var ot=new Se(function(G){G(1)}),Je=function(G){G(function(){},function(){})},lt=ot.constructor={};return lt[Pe]=Je,_e=ot.then(function(){})instanceof Je,_e?!$e&&Te&&!pe:!0}),Ct=ne||!ee(function(je){Se.all(je).catch(function(){})}),St=function(je){var $e;return X(je)&&z($e=je.then)?$e:!1},mt=function(je,$e){if(!je.notified){je.notified=!0;var ot=je.reactions;L(function(){for(var Je=je.value,lt=je.state==nt,G=0;ot.length>G;){var V=ot[G++],te=lt?V.ok:V.fail,re=V.resolve,Me=V.reject,De=V.domain,Xe,vt,Jt;try{te?(lt||(je.rejection===rt&&Sr(je),je.rejection=ut),te===!0?Xe=Je:(De&&De.enter(),Xe=te(Je),De&&(De.exit(),Jt=!0)),Xe===V.promise?Me(ke("Promise-chain cycle")):(vt=St(Xe))?x(vt,Xe,re,Me):re(Xe)):Me(Je)}catch(Qt){De&&!Jt&&De.exit(),Me(Qt)}}je.reactions=[],je.notified=!1,$e&&!je.rejection&&hr(je)})}},Yt=function(je,$e,ot){var Je,lt;xe?(Je=k.createEvent("Event"),Je.promise=$e,Je.reason=ot,Je.initEvent(je,!1,!0),y.dispatchEvent(Je)):Je={promise:$e,reason:ot},!pe&&(lt=y["on"+je])?lt(Je):je===ze&&I("Unhandled promise rejection",ot)},hr=function(je){x(ue,y,function(){var $e=je.facade,ot=je.value,Je=Zt(je),lt;if(Je&&(lt=R(function(){me?Y.emit("unhandledRejection",ot,$e):Yt(ze,$e,ot)}),je.rejection=me||Zt(je)?rt:ut,lt.error))throw lt.value})},Zt=function(je){return je.rejection!==ut&&!je.parent},Sr=function(je){x(ue,y,function(){var $e=je.facade;me?Y.emit("rejectionHandled",$e):Yt(tt,$e,je.value)})},qe=function(je,$e,ot){return function(Je){je($e,Je,ot)}},Pt=function(je,$e,ot){je.done||(je.done=!0,ot&&(je=ot),je.value=$e,je.state=ve,mt(je,!0))},nr=function(je,$e,ot){if(!je.done){je.done=!0,ot&&(je=ot);try{if(je.facade===$e)throw ke("Promise can't be resolved itself");var Je=St($e);Je?L(function(){var lt={done:!1};try{x(Je,$e,qe(nr,lt,je),qe(Pt,lt,je))}catch(G){Pt(lt,G,je)}}):(je.value=$e,je.state=nt,mt(je,!1))}catch(lt){Pt({done:!1},lt,je)}}};if(ne&&(Se=function($e){$(this,Ie),B($e),x(Qe,this);var ot=Ne(this);try{$e(qe(nr,ot),qe(Pt,ot))}catch(Je){Pt(ot,Je)}},Ie=Se.prototype,Qe=function($e){Le(this,{type:Ee,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ye,value:void 0})},Qe.prototype=M(Ie,{then:function($e,ot){var Je=Ve(this),lt=Je.reactions,G=q(J(this,Se));return G.ok=z($e)?$e:!0,G.fail=z(ot)&&ot,G.domain=me?Y.domain:void 0,Je.parent=!0,lt[lt.length]=G,Je.state!=Ye&&mt(Je,!1),G.promise},catch:function(je){return this.then(void 0,je)}}),wt=function(){var je=new Qe,$e=Ne(je);this.promise=je,this.resolve=qe(nr,$e),this.reject=qe(Pt,$e)},w.f=q=function(je){return je===Se||je===dt?new wt(je):he(je)},!f&&z(E)&&Be!==Object.prototype)){bt=Be.then,_e||(P(Be,"then",function($e,ot){var Je=this;return new Se(function(lt,G){x(bt,Je,lt,G)}).then($e,ot)},{unsafe:!0}),P(Be,"catch",Ie.catch,{unsafe:!0}));try{delete Be.constructor}catch(je){}A&&A(Be,Ie)}s({global:!0,wrap:!0,forced:ne},{Promise:Se}),D(Se,Ee,!1,!0),C(Ee),dt=b(Ee),s({target:Ee,stat:!0,forced:ne},{reject:function($e){var ot=q(this);return x(ot.reject,void 0,$e),ot.promise}}),s({target:Ee,stat:!0,forced:f||ne},{resolve:function($e){return U(f&&this===dt?Se:this,$e)}}),s({target:Ee,stat:!0,forced:Ct},{all:function($e){var ot=this,Je=q(ot),lt=Je.resolve,G=Je.reject,V=R(function(){var te=B(ot.resolve),re=[],Me=0,De=1;oe($e,function(Xe){var vt=Me++,Jt=!1;De++,x(te,ot,Xe).then(function(Qt){Jt||(Jt=!0,re[vt]=Qt,--De||lt(re))},G)}),--De||lt(re)});return V.error&&G(V.value),Je.promise},race:function($e){var ot=this,Je=q(ot),lt=Je.reject,G=R(function(){var V=B(ot.resolve);oe($e,function(te){x(V,ot,te).then(Je.resolve,lt)})});return G.error&&lt(G.value),Je.promise}})},function(u,c,i){var s=i(7);u.exports=s.Promise},function(u,c,i){var s=i(7),f=i(62),y=i(51).f,b=i(162).set,x=i(163),E=i(207),P=i(208),M=i(126),A=s.MutationObserver||s.WebKitMutationObserver,D=s.document,C=s.process,B=s.Promise,z=y(s,"queueMicrotask"),X=z&&z.value,$,ie,oe,ee,J,ue,L,U;X||($=function(){var I,w;for(M&&(I=C.domain)&&I.exit();ie;){w=ie.fn,ie=ie.next;try{w()}catch(R){throw ie?ee():oe=void 0,R}}oe=void 0,I&&I.enter()},!x&&!M&&!P&&A&&D?(J=!0,ue=D.createTextNode(""),new A($).observe(ue,{characterData:!0}),ee=function(){ue.data=J=!J}):!E&&B&&B.resolve?(L=B.resolve(void 0),L.constructor=B,U=f(L.then,L),ee=function(){U($)}):M?ee=function(){C.nextTick($)}:(b=f(b,s),ee=function(){b($)})),u.exports=X||function(I){var w={fn:I,next:void 0};oe&&(oe.next=w),ie||(ie=w,ee()),oe=w}},function(u,c,i){var s=i(53),f=i(7);u.exports=/ipad|iphone|ipod/i.test(s)&&f.Pebble!==void 0},function(u,c,i){var s=i(53);u.exports=/web0s(?!.*chrome)/i.test(s)},function(u,c,i){var s=i(32),f=i(33),y=i(164);u.exports=function(b,x){if(s(b),f(x)&&x.constructor===b)return x;var E=y.f(b),P=E.resolve;return P(x),E.promise}},function(u,c,i){var s=i(7);u.exports=function(f,y){var b=s.console;b&&b.error&&(arguments.length==1?b.error(f):b.error(f,y))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(s){return{error:!0,value:s}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var s=i(36),f=i(15),y=i(66),b=i(39),x=i(93).f,E=f(x),P=f([].push),M=function(A){return function(D){for(var C=b(D),B=y(C),z=B.length,X=0,$=[],ie;z>X;)ie=B[X++],(!s||E(C,ie))&&P($,A?[ie,C[ie]]:C[ie]);return $}};u.exports={entries:M(!0),values:M(!1)}},function(u,c,i){var s=i(38),f=i(67),y=i(43);u.exports=function(x){for(var E=s(this),P=y(E),M=arguments.length,A=f(M>1?arguments[1]:void 0,P),D=M>2?arguments[2]:void 0,C=D===void 0?P:f(D,P);C>A;)E[A++]=x;return E}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return Ur}),i.d(c,"LogicFlow",function(){return rd}),i.d(c,"h",function(){return ne.g}),i.d(c,"LogicFlowUtil",function(){return s}),i.d(c,"BaseNode",function(){return vn}),i.d(c,"RectNode",function(){return gc}),i.d(c,"CircleNode",function(){return Oc}),i.d(c,"PolygonNode",function(){return Sc}),i.d(c,"DiamondNode",function(){return Tc}),i.d(c,"EllipseNode",function(){return Nc}),i.d(c,"TextNode",function(){return jc}),i.d(c,"HtmlNode",function(){return Ic}),i.d(c,"BaseEdge",function(){return Pi}),i.d(c,"LineEdge",function(){return kc}),i.d(c,"PolylineEdge",function(){return $c}),i.d(c,"BezierEdge",function(){return Wc}),i.d(c,"Arrow",function(){return gj}),i.d(c,"BaseEdgeModel",function(){return gf}),i.d(c,"BezierEdgeModel",function(){return $f}),i.d(c,"LineEdgeModel",function(){return Of}),i.d(c,"PolylineEdgeModel",function(){return Sf}),i.d(c,"BaseNodeModel",function(){return pn}),i.d(c,"CircleNodeModel",function(){return Kf}),i.d(c,"DiamondNodeModel",function(){return Jf}),i.d(c,"EllipseNodeModel",function(){return qf}),i.d(c,"PolygonNodeModel",function(){return rc}),i.d(c,"RectNodeModel",function(){return ic}),i.d(c,"TextNodeModel",function(){return uc}),i.d(c,"HtmlNodeModel",function(){return lc}),i.d(c,"EditConfigModel",function(){return cp}),i.d(c,"GraphModel",function(){return uv}),i.d(c,"SnaplineModel",function(){return sg}),i.d(c,"Keyboard",function(){return gm}),i.d(c,"get",function(){return Uv}),i.d(c,"defaults",function(){return kv});var s={};i.r(s),i.d(s,"createUuid",function(){return ro}),i.d(s,"refreshGraphId",function(){return PP}),i.d(s,"createDrag",function(){return wf}),i.d(s,"StepDrag",function(){return no});var f=i(0),y=i(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),x=Object(b.b)("observerBatching");function E(e){e()}function P(e){e||(e=E),Object(f.n)({reactionScheduler:e}),Object(b.a)()[x]=!0}function M(e){return Object(f.t)(e)}function A(e){var r={cleanAt:Date.now()+D,reaction:e};return r}var D=1e4,C=1e4,B=new Set,z;function X(){z===void 0&&(z=setTimeout(oe,C))}function $(e){B.add(e),X()}function ie(e){B.delete(e)}function oe(){z=void 0;var e=Date.now();B.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,B.delete(r))}),B.size>0&&X()}var ee=!1,J=[];function ue(e){return function(){ee?J.push(e):e()}}function L(e){ee=!0,J=[];try{var r=e();ee=!1;var t=J.length>0?J:void 0;return y.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{ee=!1}}var U={};function I(e){return"observer"+e}function w(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=U);var n=t.useForceUpdate||b.d,o=n(),a=ue(o),l=y.d.useRef(null);if(!l.current){var p=new f.c(I(r),function(){m.mounted?a():(p.dispose(),l.current=null)}),m=A(p);l.current=m,$(l)}var S=l.current.reaction;return y.d.useDebugValue(S,M),y.d.useEffect(function(){return ie(l),l.current?l.current.mounted=!0:(l.current={reaction:new f.c(I(r),function(){a()}),cleanAt:1/0},a()),function(){l.current.reaction.dispose(),l.current=null}},[]),L(function(){var T,j;if(S.track(function(){try{T=e()}catch(_){j=_}}),j)throw j;return T})}var R=function(){return R=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(this,arguments)};function W(e,r){var t=R({forwardRef:!1},r),n=e.displayName||e.name,o=function(l,p){return w(function(){return e(l,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(y.f)(Object(y.e)(o)):a=Object(y.f)(o),ce(e,a),a.displayName=n,a}var Q={$$typeof:!0,render:!0,compare:!0,type:!0};function ce(e,r){Object.keys(e).forEach(function(t){Q[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Te(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:w(n)}Te.propTypes={children:me,render:me},Te.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",l=typeof e[r]=="function",p=typeof e[a]=="function";return l&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):l||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(y.g);var Oe=0;function Pe(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+Oe+")";return Oe++,r}var Ee={};function Ne(e){return Ee[e]||(Ee[e]=Pe(e)),Ee[e]}function Le(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ve(e[t[o]],r[t[o]]))return!1;return!0}function Ve(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Be(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Se=Ne("patchMixins"),Ie=Ne("patchedDefinition");function ke(e,r){var t=e[Se]=e[Se]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function k(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var l;return e!=null&&(l=e.apply(this,o)),l}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function Y(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];k.call.apply(k,[this,e,r].concat(a))};return t}function q(e,r,t){var n=ke(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[Ie])){var a=e[r],l=he(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,l)}}function he(e,r,t,n,o){var a,l=Y(o,n);return a={},a[Ie]=!0,a.get=function(){return l},a.set=function(m){if(this===e)l=Y(m,n);else{var S=he(this,r,t,n,m);Object.defineProperty(this,r,S)}},a.configurable=!0,a.enumerable=t,a}var xe=f.a||"$mobx",pe=Ne("isMobXReactObserver"),ze=Ne("isUnmounted"),tt=Ne("skipRender"),Ye=Ne("isForcingUpdate");function nt(e){var r=e.prototype;if(e[pe])var t=ve(r);else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=rt;else if(r.shouldComponentUpdate!==rt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}_e(r,"props"),_e(r,"state");var n=r.render;return r.render=function(){return ut.call(this,n)},q(r,"componentWillUnmount",function(){var o;if((o=this.render[xe])===null||o===void 0||o.dispose(),this[ze]=!0,!this.render[xe])var a=ve(this)}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ut(e){var r=this;Be(this,tt,!1),Be(this,Ye,!1);var t=ve(this),n=e.bind(this),o=!1,a=new f.c(t+".render()",function(){if(!o&&(o=!0,r[ze]!==!0)){var p=!0;try{Be(r,Ye,!0),r[tt]||y.a.prototype.forceUpdate.call(r),p=!1}finally{Be(r,Ye,!1),p&&a.dispose()}}});a.reactComponent=this,l[xe]=a,this.render=l;function l(){o=!1;var p=void 0,m=void 0;if(a.track(function(){try{m=Object(f.d)(!1,n)}catch(S){p=S}}),p)throw p;return m}return l.call(this)}function rt(e,r){return this.state!==r?!0:!Le(this.props,e)}function _e(e,r){var t=Ne("reactProp_"+r+"_valueHolder"),n=Ne("reactProp_"+r+"_atomHolder");function o(){return this[n]||Be(this,n,Object(f.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var l=!1;return f.f&&f.e&&(l=Object(f.f)(!0)),o.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(l),this[t]},set:function(l){!this[Ye]&&!Le(this[t],l)?(Be(this,t,l),Be(this,tt,!0),o.call(this).reportChanged(),Be(this,tt,!1)):Be(this,t,l)}})}var Qe=typeof Symbol=="function"&&Symbol.for,wt=Qe?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,dt=Qe?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function bt(e){if(e.isMobxInjector,dt&&e.$$typeof===dt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(wt&&e.$$typeof===wt){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(Te,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(y.a,e)?W(e):nt(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var ne=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function Ct(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var St=Ct;function mt(){this.__data__=[],this.size=0}var Yt=mt;function hr(e,r){return e===r||e!==e&&r!==r}var Zt=hr;function Sr(e,r){for(var t=e.length;t--;)if(Zt(e[t][0],r))return t;return-1}var qe=Sr,Pt=Array.prototype,nr=Pt.splice;function je(e){var r=this.__data__,t=qe(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():nr.call(r,t,1),--this.size,!0}var $e=je;function ot(e){var r=this.__data__,t=qe(r,e);return t<0?void 0:r[t][1]}var Je=ot;function lt(e){return qe(this.__data__,e)>-1}var G=lt;function V(e,r){var t=this.__data__,n=qe(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var te=V;function re(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}re.prototype.clear=Yt,re.prototype.delete=$e,re.prototype.get=Je,re.prototype.has=G,re.prototype.set=te;var Me=re;function De(){this.__data__=new Me,this.size=0}var Xe=De;function vt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Jt=vt;function Qt(e){return this.__data__.get(e)}var Xn=Qt;function kr(e){return this.__data__.has(e)}var Li=kr,Pr=i(31),zi=Pr.a.Symbol,fr=zi,gn=Object.prototype,$n=gn.hasOwnProperty,sn=gn.toString,Yn=fr?fr.toStringTag:void 0;function mn(e){var r=$n.call(e,Yn),t=e[Yn];try{e[Yn]=void 0;var n=!0}catch(a){}var o=sn.call(e);return n&&(r?e[Yn]=t:delete e[Yn]),o}var bn=mn,po=Object.prototype,nl=po.toString;function ho(e){return nl.call(e)}var vo=ho,Fi="[object Null]",He="[object Undefined]",Gi=fr?fr.toStringTag:void 0;function ol(e){return e==null?e===void 0?He:Fi:Gi&&Gi in Object(e)?bn(e):vo(e)}var Xr=ol;function Hi(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var At=Hi,vr="[object AsyncFunction]",Ui="[object Function]",il="[object GeneratorFunction]",al="[object Proxy]";function ul(e){if(!At(e))return!1;var r=Xr(e);return r==Ui||r==il||r==vr||r==al}var yo=ul,ki=Pr.a["__core-js_shared__"],ln=ki,Xi=function(){var e=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ei(e){return!!Xi&&Xi in e}var $i=ei,sl=Function.prototype,go=sl.toString;function ll(e){if(e!=null){try{return go.call(e)}catch(r){}try{return e+""}catch(r){}}return""}var Rt=ll,gd=/[\\^$.*+?()[\]{}|]/g,md=/^\[object .+?Constructor\]$/,bd=Function.prototype,Yi=Object.prototype,fl=bd.toString,Wi=Yi.hasOwnProperty,cl=RegExp("^"+fl.call(Wi).replace(gd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dl(e){if(!At(e)||$i(e))return!1;var r=yo(e)?cl:md;return r.test(Rt(e))}var $r=dl;function pl(e,r){return e==null?void 0:e[r]}var hl=pl;function ti(e,r){var t=hl(e,r);return $r(t)?t:void 0}var jr=ti,vl=jr(Pr.a,"Map"),On=vl,yl=jr(Object,"create"),Wn=yl;function gl(){this.__data__=Wn?Wn(null):{},this.size=0}var ri=gl;function Ki(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var ml=Ki,ni="__lodash_hash_undefined__",Vi=Object.prototype,Zi=Vi.hasOwnProperty;function Ji(e){var r=this.__data__;if(Wn){var t=r[e];return t===ni?void 0:t}return Zi.call(r,e)?r[e]:void 0}var Qi=Ji,bl=Object.prototype,qi=bl.hasOwnProperty;function Ol(e){var r=this.__data__;return Wn?r[e]!==void 0:qi.call(r,e)}var ea=Ol,ta="__lodash_hash_undefined__";function El(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Wn&&r===void 0?ta:r,this}var xl=El;function En(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}En.prototype.clear=ri,En.prototype.delete=ml,En.prototype.get=Qi,En.prototype.has=ea,En.prototype.set=xl;var xn=En;function Sn(){this.size=0,this.__data__={hash:new xn,map:new(On||Me),string:new xn}}var Sl=Sn;function Pl(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ra=Pl;function Al(e,r){var t=e.__data__;return ra(r)?t[typeof r=="string"?"string":"hash"]:t.map}var mo=Al;function Tl(e){var r=mo(this,e).delete(e);return this.size-=r?1:0,r}var Ml=Tl;function Pn(e){return mo(this,e).get(e)}var Yr=Pn;function wl(e){return mo(this,e).has(e)}var Nl=wl;function Dl(e,r){var t=mo(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Ar=Dl;function An(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}An.prototype.clear=Sl,An.prototype.delete=Ml,An.prototype.get=Yr,An.prototype.has=Nl,An.prototype.set=Ar;var Kn=An,jl=200;function bo(e,r){var t=this.__data__;if(t instanceof Me){var n=t.__data__;if(!On||n.length<jl-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Kn(n)}return t.set(e,r),this.size=t.size,this}var Oo=bo;function Tn(e){var r=this.__data__=new Me(e);this.size=r.size}Tn.prototype.clear=Xe,Tn.prototype.delete=Jt,Tn.prototype.get=Xn,Tn.prototype.has=Li,Tn.prototype.set=Oo;var Mn=Tn,Tr="__lodash_hash_undefined__";function Vn(e){return this.__data__.set(e,Tr),this}var Mr=Vn;function yr(e){return this.__data__.has(e)}var Zn=yr;function qt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Kn;++r<t;)this.add(e[r])}qt.prototype.add=qt.prototype.push=Mr,qt.prototype.has=Zn;var Cl=qt;function Rl(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Il=Rl;function na(e,r){return e.has(r)}var Cr=na,Bl=1,Rr=2;function oa(e,r,t,n,o,a){var l=t&Bl,p=e.length,m=r.length;if(p!=m&&!(l&&m>p))return!1;var S=a.get(e),T=a.get(r);if(S&&T)return S==r&&T==e;var j=-1,_=!0,H=t&Rr?new Cl:void 0;for(a.set(e,r),a.set(r,e);++j<p;){var Z=e[j],ae=r[j];if(n)var se=l?n(ae,Z,j,r,e,a):n(Z,ae,j,e,r,a);if(se!==void 0){if(se)continue;_=!1;break}if(H){if(!Il(r,function(le,we){if(!Cr(H,we)&&(Z===le||o(Z,le,t,n,a)))return H.push(we)})){_=!1;break}}else if(!(Z===ae||o(Z,ae,t,n,a))){_=!1;break}}return a.delete(e),a.delete(r),_}var ia=oa,oi=Pr.a.Uint8Array,kt=oi;function aa(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var _l=aa;function ua(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var cr=ua,sa=1,ii=2,la="[object Boolean]",fa="[object Date]",Ll="[object Error]",ca="[object Map]",zl="[object Number]",Fl="[object RegExp]",gr="[object Set]",wr="[object String]",Jn="[object Symbol]",Gl="[object ArrayBuffer]",da="[object DataView]",Eo=fr?fr.prototype:void 0,Qn=Eo?Eo.valueOf:void 0;function pa(e,r,t,n,o,a,l){switch(t){case da:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Gl:return!(e.byteLength!=r.byteLength||!a(new kt(e),new kt(r)));case la:case fa:case zl:return Zt(+e,+r);case Ll:return e.name==r.name&&e.message==r.message;case Fl:case wr:return e==r+"";case ca:var p=_l;case gr:var m=n&sa;if(p||(p=cr),e.size!=r.size&&!m)return!1;var S=l.get(e);if(S)return S==r;n|=ii,l.set(e,r);var T=ia(p(e),p(r),n,o,a,l);return l.delete(e),T;case Jn:if(Qn)return Qn.call(e)==Qn.call(r)}return!1}var Hl=pa;function xo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var ai=xo,ha=Array.isArray,d=ha;function h(e,r,t){var n=r(e);return d(e)?n:ai(n,t(e))}var O=h;function N(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var l=e[t];r(l,t,e)&&(a[o++]=l)}return a}var F=N;function K(){return[]}var fe=K,Ae=Object.prototype,Ue=Ae.propertyIsEnumerable,ft=Object.getOwnPropertySymbols,ct=ft?function(e){return e==null?[]:(e=Object(e),F(ft(e),function(r){return Ue.call(e,r)}))}:fe,Ot=ct;function xt(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Bt=xt;function Xt(e){return e!=null&&typeof e=="object"}var Tt=Xt,mr="[object Arguments]";function wn(e){return Tt(e)&&Xr(e)==mr}var va=wn,ya=Object.prototype,ga=ya.hasOwnProperty,ma=ya.propertyIsEnumerable,ui=va(function(){return arguments}())?va:function(e){return Tt(e)&&ga.call(e,"callee")&&!ma.call(e,"callee")},Nn=ui,fn=i(48),jb=9007199254740991,Cb=/^(?:0|[1-9]\d*)$/;function Rb(e,r){var t=typeof e;return r=r==null?jb:r,!!r&&(t=="number"||t!="symbol"&&Cb.test(e))&&e>-1&&e%1==0&&e<r}var ba=Rb,Ib=9007199254740991;function Bb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ib}var Ul=Bb,_b="[object Arguments]",Lb="[object Array]",zb="[object Boolean]",Fb="[object Date]",Gb="[object Error]",Hb="[object Function]",Ub="[object Map]",kb="[object Number]",Xb="[object Object]",$b="[object RegExp]",Yb="[object Set]",Wb="[object String]",Kb="[object WeakMap]",Vb="[object ArrayBuffer]",Zb="[object DataView]",Jb="[object Float32Array]",Qb="[object Float64Array]",qb="[object Int8Array]",eO="[object Int16Array]",tO="[object Int32Array]",rO="[object Uint8Array]",nO="[object Uint8ClampedArray]",oO="[object Uint16Array]",iO="[object Uint32Array]",Nt={};Nt[Jb]=Nt[Qb]=Nt[qb]=Nt[eO]=Nt[tO]=Nt[rO]=Nt[nO]=Nt[oO]=Nt[iO]=!0,Nt[_b]=Nt[Lb]=Nt[Vb]=Nt[zb]=Nt[Zb]=Nt[Fb]=Nt[Gb]=Nt[Hb]=Nt[Ub]=Nt[kb]=Nt[Xb]=Nt[$b]=Nt[Yb]=Nt[Wb]=Nt[Kb]=!1;function aO(e){return Tt(e)&&Ul(e.length)&&!!Nt[Xr(e)]}var uO=aO;function sO(e){return function(r){return e(r)}}var kl=sO,So=i(49),Od=So.a&&So.a.isTypedArray,lO=Od?kl(Od):uO,Xl=lO,fO=Object.prototype,cO=fO.hasOwnProperty;function dO(e,r){var t=d(e),n=!t&&Nn(e),o=!t&&!n&&Object(fn.a)(e),a=!t&&!n&&!o&&Xl(e),l=t||n||o||a,p=l?Bt(e.length,String):[],m=p.length;for(var S in e)(r||cO.call(e,S))&&!(l&&(S=="length"||o&&(S=="offset"||S=="parent")||a&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||ba(S,m)))&&p.push(S);return p}var Ed=dO,pO=Object.prototype;function hO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||pO;return e===t}var Oa=hO;function vO(e,r){return function(t){return e(r(t))}}var xd=vO,yO=xd(Object.keys,Object),gO=yO,mO=Object.prototype,bO=mO.hasOwnProperty;function OO(e){if(!Oa(e))return gO(e);var r=[];for(var t in Object(e))bO.call(e,t)&&t!="constructor"&&r.push(t);return r}var EO=OO;function xO(e){return e!=null&&Ul(e.length)&&!yo(e)}var qn=xO;function SO(e){return qn(e)?Ed(e):EO(e)}var Po=SO;function PO(e){return O(e,Po,Ot)}var $l=PO,AO=1,TO=Object.prototype,MO=TO.hasOwnProperty;function wO(e,r,t,n,o,a){var l=t&AO,p=$l(e),m=p.length,S=$l(r),T=S.length;if(m!=T&&!l)return!1;for(var j=m;j--;){var _=p[j];if(!(l?_ in r:MO.call(r,_)))return!1}var H=a.get(e),Z=a.get(r);if(H&&Z)return H==r&&Z==e;var ae=!0;a.set(e,r),a.set(r,e);for(var se=l;++j<m;){_=p[j];var le=e[_],we=r[_];if(n)var ge=l?n(we,le,_,r,e,a):n(le,we,_,e,r,a);if(!(ge===void 0?le===we||o(le,we,t,n,a):ge)){ae=!1;break}se||(se=_=="constructor")}if(ae&&!se){var be=e.constructor,Fe=r.constructor;be!=Fe&&"constructor"in e&&"constructor"in r&&!(typeof be=="function"&&be instanceof be&&typeof Fe=="function"&&Fe instanceof Fe)&&(ae=!1)}return a.delete(e),a.delete(r),ae}var NO=wO,DO=jr(Pr.a,"DataView"),Yl=DO,jO=jr(Pr.a,"Promise"),Wl=jO,CO=jr(Pr.a,"Set"),Kl=CO,RO=jr(Pr.a,"WeakMap"),Vl=RO,Sd="[object Map]",IO="[object Object]",Pd="[object Promise]",Ad="[object Set]",Td="[object WeakMap]",Md="[object DataView]",BO=Rt(Yl),_O=Rt(On),LO=Rt(Wl),zO=Rt(Kl),FO=Rt(Vl),eo=Xr;(Yl&&eo(new Yl(new ArrayBuffer(1)))!=Md||On&&eo(new On)!=Sd||Wl&&eo(Wl.resolve())!=Pd||Kl&&eo(new Kl)!=Ad||Vl&&eo(new Vl)!=Td)&&(eo=function(e){var r=Xr(e),t=r==IO?e.constructor:void 0,n=t?Rt(t):"";if(n)switch(n){case BO:return Md;case _O:return Sd;case LO:return Pd;case zO:return Ad;case FO:return Td}return r});var si=eo,GO=1,wd="[object Arguments]",Nd="[object Array]",Ea="[object Object]",HO=Object.prototype,Dd=HO.hasOwnProperty;function UO(e,r,t,n,o,a){var l=d(e),p=d(r),m=l?Nd:si(e),S=p?Nd:si(r);m=m==wd?Ea:m,S=S==wd?Ea:S;var T=m==Ea,j=S==Ea,_=m==S;if(_&&Object(fn.a)(e)){if(!Object(fn.a)(r))return!1;l=!0,T=!1}if(_&&!T)return a||(a=new Mn),l||Xl(e)?ia(e,r,t,n,o,a):Hl(e,r,m,t,n,o,a);if(!(t&GO)){var H=T&&Dd.call(e,"__wrapped__"),Z=j&&Dd.call(r,"__wrapped__");if(H||Z){var ae=H?e.value():e,se=Z?r.value():r;return a||(a=new Mn),o(ae,se,t,n,a)}}return _?(a||(a=new Mn),NO(e,r,t,n,o,a)):!1}var kO=UO;function jd(e,r,t,n,o){return e===r?!0:e==null||r==null||!Tt(e)&&!Tt(r)?e!==e&&r!==r:kO(e,r,t,n,jd,o)}var Zl=jd,XO=1,$O=2;function YO(e,r,t,n){var o=t.length,a=o,l=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(l&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var m=p[0],S=e[m],T=p[1];if(l&&p[2]){if(S===void 0&&!(m in e))return!1}else{var j=new Mn;if(n)var _=n(S,T,m,e,r,j);if(!(_===void 0?Zl(T,S,XO|$O,n,j):_))return!1}}return!0}var WO=YO;function KO(e){return e===e&&!At(e)}var Cd=KO;function VO(e){for(var r=Po(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Cd(o)]}return r}var ZO=VO;function JO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Rd=JO;function QO(e){var r=ZO(e);return r.length==1&&r[0][2]?Rd(r[0][0],r[0][1]):function(t){return t===e||WO(t,e,r)}}var qO=QO,eE="[object Symbol]";function tE(e){return typeof e=="symbol"||Tt(e)&&Xr(e)==eE}var xa=tE,rE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nE=/^\w*$/;function oE(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||xa(e)?!0:nE.test(e)||!rE.test(e)||r!=null&&e in Object(r)}var Jl=oE,iE="Expected a function";function Ql(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(iE);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var l=e.apply(this,n);return t.cache=a.set(o,l)||a,l};return t.cache=new(Ql.Cache||Kn),t}Ql.Cache=Kn;var aE=Ql,uE=500;function sE(e){var r=aE(e,function(n){return t.size===uE&&t.clear(),n}),t=r.cache;return r}var lE=sE,fE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cE=/\\(\\)?/g,dE=lE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(fE,function(t,n,o,a){r.push(o?a.replace(cE,"$1"):n||t)}),r}),pE=dE,hE=1/0,Id=fr?fr.prototype:void 0,Bd=Id?Id.toString:void 0;function _d(e){if(typeof e=="string")return e;if(d(e))return St(e,_d)+"";if(xa(e))return Bd?Bd.call(e):"";var r=e+"";return r=="0"&&1/e==-hE?"-0":r}var vE=_d;function yE(e){return e==null?"":vE(e)}var gE=yE;function mE(e,r){return d(e)?e:Jl(e,r)?[e]:pE(gE(e))}var Sa=mE,bE=1/0;function OE(e){if(typeof e=="string"||xa(e))return e;var r=e+"";return r=="0"&&1/e==-bE?"-0":r}var li=OE;function EE(e,r){r=Sa(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[li(r[t++])];return t&&t==n?e:void 0}var ql=EE;function xE(e,r,t){var n=e==null?void 0:ql(e,r);return n===void 0?t:n}var Ld=xE;function SE(e,r){return e!=null&&r in Object(e)}var PE=SE;function AE(e,r,t){r=Sa(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var l=li(r[n]);if(!(a=e!=null&&t(e,l)))break;e=e[l]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&Ul(o)&&ba(l,o)&&(d(e)||Nn(e)))}var TE=AE;function ME(e,r){return e!=null&&TE(e,r,PE)}var zd=ME,wE=1,NE=2;function DE(e,r){return Jl(e)&&Cd(r)?Rd(li(e),r):function(t){var n=Ld(t,e);return n===void 0&&n===r?zd(t,e):Zl(r,n,wE|NE)}}var jE=DE;function CE(e){return e}var ef=CE;function RE(e){return function(r){return r==null?void 0:r[e]}}var IE=RE;function BE(e){return function(r){return ql(r,e)}}var _E=BE;function LE(e){return Jl(e)?IE(li(e)):_E(e)}var zE=LE;function FE(e){return typeof e=="function"?e:e==null?ef:typeof e=="object"?d(e)?jE(e[0],e[1]):qO(e):zE(e)}var GE=FE;function HE(e){return function(r,t,n){for(var o=-1,a=Object(r),l=n(r),p=l.length;p--;){var m=l[e?p:++o];if(t(a[m],m,a)===!1)break}return r}}var UE=HE,kE=UE(),Fd=kE;function XE(e,r){return e&&Fd(e,r,Po)}var $E=XE;function YE(e,r){return function(t,n){if(t==null)return t;if(!qn(t))return e(t,n);for(var o=t.length,a=r?o:-1,l=Object(t);(r?a--:++a<o)&&n(l[a],a,l)!==!1;);return t}}var WE=YE,KE=WE($E),VE=KE;function ZE(e,r){var t=-1,n=qn(e)?Array(e.length):[];return VE(e,function(o,a,l){n[++t]=r(o,a,l)}),n}var JE=ZE;function QE(e,r){var t=d(e)?St:JE;return t(e,GE(r))}var Pa=QE,qE=function(){try{var e=jr(Object,"defineProperty");return e({},"",{}),e}catch(r){}}(),Aa=qE;function ex(e,r,t){r=="__proto__"&&Aa?Aa(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var tf=ex,tx=Object.prototype,rx=tx.hasOwnProperty;function nx(e,r,t){var n=e[r];(!(rx.call(e,r)&&Zt(n,t))||t===void 0&&!(r in e))&&tf(e,r,t)}var Ta=nx;function ox(e,r,t,n){var o=!t;t||(t={});for(var a=-1,l=r.length;++a<l;){var p=r[a],m=n?n(t[p],e[p],p,t,e):void 0;m===void 0&&(m=e[p]),o?tf(t,p,m):Ta(t,p,m)}return t}var Ao=ox;function ix(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var ax=ix,Gd=Math.max;function ux(e,r,t){return r=Gd(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=Gd(n.length-r,0),l=Array(a);++o<a;)l[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(l),ax(e,this,p)}}var Hd=ux;function sx(e){return function(){return e}}var lx=sx,fx=Aa?function(e,r){return Aa(e,"toString",{configurable:!0,enumerable:!1,value:lx(r),writable:!0})}:ef,cx=fx,dx=800,px=16,hx=Date.now;function vx(e){var r=0,t=0;return function(){var n=hx(),o=px-(n-t);if(t=n,o>0){if(++r>=dx)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var yx=vx,gx=yx(cx),Ud=gx;function mx(e,r){return Ud(Hd(e,r,ef),e+"")}var bx=mx;function Ox(e,r,t){if(!At(t))return!1;var n=typeof r;return(n=="number"?qn(t)&&ba(r,t.length):n=="string"&&r in t)?Zt(t[r],e):!1}var Ex=Ox;function xx(e){return bx(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,l=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,l&&Ex(t[0],t[1],l)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var kd=xx,Sx=Object.prototype,Px=Sx.hasOwnProperty,Ax=kd(function(e,r){if(Oa(r)||qn(r)){Ao(r,Po(r),e);return}for(var t in r)Px.call(r,t)&&Ta(e,t,r[t])}),or=Ax;function Tx(e,r,t,n){if(!At(e))return e;r=Sa(r,e);for(var o=-1,a=r.length,l=a-1,p=e;p!=null&&++o<a;){var m=li(r[o]),S=t;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(o!=l){var T=p[m];S=n?n(T,m,p):void 0,S===void 0&&(S=At(T)?T:ba(r[o+1])?[]:{})}Ta(p,m,S),p=p[m]}return e}var Mx=Tx;function wx(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var l=r[n],p=ql(e,l);t(p,l)&&Mx(a,Sa(l,e),p)}return a}var Nx=wx;function Dx(e,r){return Nx(e,r,function(t,n){return zd(e,n)})}var jx=Dx,Xd=fr?fr.isConcatSpreadable:void 0;function Cx(e){return d(e)||Nn(e)||!!(Xd&&e&&e[Xd])}var Rx=Cx;function $d(e,r,t,n,o){var a=-1,l=e.length;for(t||(t=Rx),o||(o=[]);++a<l;){var p=e[a];r>0&&t(p)?r>1?$d(p,r-1,t,n,o):ai(o,p):n||(o[o.length]=p)}return o}var Ix=$d;function Bx(e){var r=e==null?0:e.length;return r?Ix(e,1):[]}var _x=Bx;function Lx(e){return Ud(Hd(e,void 0,_x),e+"")}var zx=Lx,Fx=zx(function(e,r){return e==null?{}:jx(e,r)}),fi=Fx,It,Yd,Wd,Kd,Vd,Zd,Jd,Qd,qd,ep,tp,rp,np,op,ip,ap,up,sp;function Wt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Gx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hx(e,r,t){return r&&lp(e.prototype,r),t&&lp(e,t),e}function fp(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $t(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ux={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},rf=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],cp=(It=function(){function e(r){Gx(this,e),Wt(this,"isSilentMode",Yd,this),Wt(this,"stopZoomGraph",Wd,this),Wt(this,"stopScrollGraph",Kd,this),Wt(this,"stopMoveGraph",Vd,this),Wt(this,"adjustEdge",Zd,this),Wt(this,"adjustEdgeMiddle",Jd,this),Wt(this,"adjustEdgeStartAndEnd",Qd,this),Wt(this,"adjustNodePosition",qd,this),Wt(this,"hideAnchors",ep,this),Wt(this,"hoverOutline",tp,this),Wt(this,"nodeSelectedOutline",rp,this),Wt(this,"edgeSelectedOutline",np,this),Wt(this,"nodeTextEdit",op,this),Wt(this,"edgeTextEdit",ip,this),Wt(this,"nodeTextDraggable",ap,this),Wt(this,"edgeTextDraggable",up,this),Wt(this,"autoExpand",sp,this),fp(this,"multipleSelectKey",""),fp(this,"defaultConfig",{}),or(this,this.getConfigDetail(r))}return Hx(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);or(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&or(a,this.defaultConfig),n===!0){var l=fi(Ux,rf);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},or(a,l)}o===!1&&or(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=fi(t,rf);return or(a,p)}},{key:"getConfig",value:function(){return fi(this,rf)}}]),e}(),Yd=$t(It.prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wd=$t(It.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kd=$t(It.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=$t(It.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=$t(It.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jd=$t(It.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qd=$t(It.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qd=$t(It.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=$t(It.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tp=$t(It.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=$t(It.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=$t(It.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),op=$t(It.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ip=$t(It.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ap=$t(It.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),up=$t(It.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sp=$t(It.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$t(It.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);i(77);var Et;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Et||(Et={}));var dp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(dp||(dp={}));var pt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(pt||(pt={}));var Gt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Gt||(Gt={}));var it;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(it||(it={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var kx=9999,br;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(br||(br={}));var _t,pp,hp,vp,yp,gp,mp,bp;function Ma(e,r){return Wx(e)||Yx(e,r)||$x(e,r)||Xx()}function Xx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $x(e,r){if(!!e){if(typeof e=="string")return Op(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Op(e,r)}}function Op(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Yx(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Wx(e){if(Array.isArray(e))return e}function to(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Kx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ep(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vx(e,r,t){return r&&Ep(e.prototype,r),t&&Ep(e,t),e}function nf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Zx=(_t=function(){function e(r){Kx(this,e),nf(this,"MINI_SCALE_SIZE",.2),nf(this,"MAX_SCALE_SIZE",16),to(this,"SCALE_X",pp,this),to(this,"SKEW_Y",hp,this),to(this,"SKEW_X",vp,this),to(this,"SCALE_Y",yp,this),to(this,"TRANSLATE_X",gp,this),to(this,"TRANSLATE_Y",mp,this),to(this,"ZOOM_SIZE",bp,this),nf(this,"eventCenter",void 0),this.eventCenter=r}return Vx(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=Ma(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=Ma(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=Ma(t,2),l=a[0],p=a[1];return[l+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(it.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var l=this.CanvasPointToHtmlPoint([t,n]),p=Ma(l,2),m=p[0],S=p[1],T=o/2-m,j=a/2-S;this.TRANSLATE_X+=T,this.TRANSLATE_Y+=j,this.emitGraphTransform("focusOn")}}]),e}(),pp=Ir(_t.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),hp=Ir(_t.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vp=Ir(_t.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yp=Ir(_t.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),gp=Ir(_t.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mp=Ir(_t.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bp=Ir(_t.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Ir(_t.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"zoom"),_t.prototype),Ir(_t.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"resetZoom"),_t.prototype),Ir(_t.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"translate"),_t.prototype),Ir(_t.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"focusOn"),_t.prototype),_t);function Jx(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Qx=Jx;function qx(e,r){return e&&Ao(r,Po(r),e)}var eS=qx;function tS(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var rS=tS,nS=Object.prototype,oS=nS.hasOwnProperty;function iS(e){if(!At(e))return rS(e);var r=Oa(e),t=[];for(var n in e)n=="constructor"&&(r||!oS.call(e,n))||t.push(n);return t}var aS=iS;function uS(e){return qn(e)?Ed(e,!0):aS(e)}var ci=uS;function sS(e,r){return e&&Ao(r,ci(r),e)}var lS=sS,xp=i(106);function fS(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Sp=fS;function cS(e,r){return Ao(e,Ot(e),r)}var dS=cS,pS=xd(Object.getPrototypeOf,Object),of=pS,hS=Object.getOwnPropertySymbols,vS=hS?function(e){for(var r=[];e;)ai(r,Ot(e)),e=of(e);return r}:fe,Pp=vS;function yS(e,r){return Ao(e,Pp(e),r)}var gS=yS;function mS(e){return O(e,ci,Pp)}var bS=mS,OS=Object.prototype,ES=OS.hasOwnProperty;function xS(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&ES.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var SS=xS;function PS(e){var r=new e.constructor(e.byteLength);return new kt(r).set(new kt(e)),r}var af=PS;function AS(e,r){var t=r?af(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var TS=AS,MS=/\w*$/;function wS(e){var r=new e.constructor(e.source,MS.exec(e));return r.lastIndex=e.lastIndex,r}var NS=wS,Ap=fr?fr.prototype:void 0,Tp=Ap?Ap.valueOf:void 0;function DS(e){return Tp?Object(Tp.call(e)):{}}var jS=DS;function CS(e,r){var t=r?af(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Mp=CS,RS="[object Boolean]",IS="[object Date]",BS="[object Map]",_S="[object Number]",LS="[object RegExp]",zS="[object Set]",FS="[object String]",GS="[object Symbol]",HS="[object ArrayBuffer]",US="[object DataView]",kS="[object Float32Array]",XS="[object Float64Array]",$S="[object Int8Array]",YS="[object Int16Array]",WS="[object Int32Array]",KS="[object Uint8Array]",VS="[object Uint8ClampedArray]",ZS="[object Uint16Array]",JS="[object Uint32Array]";function QS(e,r,t){var n=e.constructor;switch(r){case HS:return af(e);case RS:case IS:return new n(+e);case US:return TS(e,t);case kS:case XS:case $S:case YS:case WS:case KS:case VS:case ZS:case JS:return Mp(e,t);case BS:return new n;case _S:case FS:return new n(e);case LS:return NS(e);case zS:return new n;case GS:return jS(e)}}var qS=QS,wp=Object.create,e0=function(){function e(){}return function(r){if(!At(r))return{};if(wp)return wp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),t0=e0;function r0(e){return typeof e.constructor=="function"&&!Oa(e)?t0(of(e)):{}}var Np=r0,n0="[object Map]";function o0(e){return Tt(e)&&si(e)==n0}var i0=o0,Dp=So.a&&So.a.isMap,a0=Dp?kl(Dp):i0,u0=a0,s0="[object Set]";function l0(e){return Tt(e)&&si(e)==s0}var f0=l0,jp=So.a&&So.a.isSet,c0=jp?kl(jp):f0,d0=c0,p0=1,h0=2,v0=4,Cp="[object Arguments]",y0="[object Array]",g0="[object Boolean]",m0="[object Date]",b0="[object Error]",Rp="[object Function]",O0="[object GeneratorFunction]",E0="[object Map]",x0="[object Number]",Ip="[object Object]",S0="[object RegExp]",P0="[object Set]",A0="[object String]",T0="[object Symbol]",M0="[object WeakMap]",w0="[object ArrayBuffer]",N0="[object DataView]",D0="[object Float32Array]",j0="[object Float64Array]",C0="[object Int8Array]",R0="[object Int16Array]",I0="[object Int32Array]",B0="[object Uint8Array]",_0="[object Uint8ClampedArray]",L0="[object Uint16Array]",z0="[object Uint32Array]",Mt={};Mt[Cp]=Mt[y0]=Mt[w0]=Mt[N0]=Mt[g0]=Mt[m0]=Mt[D0]=Mt[j0]=Mt[C0]=Mt[R0]=Mt[I0]=Mt[E0]=Mt[x0]=Mt[Ip]=Mt[S0]=Mt[P0]=Mt[A0]=Mt[T0]=Mt[B0]=Mt[_0]=Mt[L0]=Mt[z0]=!0,Mt[b0]=Mt[Rp]=Mt[M0]=!1;function wa(e,r,t,n,o,a){var l,p=r&p0,m=r&h0,S=r&v0;if(t&&(l=o?t(e,n,o,a):t(e)),l!==void 0)return l;if(!At(e))return e;var T=d(e);if(T){if(l=SS(e),!p)return Sp(e,l)}else{var j=si(e),_=j==Rp||j==O0;if(Object(fn.a)(e))return Object(xp.a)(e,p);if(j==Ip||j==Cp||_&&!o){if(l=m||_?{}:Np(e),!p)return m?gS(e,lS(l,e)):dS(e,eS(l,e))}else{if(!Mt[j])return o?e:{};l=qS(e,j,p)}}a||(a=new Mn);var H=a.get(e);if(H)return H;a.set(e,l),d0(e)?e.forEach(function(se){l.add(wa(se,r,t,se,e,a))}):u0(e)&&e.forEach(function(se,le){l.set(le,wa(se,r,t,le,e,a))});var Z=S?m?bS:$l:m?ci:Po,ae=T?void 0:Z(e);return Qx(ae||e,function(se,le){ae&&(le=se,se=e[le]),Ta(l,le,wa(se,r,t,le,e,a))}),l}var F0=wa,G0=1,H0=4;function U0(e){return F0(e,G0|H0)}var jt=U0;function k0(e,r,t){(t!==void 0&&!Zt(e[r],t)||t===void 0&&!(r in e))&&tf(e,r,t)}var uf=k0;function X0(e){return Tt(e)&&qn(e)}var $0=X0,Y0="[object Object]",W0=Function.prototype,K0=Object.prototype,Bp=W0.toString,V0=K0.hasOwnProperty,Z0=Bp.call(Object);function J0(e){if(!Tt(e)||Xr(e)!=Y0)return!1;var r=of(e);if(r===null)return!0;var t=V0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Bp.call(t)==Z0}var Q0=J0;function q0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var sf=q0;function eP(e){return Ao(e,ci(e))}var tP=eP;function rP(e,r,t,n,o,a,l){var p=sf(e,t),m=sf(r,t),S=l.get(m);if(S){uf(e,t,S);return}var T=a?a(p,m,t+"",e,r,l):void 0,j=T===void 0;if(j){var _=d(m),H=!_&&Object(fn.a)(m),Z=!_&&!H&&Xl(m);T=m,_||H||Z?d(p)?T=p:$0(p)?T=Sp(p):H?(j=!1,T=Object(xp.a)(m,!0)):Z?(j=!1,T=Mp(m,!0)):T=[]:Q0(m)||Nn(m)?(T=p,Nn(p)?T=tP(p):(!At(p)||yo(p))&&(T=Np(m))):j=!1}j&&(l.set(m,T),o(T,m,n,a,l),l.delete(m)),uf(e,t,T)}var nP=rP;function _p(e,r,t,n,o){e!==r&&Fd(r,function(a,l){if(o||(o=new Mn),At(a))nP(e,r,l,t,_p,n,o);else{var p=n?n(sf(e,l),a,l+"",e,r,o):void 0;p===void 0&&(p=a),uf(e,l,p)}},ci)}var oP=_p,iP=kd(function(e,r,t){oP(e,r,t)}),Lp=iP,aP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},zp=function(r){var t=jt(aP);return r&&(t=Lp(t,r)),t};i(78),i(158);function uP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sP(e,r,t){return r&&Fp(e.prototype,r),t&&Fp(e,t),e}function lP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var fP="*",cP=function(){function e(){uP(this,e),lP(this,"_events",{})}return sP(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(l){l=l.trim(),a._events[l]||(a._events[l]=[]),a._events[l].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var l=o._events[a]||[],p=o._events[fP]||[],m=function(T){for(var j=T.length,_=0;_<j;_++)if(!!T[_]){var H=T[_],Z=H.callback,ae=H.once;ae&&(T.splice(_,1),T.length===0&&delete o._events[a],j--,_--),Z.apply(o,[n])}};m(l),m(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var l=o._events[a]||[],p=l.length,m=0;m<p;m++)l[m].callback===n&&(l.splice(m,1),p--,m--);l.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Dn(e,r){return r*Math.round(e/r)||e}function Gp(e,r){return e%r}function lf(e,r){return vP(e)||hP(e,r)||pP(e,r)||dP()}function dP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pP(e,r){if(!!e){if(typeof e=="string")return Hp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hp(e,r)}}function Hp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function hP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function vP(e){if(Array.isArray(e))return e}var ff=function(r,t,n){var o=lf(r,2),a=o[0],l=o[1],p=lf(t,2),m=p[0],S=p[1],T=lf(n,2),j=T[0],_=T[1];return a>m&&a<j&&l>S&&l<_},Up=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;case"ctrl":o=r.ctrlKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var Na,yP=new Uint8Array(16);function gP(){if(!Na&&(Na=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Na))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Na(yP)}var mP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function bP(e){return typeof e=="string"&&mP.test(e)}for(var OP=bP,Kt=[],cf=0;cf<256;++cf)Kt.push((cf+256).toString(16).substr(1));function EP(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Kt[e[r+0]]+Kt[e[r+1]]+Kt[e[r+2]]+Kt[e[r+3]]+"-"+Kt[e[r+4]]+Kt[e[r+5]]+"-"+Kt[e[r+6]]+Kt[e[r+7]]+"-"+Kt[e[r+8]]+Kt[e[r+9]]+"-"+Kt[e[r+10]]+Kt[e[r+11]]+Kt[e[r+12]]+Kt[e[r+13]]+Kt[e[r+14]]+Kt[e[r+15]]).toLowerCase();if(!OP(t))throw TypeError("Stringified UUID is invalid");return t}var xP=EP;function SP(e,r,t){e=e||{};var n=e.random||(e.rng||gP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return xP(n)}var df=SP,ro=function(){var r=df();return r},PP=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+df(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+df(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var AP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var l=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(l-r.x)*(l-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(l-n.x)*(l-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:l,y:p}:!1},di=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function Da(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Da=function(t){return typeof t}:Da=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}function kp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Xp(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?kp(Object(t),!0).forEach(function(n){TP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var pf=function(r){var t=r.anchors;return t},ja=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var l=n[a],p=NP(r,l);if(p){var m=wP(r,l);if(m){var S={node:l,anchorIndex:m.index,anchor:m.anchor};(!o||MP(l,o.node,t))&&(o=S)}}}return o},MP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},wP=function(r,t){for(var n=pf(t),o,a=Number.MAX_SAFE_INTEGER,l=0;l<n.length;l++){var p=Wr(r.x,r.y,n[l].x,n[l].y);p<a&&(a=p,o={index:l,anchor:Xp(Xp({},n[l]),{},{x:n[l].x,y:n[l].y,id:n[l].id})})}return o},Wr=function(r,t,n,o){return Math.hypot(r-n,t-o)},jn=function(r,t){var n=!1,o=0,a=Or(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},NP=function(r,t){var n=!1,o=5,a=Or(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},Or=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,l={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return l},DP=function(r){var t=r,n=t.x,o=t.y,a=t.width,l=t.height,p=t.radius,m=[{x:n-a/2+p,y:o-l/2+p,r:p},{x:n+a/2-p,y:o-l/2+p,r:p},{x:n-a/2+p,y:o+l/2-p,r:p},{x:n+a/2-p,y:o+l/2-p,r:p}];return m},$p=function(r,t,n){var o=DP(n),a,l=Number.MAX_SAFE_INTEGER;o.forEach(function(m){var S=Wr(r.x,r.y,m.x,m.y);S<l&&(l=S,a=m)});var p=hf(r,t,a);return p},hf=function(r,t,n){var o,a=n,l=a.x,p=a.y,m=a.r;if(t===Dt.HORIZONTAL){var S=l-Math.sqrt(m*m-(r.y-p)*(r.y-p)),T=l+Math.sqrt(m*m-(r.y-p)*(r.y-p)),j=Math.abs(S-r.x)<Math.abs(T-r.x)?S:T;o={x:j,y:r.y}}else if(t===Dt.VERTICAL){var _=p-Math.sqrt(m*m-(r.x-l)*(r.x-l)),H=p+Math.sqrt(m*m-(r.x-l)*(r.x-l)),Z=Math.abs(_-r.y)<Math.abs(H-r.y)?_:H;o={x:r.x,y:Z}}return o},Yp=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},l=n.x,p=n.y,m=n.width,S=n.height;return r.y===p+S/2||r.y===p-S/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===l+m/2||r.x===l-m/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},Wp=function(r,t,n){var o,a=n,l=a.x,p=a.y,m=a.rx,S=a.ry;if(t===Dt.HORIZONTAL){var T=l-Math.sqrt(m*m-(r.y-p)*(r.y-p)*m*m/(S*S)),j=l+Math.sqrt(m*m-(r.y-p)*(r.y-p)*m*m/(S*S)),_=Math.abs(T-r.x)<Math.abs(j-r.x)?T:j;o={x:_,y:r.y}}else if(t===Dt.VERTICAL){var H=p-Math.sqrt(S*S-(r.x-l)*(r.x-l)*S*S/(m*m)),Z=p+Math.sqrt(S*S-(r.x-l)*(r.x-l)*S*S/(m*m)),ae=Math.abs(H-r.y)<Math.abs(Z-r.y)?H:Z;o={x:r.x,y:ae}}return o},Ca=function(r,t,n){for(var o=n,a=o.pointsPosition,l=Number.MAX_SAFE_INTEGER,p,m=[],S=0;S<a.length;S++)m.push({start:a[S],end:a[(S+1)%a.length]});return m.forEach(function(T){var j=T.start,_=T.end,H=j,Z=_;j.x>_.x&&(H=_,Z=j);var ae={x:r.x,y:r.y};if(H.x===Z.x&&t===Dt.HORIZONTAL&&(ae={x:H.x,y:r.y}),H.y===Z.y&&t===Dt.VERTICAL&&(ae={x:r.x,y:H.y}),H.x!==Z.x&&H.y!==Z.y){var se=(Z.y-H.y)/(Z.x-H.x),le=(H.x*Z.y-Z.x*H.y)/(H.x-Z.x);t===Dt.HORIZONTAL?ae={x:(r.y-le)/se,y:r.y}:t===Dt.VERTICAL&&(ae={x:r.x,y:se*r.x+le})}var we=di(ae,j,_);if(we){var ge=Wr(ae.x,ae.y,r.x,r.y);ge<l&&(l=ge,p=ae)}}),p},jP=function(r){var t=fi(r,["id","type","x","y","text","properties","virtual"]);return t},Kp=function(r,t,n,o){var a=r.x,l=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?l=r.y+o/2:t.y<r.y&&(l=r.y-o/2),{x:a,y:l}},Vp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,l=document.createElement("div");l.style.fontSize=n.fontSize,l.style.width=n.width,l.className=a,l.style.lineHeight=n.lineHeight,l.style.padding=n.padding,n.fontFamily&&(l.style.fontFamily=n.fontFamily),o>1?t.forEach(function(m){var S=document.createElement("div");S.textContent=m,l.appendChild(S)}):l.textContent=t,document.body.appendChild(l);var p=l.clientHeight;return document.body.removeChild(l),p},vf=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(l){var p=Gh(l);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Ra=function(r){return Da(r)!=="object"?{isAllPass:!!r,msg:r?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:r},Zp={node:!1,edge:!1},CP={node:!0,edge:!0},RP={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},er=function(r){try{return JSON.parse(JSON.stringify(r))}catch(t){return r}},IP=1e3,BP=999,yf=function(){return++IP},_P=function(){return--BP},ye,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,uh,sh,lh,fh,ch,dh,ph,hh,vh;function yh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Br(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yh(Object(t),!0).forEach(function(n){Er(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ht(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function LP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zP(e,r,t){return r&&gh(e.prototype,r),t&&gh(e,t),e}function Er(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function et(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var gf=(ye=function(){function e(r,t){LP(this,e),Er(this,"id",ro()),Ht(this,"type",Jp,this),Ht(this,"sourceNodeId",Qp,this),Ht(this,"targetNodeId",qp,this),Ht(this,"startPoint",eh,this),Ht(this,"endPoint",th,this),Ht(this,"text",rh,this),Ht(this,"properties",nh,this),Ht(this,"points",oh,this),Ht(this,"pointsList",ih,this),Ht(this,"isSelected",ah,this),Ht(this,"isHovered",uh,this),Ht(this,"isHitable",sh,this),Ht(this,"draggable",lh,this),Ht(this,"visible",fh,this),Er(this,"virtual",!1),Ht(this,"isAnimation",ch,this),Er(this,"graphModel",void 0),Ht(this,"zIndex",dh,this),Er(this,"BaseType",Gt.EDGE),Er(this,"modelType",pt.EDGE),Ht(this,"state",ph,this),Er(this,"additionStateData",void 0),Er(this,"sourceAnchorId",""),Er(this,"targetAnchorId",""),Er(this,"menu",void 0),Er(this,"customTextPosition",!1),Er(this,"animationData",RP),Ht(this,"style",hh,this),Ht(this,"arrowConfig",vh,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return zP(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}or(this,MA(t));var l=this.graphModel.overlapMode;l===br.INCREASE&&(this.zIndex=t.zIndex||yf()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Br(Br({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return jt(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return jt(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return jt(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return jt(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,l=pf(t);return l.forEach(function(p){var m=kh(p,n);a?m<a&&(a=m,o=p):(a=m,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,l=pf(t);return l.forEach(function(p){var m=kh(p,n.startPoint);a?m<a&&(a=m,o=p):(a=m,o=p)}),o}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return a&&(l.text={x:n,y:o,value:a}),this.graphModel.overlapMode===br.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=er(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Br(Br({},this.properties),er(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=Br(Br({},this.style),{},Er({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=Br(Br({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=Br({},er(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,l=o.y,p=o.value,m=o.draggable,S=o.editable;this.text={value:p,draggable:m,x:a+t,y:l+n,editable:S}}}},{key:"setText",value:function(t){t&&or(this.text,t)}},{key:"updateText",value:function(t){this.text=Br(Br({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){or(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Jp=et(ye.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qp=et(ye.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qp=et(ye.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),eh=et(ye.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),th=et(ye.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rh=et(ye.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),nh=et(ye.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),oh=et(ye.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ih=et(ye.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ah=et(ye.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uh=et(ye.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sh=et(ye.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lh=et(ye.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fh=et(ye.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ch=et(ye.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dh=et(ye.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ph=et(ye.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),hh=et(ye.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vh=et(ye.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),et(ye.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"sourceNode"),ye.prototype),et(ye.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"targetNode"),ye.prototype),et(ye.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"textPosition"),ye.prototype),et(ye.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperty"),ye.prototype),et(ye.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"deleteProperty"),ye.prototype),et(ye.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperties"),ye.prototype),et(ye.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"changeEdgeId"),ye.prototype),et(ye.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyle"),ye.prototype),et(ye.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyles"),ye.prototype),et(ye.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStyles"),ye.prototype),et(ye.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"formatText"),ye.prototype),et(ye.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"resetTextPosition"),ye.prototype),et(ye.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveText"),ye.prototype),et(ye.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setText"),ye.prototype),et(ye.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateText"),ye.prototype),et(ye.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setAnchors"),ye.prototype),et(ye.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setSelected"),ye.prototype),et(ye.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHovered"),ye.prototype),et(ye.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHitable"),ye.prototype),et(ye.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"openEdgeAnimation"),ye.prototype),et(ye.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"closeEdgeAnimation"),ye.prototype),et(ye.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setElementState"),ye.prototype),et(ye.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStartPoint"),ye.prototype),et(ye.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveStartPoint"),ye.prototype),et(ye.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateEndPoint"),ye.prototype),et(ye.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveEndPoint"),ye.prototype),et(ye.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setZIndex"),ye.prototype),et(ye.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"initPoints"),ye.prototype),et(ye.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAttributes"),ye.prototype),et(ye.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustStart"),ye.prototype),et(ye.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustEnd"),ye.prototype),et(ye.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAfterAdjustStartAndEnd"),ye.prototype),ye),mf=gf;function Ia(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(t){return typeof t}:Ia=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function mh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function bh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?mh(Object(t),!0).forEach(function(n){xh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function FP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Oh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GP(e,r,t){return r&&Oh(e.prototype,r),t&&Oh(e,t),e}function Ba(){return typeof Reflect!="undefined"&&Reflect.get?Ba=Reflect.get:Ba=function(r,t,n){var o=HP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ba.apply(this,arguments)}function HP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=To(e),e!==null););return e}function UP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&bf(e,r)}function bf(e,r){return bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},bf(e,r)}function kP(e){var r=$P();return function(){var n=To(e),o;if(r){var a=To(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XP(this,o)}}function XP(e,r){if(r&&(Ia(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eh(e)}function Eh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $P(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function To(e){return To=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},To(e)}function xh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Of=function(e){UP(t,e);var r=kP(t);function t(){var n;FP(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),xh(Eh(n),"modelType",pt.LINE_EDGE),n}return GP(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=Ba(To(t.prototype),"getEdgeStyle",this).call(this);return bh(bh({},a),jt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(mf);function _a(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_a=function(t){return typeof t}:_a=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}var at,Sh;function YP(e,r){return ZP(e)||VP(e,r)||KP(e,r)||WP()}function WP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KP(e,r){if(!!e){if(typeof e=="string")return Ph(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ph(e,r)}}function Ph(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function VP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ZP(e){if(Array.isArray(e))return e}function Ah(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Th(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ah(Object(t),!0).forEach(function(n){xf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ah(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function JP(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function QP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qP(e,r,t){return r&&Mh(e.prototype,r),t&&Mh(e,t),e}function Mo(){return typeof Reflect!="undefined"&&Reflect.get?Mo=Reflect.get:Mo=function(r,t,n){var o=eA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Mo.apply(this,arguments)}function eA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Cn(e),e!==null););return e}function tA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ef(e,r)}function Ef(e,r){return Ef=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ef(e,r)}function rA(e){var r=oA();return function(){var n=Cn(e),o;if(r){var a=Cn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nA(this,o)}}function nA(e,r){if(r&&(_a(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pi(e)}function pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cn(e)}function xf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Sf=(at=function(e){tA(t,e);var r=rA(t);function t(){var n;QP(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),xf(pi(n),"modelType",pt.POLYLINE_EDGE),xf(pi(n),"draginngPointList",void 0),JP(pi(n),"dbClickPosition",Sh,pi(n)),n}return qP(t,[{key:"initEdgeData",value:function(o){this.offset=30,Mo(Cn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=Mo(Cn(t.prototype),"getEdgeStyle",this).call(this);return Th(Th({},a),jt(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var l=this.dbClickPosition,p=l.x,m=l.y;return{x:p,y:m}}var S=wo(this.points),T=SA(S),j=YP(T,2),_=j[0],H=j[1];return{x:(_.x+H.x)/2,y:(_.y+H.y)/2}}},{key:"getAfterAnchor",value:function(o,a,l){var p,m;return l.forEach(function(S){var T;o===Dt.HORIZONTAL?T=Math.abs(a.y-S.y):o===Dt.VERTICAL&&(T=Math.abs(a.x-S.x)),(!m||m>T)&&(m=T,p=S)}),p}},{key:"getCorssPoint",value:function(o,a,l){var p;return o===Dt.HORIZONTAL?p={x:l.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:l.y}),p}},{key:"removeCrossPoints",value:function(o,a,l){var p=l.map(function(Re){return Re});if(o===1){var m=p[o],S=p[a],T=p[o-1],j=_h(T,m,this.sourceNode);if(j){var _=Lh(m,S,this.sourceNode);if(_){var H=zh(m,S,this.sourceNode);H&&(p[o]=H,p.splice(o-1,1),o--,a--)}}else{var Z=this.sourceNode.anchors;Z.forEach(function(Re){if(Re.x===T.x&&Re.x===m.x||Re.y===T.y&&Re.y===m.y){var Ze=Wr(Re.x,Re.y,m.x,m.y),Ge=Wr(T.x,T.y,m.x,m.y);Ze<Ge&&(p[o-1]=Re)}})}}if(a===l.length-2){var ae=p[o],se=p[a],le=p[a+1],we=_h(se,le,this.targetNode);if(we){var ge=Lh(ae,se,this.targetNode);if(ge){var be=zh(ae,se,this.targetNode);be&&(p[a]=be,p.splice(a+1,1))}}else{var Fe=this.targetNode.anchors;Fe.forEach(function(Re){if(Re.x===le.x&&Re.x===se.x||Re.y===le.y&&Re.y===se.y){var Ze=Wr(Re.x,Re.y,se.x,se.y),Ge=Wr(le.x,le.y,se.x,se.y);Ze<Ge&&(p[a+1]=Re)}})}}return p}},{key:"getDragingPoints",value:function(o,a,l,p,m){var S=m.map(function(_){return _}),T=this.getAfterAnchor(o,l,p),j=this.getCorssPoint(o,l,T);return a==="start"?(S.unshift(j),S.unshift(T)):(S.push(j),S.push(T)),S}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(be){return be}),l=o[0],p=o[1],m=o[a.length-2],S=o[a.length-1],T=this.sourceNode,j=this.targetNode,_=T.modelType,H=j.modelType,Z=ka(l,p),ae=a[0];switch(_){case pt.RECT_NODE:if(T.radius!==0){var se=Yp(l,T);se||(ae=$p(l,Z,T))}break;case pt.CIRCLE_NODE:ae=hf(l,Z,T);break;case pt.ELLIPSE_NODE:ae=Wp(l,Z,T);break;case pt.DIAMOND_NODE:ae=Ca(l,Z,T);break;case pt.POLYGON_NODE:ae=Ca(l,Z,T);break}a[0]=ae;var le=ka(m,S),we=a[a.length-1];switch(H){case pt.RECT_NODE:if(j.radius!==0){var ge=Yp(S,j);ge||(we=$p(S,le,j))}break;case pt.CIRCLE_NODE:we=hf(S,le,j);break;case pt.ELLIPSE_NODE:we=Wp(S,le,j);break;case pt.DIAMOND_NODE:we=Ca(S,le,j);break;case pt.POLYGON_NODE:we=Ca(S,le,j);break}return a[a.length-1]=we,a}},{key:"getData",value:function(){var o=Mo(Cn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(l){var p=l.x,m=l.y;return{x:p,y:m}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Bh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var l=o.start,p=o.end,m=o.startIndex,S=o.endIndex,T=o.direction,j=this.pointsList,_=j;return T===Dt.HORIZONTAL?(j[m]={x:l.x,y:l.y+a.y},j[S]={x:p.x,y:p.y+a.y},_=this.pointsList.map(function(H){return H})):T===Dt.VERTICAL&&(j[m]={x:l.x+a.x,y:l.y},j[S]={x:p.x+a.x,y:p.y},_=this.pointsList.map(function(H){return H})),this.updatePointsAfterDrag(_),this.draginngPointList=_,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},j[m]),end:Object.assign({},j[S]),startIndex:m,endIndex:S,direction:T}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var l=o.start,p=o.end,m=o.startIndex,S=o.endIndex,T=o.direction,j=this.pointsList;if(T===Dt.HORIZONTAL){j[m]={x:l.x,y:l.y+a.y},j[S]={x:p.x,y:p.y+a.y};var _=this.pointsList.map(function(yt){return yt});if(m!==0&&S!==this.pointsList.length-1&&(_=this.removeCrossPoints(m,S,_)),m===0){var H={x:l.x,y:l.y+a.y},Z=jn(H,this.sourceNode);if(!Z){var ae=this.sourceNode.anchors;_=this.getDragingPoints(T,"start",H,ae,_)}}if(S===this.pointsList.length-1){var se={x:p.x,y:p.y+a.y},le=jn(se,this.targetNode);if(!le){var we=this.targetNode.anchors;_=this.getDragingPoints(T,"end",se,we,_)}}this.updatePointsAfterDrag(_),this.draggingPointList=_}else if(T===Dt.VERTICAL){j[m]={x:l.x+a.x,y:l.y},j[S]={x:p.x+a.x,y:p.y};var ge=this.pointsList.map(function(yt){return yt});if(m!==0&&S!==this.pointsList.length-1&&(ge=this.removeCrossPoints(m,S,ge)),m===0){var be={x:l.x+a.x,y:l.y},Fe=jn(be,this.sourceNode);if(!Fe){var Re=this.sourceNode.anchors;ge=this.getDragingPoints(T,"start",be,Re,ge)}}if(S===this.pointsList.length-1){var Ze={x:p.x+a.x,y:p.y},Ge=jn(Ze,this.targetNode);if(!Ge){var ht=this.targetNode.anchors;ge=this.getDragingPoints(T,"end",Ze,ht,ge)}}this.updatePointsAfterDrag(ge),this.draggingPointList=ge}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},j[m]),end:Object.assign({},j[S]),startIndex:m,endIndex:S,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=Ih(wo(this.points));this.pointsList=o.map(function(p){return p}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,l=o.endPoint,p=o.sourceNode,m=o.targetNode,S=Bh({x:a.x,y:a.y},{x:l.x,y:l.y},p,m,this.offset||0);this.pointsList=S,this.initPoints()}}]),t}(mf),Sh=ir(at.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir(at.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"initPoints"),at.prototype),ir(at.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePoints"),at.prototype),ir(at.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateStartPoint"),at.prototype),ir(at.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveStartPoint"),at.prototype),ir(at.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateEndPoint"),at.prototype),ir(at.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveEndPoint"),at.prototype),ir(at.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendStart"),at.prototype),ir(at.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendSimple"),at.prototype),ir(at.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppend"),at.prototype),ir(at.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendEnd"),at.prototype),ir(at.prototype,"updatePointsAfterDrag",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePointsAfterDrag"),at.prototype),ir(at.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustStart"),at.prototype),ir(at.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustEnd"),at.prototype),ir(at.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateAfterAdjustStartAndEnd"),at.prototype),at),hi=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,l=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},m=Math.atan((n.y-t.y)/(n.x-t.x)),S=Math.atan(o/a),T=Math.sqrt(a*a+o*o);return l==="start"?n.x>=t.x?(p.leftX=t.x+T*Math.sin(m+S),p.leftY=t.y-T*Math.cos(m+S),p.rightX=t.x-T*Math.sin(m-S),p.rightY=t.y+T*Math.cos(m-S)):(p.leftX=t.x-T*Math.sin(m+S),p.leftY=t.y+T*Math.cos(m+S),p.rightX=t.x+T*Math.sin(m-S),p.rightY=t.y-T*Math.cos(m-S)):l==="end"&&(n.x>=t.x?(p.leftX=n.x+T*Math.sin(m-S),p.leftY=n.y-T*Math.cos(m-S),p.rightX=n.x-T*Math.sin(m+S),p.rightY=n.y+T*Math.cos(m+S)):(p.leftX=n.x-T*Math.sin(m-S),p.leftY=n.y+T*Math.cos(m-S),p.rightX=n.x+T*Math.sin(m+S),p.rightY=n.y-T*Math.cos(m+S))),p};function wh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function La(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?wh(Object(t),!0).forEach(function(n){iA(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function iA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function aA(e){return lA(e)||sA(e)||Nh(e)||uA()}function uA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sA(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lA(e){if(Array.isArray(e))return Af(e)}function za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(t){return typeof t}:za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function Pf(e,r){return dA(e)||cA(e,r)||Nh(e,r)||fA()}function fA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nh(e,r){if(!!e){if(typeof e=="string")return Af(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Af(e,r)}}function Af(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function dA(e){if(Array.isArray(e))return e}var pA=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Tf=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},Fa=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},hA=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},Ga=function(r,t){var n=hA(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Dh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),l=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+l)/2,minX:n,minY:o,maxX:a,maxY:l,height:l-o,width:a-n}},vi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(j){n.push(j.x),o.push(j.y)});var a=Math.min.apply(Math,n),l=Math.max.apply(Math,n),p=Math.min.apply(Math,o),m=Math.max.apply(Math,o),S=l-a,T=m-p;return t&&(S+=t,T+=t),{centerX:(a+l)/2,centerY:(p+m)/2,maxX:l,maxY:m,minX:a,minY:p,x:(a+l)/2,y:(p+m)/2,height:T,width:S}},Ha=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},Ua=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},vA=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},yA=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},gA=function(r,t){return vA(r,t.x).concat(yA(r,t.y))},Mf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},mA=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},jh=function(r,t,n,o,a){return Mf(r,t)+Mf(r,n)+mA(r,[t,n,o,a])},bA=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},OA=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},yi=function(r,t,n,o){var a=t.x-r.x,l=t.y-r.y,p=o.x-n.x,m=o.y-n.y,S=(-l*(r.x-n.x)+a*(r.y-n.y))/(-p*l+a*m),T=(p*(r.y-n.y)-m*(r.x-n.x))/(-p*l+a*m);return S>=0&&S<=1&&T>=0&&T<=1},Ch=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Ha(n),a=Pf(o,4),l=a[0],p=a[1],m=a[2],S=a[3];return yi(r,t,l,p)||yi(r,t,l,S)||yi(r,t,p,m)||yi(r,t,m,S)},EA=function(r,t,n,o){var a=[];return r.forEach(function(l){l!==t&&(l.x===t.x||l.y===t.y)&&!Ch(l,t,n)&&!Ch(l,t,o)&&a.push(l)}),Tf(a)},xA=function(r,t,n,o,a,l,p){var m=[],S=[t],T={},j={},_={};j[t.id]=0,_[t.id]=jh(t,n,t);var H={};r.forEach(function(se){H[se.id]=se});for(var Z=function(){var le=void 0,we=1/0;if(S.forEach(function(be){_[be.id]<we&&(we=_[be.id],le=be)}),le===n){var ge=[];return bA(ge,H,T,n.id),{v:ge}}OA(S,le),m.push(le),EA(r,le,o,a).forEach(function(be){if(m.indexOf(be)===-1){S.indexOf(be)===-1&&S.push(be);var Fe=_[le.id]+Mf(le,be);j[be.id]&&Fe>=j[be.id]||(T[be.id]=le.id,j[be.id]=Fe,_[be.id]=j[be.id]+jh(be,n,t,l,p))}})};S.length;){var ae=Z();if(za(ae)==="object")return ae.v}return[t,n]},Rh=function(r){var t=Or(r);return t},Ih=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],a=t[n],l=t[n+1];o.x===a.x&&a.x===l.x||o.y===a.y&&a.y===l.y?t.splice(n,1):n++}return t},Bh=function(r,t,n,o,a){var l=Rh(n),p=Rh(o),m=Fa(l,a),S=Fa(p,a),T=Ga(m,r),j=Ga(S,t);if(pA(m,S)){var _=PA(r,t,T,j);return[r,T].concat(aA(_),[j,t])}var H=vi([T,j]),Z=Dh(m,H),ae=Dh(S,H),se=[];se=se.concat(Ha(Z)),se=se.concat(Ha(ae));var le={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[H,Z,ae].forEach(function(ge){se=se.concat(gA(ge,le).filter(function(be){return Ua(be,m)&&Ua(be,S)}))}),[{x:T.x,y:j.y},{x:j.x,y:T.y}].forEach(function(ge){Ua(ge,m)&&Ua(ge,S)&&se.push(ge)}),se.unshift(T),se.push(j),se=Tf(se);var we=xA(se,T,j,l,p,r,t);return we.unshift(r),we.push(t),we.length>2&&(we=Ih(we)),Tf(we)},SA=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Wr(n.x,n.y,o.x,o.y),l=1;l<r.length-1;l++){var p=r[l],m=r[l+1],S=Wr(p.x,p.y,m.x,m.y);S>a&&(a=S,n=p,o=m)}t=[n,o]}return t},_h=function(r,t,n){var o=jn(r,n),a=jn(t,n);return o&&a},Lh=function(r,t,n){var o=jn(r,n),a=jn(t,n),l=o&&a,p=o||a;return!l&&p},zh=function(r,t,n){for(var o,a,l=Or(n),p=Ha(l),m=0;m<p.length;m++){var S=yi(r,t,p[m],p[(m+1)%p.length]);S&&(a=[p[m],p[(m+1)%p.length]])}return a&&(o=AP(r,t,a[0],a[1])),o},ka=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},wo=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),l=Pf(a,2),p=l[0],m=l[1];n.push({x:Number(p),y:Number(m)})}),n},PA=function(r,t,n,o){var a=[],l=ka(r,n),p=ka(t,o);if(l===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var m={x:n.x,y:o.y},S=di(m,r,n),T=di(m,t,o);if(S||T)m={x:o.x,y:n.y};else{var j=Fh(m,r,n),_=Fh(m,t,o);j&&_&&(m={x:o.x,y:n.y})}a.push(m)}return a},Fh=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},Gh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},AA=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},l=hi(La(La({},a),{},{type:"start"})),p=hi(La(La({},a),{},{type:"end"}));o="M".concat(l.leftX," ").concat(l.leftY,` 
    L`).concat(l.rightX," ").concat(l.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Hh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,l=r.offset,p=Or(o),m=Or(a),S=Fa(p,l),T=Fa(m,l),j=Ga(S,t),_=Ga(T,n);return{sNext:j,ePre:_}},Xa=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=$a(t[0]),o=$a(t[1]),a=$a(t[2]),l=$a(t[3]);return[n,o,a,l]},$a=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=Pf(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},TA=function(r){var t=Xa(r);return[t[2],t[3]]},Uh=function(r,t){for(var n=r.x,o=r.y,a=wo(t),l=Number.MAX_SAFE_INTEGER,p,m=[],S=0;S<a.length;S++)m.push({start:a[S],end:a[(S+1)%a.length]});if(m.forEach(function(H){var Z=H.start,ae=H.end;if(Z.x===ae.x){var se={x:Z.x,y:o},le=di(se,Z,ae);if(le){var we=Math.abs(Z.x-n);we<l&&(l=we,p=se)}}else if(Z.y===ae.y){var ge={x:n,y:Z.y},be=di(ge,Z,ae);if(be){var Fe=Math.abs(Z.y-o);Fe<l&&(l=Fe,p=ge)}}}),!p){var T=m[0],j=T.start,_=T.end;p={x:j.x+(_.x-j.x)/2,y:j.y+(_.y-j.y)/2}}return p},MA=function(r){return fi(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},kh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function wA(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function NA(){}var No=NA;function DA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jA(e,r,t){return r&&Xh(e.prototype,r),t&&Xh(e,t),e}function zt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Kr=window.document,$h=0;function wf(e){var r=e.onDragStart,t=r===void 0?No:r,n=e.onDraging,o=n===void 0?No:n,a=e.onDragEnd,l=a===void 0?No:a,p=e.step,m=p===void 0?1:p,S=e.isStopPropagation,T=S===void 0?!0:S,j=!1,_=!1,H=0,Z=0,ae=0,se=0;function le(be){if(T&&be.stopPropagation(),!!_&&(j=!0,ae+=be.clientX-H,se+=be.clientY-Z,H=be.clientX,Z=be.clientY,Math.abs(ae)>m||Math.abs(se)>m)){var Fe=ae%m,Re=se%m,Ze=ae-Fe,Ge=se-Re;ae=Fe,se=Re,o({deltaX:Ze,deltaY:Ge,event:be})}}function we(be){if(T&&be.stopPropagation(),_=!1,Kr.removeEventListener("mousemove",le,!1),Kr.removeEventListener("mouseup",we,!1),!!j)return j=!1,l({event:be})}function ge(be){if(be.button===$h)return T&&be.stopPropagation(),_=!0,H=be.clientX,Z=be.clientY,Kr.addEventListener("mousemove",le,!1),Kr.addEventListener("mouseup",we,!1),t({event:be})}return ge}var no=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?No:n,a=r.onDraging,l=a===void 0?No:a,p=r.onDragEnd,m=p===void 0?No:p,S=r.eventType,T=S===void 0?"":S,j=r.eventCenter,_=j===void 0?null:j,H=r.step,Z=H===void 0?1:H,ae=r.isStopPropagation,se=ae===void 0?!0:ae,le=r.model,we=le===void 0?null:le;DA(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(ge){var be,Fe;if(ge.button===$h){t.isStopPropagation&&ge.stopPropagation(),t.isStartDraging=!0,t.startX=ge.clientX,t.startY=ge.clientY,Kr.addEventListener("mousemove",t.handleMouseMove,!1),Kr.addEventListener("mouseup",t.handleMouseUp,!1);var Re=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEDOWN")],{e:ge,data:Re}),t.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(ge){if(t.isStopPropagation&&ge.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=ge.clientX-t.startX,t.sumDeltaY+=ge.clientY-t.startY,t.startX=ge.clientX,t.startY=ge.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var be,Fe=t.sumDeltaX%t.step,Re=t.sumDeltaY%t.step,Ze=t.sumDeltaX-Fe,Ge=t.sumDeltaY-Re;t.sumDeltaX=Fe,t.sumDeltaY=Re;var ht=(be=t.model)===null||be===void 0?void 0:be.getData();if(!t.isDraging){var yt;(yt=t.eventCenter)===null||yt===void 0||yt.emit(it["".concat(t.eventType,"_DRAGSTART")],{e:ge,data:ht}),t.onDragStart({event:ge})}t.isDraging=!0,Promise.resolve().then(function(){var sr,xr;t.onDraging({deltaX:Ze,deltaY:Ge,event:ge}),(sr=t.eventCenter)===null||sr===void 0||sr.emit(it["".concat(t.eventType,"_MOUSEMOVE")],{e:ge,data:ht}),(xr=t.eventCenter)===null||xr===void 0||xr.emit(it["".concat(t.eventType,"_DRAG")],{e:ge,data:ht})})}}),zt(this,"handleMouseUp",function(ge){t.isStartDraging=!1,t.isStopPropagation&&ge.stopPropagation(),Promise.resolve().then(function(){var be,Fe,Re;Kr.removeEventListener("mousemove",t.handleMouseMove,!1),Kr.removeEventListener("mouseup",t.handleMouseUp,!1);var Ze=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEUP")],{e:ge,data:Ze}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:ge}),(Re=t.eventCenter)===null||Re===void 0||Re.emit(it["".concat(t.eventType,"_DROP")],{e:ge,data:Ze}))})}),zt(this,"cancelDrag",function(){Kr.removeEventListener("mousemove",t.handleMouseMove,!1),Kr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDraging=!1}),this.onDragStart=o,this.onDraging=l,this.onDragEnd=m,this.step=Z,this.isStopPropagation=se,this.eventType=T,this.eventCenter=_,this.model=we}return jA(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),CA=function(r){return!r||typeof r=="boolean"?jt(r===!0?CP:Zp):Lp(jt(Zp),r)},de,Yh,Wh,Kh,Vh,Zh,Jh,Qh,qh,ev,tv,rv,nv;function ov(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ya(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ov(Object(t),!0).forEach(function(n){Vr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ov(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Nf(e,r){return BA(e)||IA(e,r)||iv(e,r)||RA()}function RA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function BA(e){if(Array.isArray(e))return e}function Do(e){return zA(e)||LA(e)||iv(e)||_A()}function _A(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iv(e,r){if(!!e){if(typeof e=="string")return Df(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Df(e,r)}}function LA(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zA(e){if(Array.isArray(e))return Df(e)}function Df(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function gi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gi=function(t){return typeof t}:gi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(e)}function Nr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function FA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function av(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GA(e,r,t){return r&&av(e.prototype,r),t&&av(e,t),e}function Vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ke(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wa=200,uv=(de=function(){function e(r){FA(this,e),Vr(this,"rootEl",void 0),Nr(this,"width",Yh,this),Nr(this,"height",Wh,this),Vr(this,"theme",void 0),Vr(this,"eventCenter",void 0),Vr(this,"modelMap",new Map),Vr(this,"topElement",void 0),Vr(this,"animation",void 0),Vr(this,"idGenerator",void 0),Vr(this,"edgeGenerator",void 0),Vr(this,"nodeMoveRules",[]),Nr(this,"edgeType",Kh,this),Nr(this,"nodes",Vh,this),Nr(this,"edges",Zh,this),Nr(this,"overlapMode",Jh,this),Nr(this,"background",Qh,this),Nr(this,"transformModel",qh,this),Nr(this,"editConfigModel",ev,this),Nr(this,"gridSize",tv,this),Nr(this,"partial",rv,this),Nr(this,"fakerNode",nv,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,l=r.idGenerator,p=r.edgeGenerator,m=r.animation;this.background=o,gi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new cp(r),this.eventCenter=new cP,this.transformModel=new Zx(this.eventCenter),this.theme=zp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=CA(m),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=l,this.edgeGenerator=wA(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return GA(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(Do(this.nodes),Do(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(m){return t.push(m)}),this.edges.forEach(function(m){return t.push(m)}),t=t.sort(function(m,S){return m.zIndex-S.zIndex});for(var n=[],o=[-Wa,-Wa],a=[this.width+Wa,this.height+Wa],l=0;l<t.length;l++){var p=t[l];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,o,a,!1,!1))&&n.push(p)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],m=[];this.nodes.forEach(function(j){return m.push(j)}),this.edges.forEach(function(j){return m.push(j)});for(var S=0;S<m.length;S++){var T=m[S];(!l||T.visible)&&this.isElementInArea(T,t,n,o,a)&&p.push(T)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),l={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),m=Nf(p,2),S=m[0],T=m[1];return{domOverlayPosition:l,canvasOverlayPosition:{x:S,y:T}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Gt.NODE){t=t;for(var p=Or(t),m=p.minX,S=p.minY,T=p.maxX,j=p.maxY,_=[{x:m,y:S},{x:T,y:S},{x:T,y:j},{x:m,y:j}],H=l,Z=0;Z<_.length;Z++){var ae=_[Z],se=ae.x,le=ae.y,we=this.transformModel.CanvasPointToHtmlPoint([se,le]),ge=Nf(we,2);if(se=ge[0],le=ge[1],ff([se,le],n,o)!==l){H=!l;break}}return H}if(t.BaseType===Gt.EDGE){t=t;var be=t,Fe=be.startPoint,Re=be.endPoint,Ze=this.transformModel.CanvasPointToHtmlPoint([Fe.x,Fe.y]),Ge=this.transformModel.CanvasPointToHtmlPoint([Re.x,Re.y]),ht=ff(Ze,n,o),yt=ff(Ge,n,o);return a?ht&&yt:ht||yt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=Pa(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,p=o.y;return l&&p&&(o.x=Dn(l,n.gridSize),o.y=Dn(p,n.gridSize),gi(o.text)==="object"&&(o.text.x-=Gp(l,n.gridSize),o.text.y-=Gp(p,n.gridSize))),new a(o,n)}),this.edges=Pa(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var l=!1,p=[],m=0;m<this.edges.length;m++){var S=this.edges[m];if(S.isDragging){l=!0;break}else p.push(S.getHistoryData())}return l?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],l=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(l||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===Gt.NODE&&o.nodes.push(a.getData()),a.BaseType===Gt.EDGE){var l=a.getData(),p=n.get(l.sourceNodeId)&&n.get(l.targetNodeId);(t||p)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=ro()),this.nodesMap[n]||!this.nodesMap[t]?"":(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n)}},{key:"changeEdgeId",value:function(t,n){return n||(n=ro()),this.edgesMap[n]||!this.edgesMap[t]?"":(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n)}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===br.DEFAULT){var l;(l=this.topElement)===null||l===void 0||l.setZIndex(),a.setZIndex(kx),this.topElement=a}this.overlapMode===br.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,l=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(l){var p;typeof n=="number"&&(p=n),n==="top"&&(p=yf()),n==="bottom"&&(p=_P()),l.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(it.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=er(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));n.x=Dn(n.x,this.gridSize),n.y=Dn(n.y,this.gridSize);var a=new o(n,this);this.nodes.push(a);var l=a.getData();return this.eventCenter.emit(it.NODE_ADD,{data:l}),a}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[t];if(!!l){var p=l.model,m=p.getMoveDistance(n,o,a),S=Nf(m,2);n=S[0],o=S[1],this.moveEdge(t,n,o)}}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[t];if(!!l){var p=l.model,m=p.x,S=p.y,T=n-m,j=o-S;this.moveNode(t,T,j,a)}}},{key:"editText",value:function(t){this.setElementStateById(t,Et.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=er(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new a(Ya(Ya({},n),{},{type:o}),this),p=l.getData();return this.edges.push(l),this.eventCenter.emit(it.EDGE_ADD,{data:p}),l}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var l=this.edges[a],p=l.textPosition,m=p.x,S=p.y,T=this.edges[a].sourceNodeId===t,j=this.edges[a].targetNodeId===t;if(T&&l.moveStartPoint(n,o),j&&l.moveEndPoint(n,o),T||j){var _;if(l.customTextPosition===!0)l.resetTextPosition();else if(l.modelType===pt.POLYLINE_EDGE&&(_=l.text)!==null&&_!==void 0&&_.value){var H=l.text,Z=Uh(H,l.points);l.moveText(Z.x-H.x,Z.y-H.y)}else{var ae=l.textPosition,se=ae.x,le=ae.y;l.moveText(se-m,le-S)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(!!n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===br.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(p){return a.moveNode(p,n,o,l)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!!o){var a=o.getData();a.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var p=new l(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var m=this.getNodeEdges(t);m.forEach(function(S){if(S.sourceNodeId===t){var T=Kp(p,S.startPoint,p.width,p.height);S.updateStartPoint(T)}if(S.targetNodeId===t){var j=Kp(p,S.endPoint,p.width,p.height);S.updateEndPoint(j)}})}}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!!o&&o.type!==n){var a=o.getData();a.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var p=new l(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=zp(Ya(Ya({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(H){var Z=H.x,ae=H.y,se=H.width,le=H.height,we=H.getNodeStyle(),ge=we.strokeWidth,be=ge===void 0?0:ge;n=n.concat([Z+se/2+be,Z-se/2-be]),o=o.concat([ae+le/2+be,ae-le/2-be])});var a=Math.min.apply(Math,Do(n)),l=Math.max.apply(Math,Do(n)),p=Math.min.apply(Math,Do(o)),m=Math.max.apply(Math,Do(o)),S=l-a||0,T=m-p||0,j=a+S/2,_=p+T/2;return{virtualRectWidth:S,virtualRectHeight:T,virtualRectCenterPositionX:j,virtualRectCenterPositionY:_}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,l=this.transformModel;if(!!t.length){var p=n||a.clientWidth,m=o||a.clientHeight,S=this.getVirtualRectSize(),T=S.virtualRectCenterPositionX,j=S.virtualRectCenterPositionY;l.focusOn(T,j,p,m)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,l=this.height,p=this.rootEl,m=this.transformModel;if(!!o.length){var S=a||p.clientWidth,T=l||p.clientHeight,j=this.getVirtualRectSize(),_=j.virtualRectWidth,H=j.virtualRectHeight,Z=j.virtualRectCenterPositionX,ae=j.virtualRectCenterPositionY,se=(_+n)/S,le=(H+t)/T,we=0;we=1/Math.max(se,le);var ge=[S/2,T/2];m.zoom(we,ge),m.focusOn(Z,ae,S,T)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),Yh=Ke(de.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=Ke(de.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=Ke(de.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vh=Ke(de.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zh=Ke(de.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Jh=Ke(de.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return br.DEFAULT}}),Qh=Ke(de.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh=Ke(de.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ev=Ke(de.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tv=Ke(de.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),rv=Ke(de.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nv=Ke(de.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke(de.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),Ke(de.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),Ke(de.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),Ke(de.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),Ke(de.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),Ke(de.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),Ke(de.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),Ke(de.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),Ke(de.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),Ke(de.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),Ke(de.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),Ke(de.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),Ke(de.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),Ke(de.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),Ke(de.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),Ke(de.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),Ke(de.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),Ke(de.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),Ke(de.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),Ke(de.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),Ke(de.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),Ke(de.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),Ke(de.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),Ke(de.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),Ke(de.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),Ke(de.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),Ke(de.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),Ke(de.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),Ke(de.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),Ke(de.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),Ke(de.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),Ke(de.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),Ke(de.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),Ke(de.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),Ke(de.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),Ke(de.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),Ke(de.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),Ke(de.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),Ke(de.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),Ke(de.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),Ke(de.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),Ke(de.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),Ke(de.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),Ke(de.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),HA=uv;function Ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(t){return typeof t}:Ka=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}var sv;function jf(){return jf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jf.apply(this,arguments)}function UA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kA(e,r,t){return r&&lv(e.prototype,r),t&&lv(e,t),e}function XA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function $A(e){var r=WA();return function(){var n=Va(e),o;if(r){var a=Va(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return YA(this,o)}}function YA(e,r){if(r&&(Ka(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function Zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var KA=Ur(sv=function(e){XA(t,e);var r=$A(t);function t(n){var o;UA(this,t),o=r.call(this),cn(Zr(o),"stepDrag",void 0),cn(Zr(o),"stepScrollX",0),cn(Zr(o),"stepScrollY",0),cn(Zr(o),"onDraging",function(m){var S=m.deltaX,T=m.deltaY;o.setState({isDraging:!0});var j=o.props.graphModel,_=j.transformModel,H=j.editConfigModel;H.stopMoveGraph||_.translate(S,T)}),cn(Zr(o),"onDragEnd",function(){o.setState({isDraging:!1})}),cn(Zr(o),"zoomHandler",function(m){var S=o.props,T=S.graphModel,j=T.editConfigModel,_=T.transformModel,H=T.gridSize,Z=S.graphModel,ae=m.deltaX,se=m.deltaY;if(!j.stopScrollGraph&&m.ctrlKey!==!0){if(m.preventDefault(),o.stepScrollX+=ae,o.stepScrollY+=se,Math.abs(o.stepScrollX)>=H){var le=o.stepScrollX%H,we=o.stepScrollX-le;_.translate(-we*_.SCALE_X,0),o.stepScrollX=le}if(Math.abs(o.stepScrollY)>=H){var ge=o.stepScrollY%H,be=o.stepScrollY-ge;_.translate(0,-be*_.SCALE_Y),o.stepScrollY=ge}return}if(!j.stopZoomGraph){m.preventDefault();var Fe=Z.getPointByClient({x:m.clientX,y:m.clientY}),Re=Fe.canvasOverlayPosition,Ze=Re.x,Ge=Re.y;_.zoom(m.deltaY<0,[Ze,Ge])}}),cn(Zr(o),"clickHandler",function(m){var S=m.target;if(S.getAttribute("name")==="canvas-overlay"){var T=o.props.graphModel,j=T.selectElements;j.size>0&&T.clearSelectElements(),T.eventCenter.emit(it.BLANK_CLICK,{e:m})}}),cn(Zr(o),"handleContextMenu",function(m){var S=m.target;if(S.getAttribute("name")==="canvas-overlay"){m.preventDefault();var T=o.props.graphModel,j=T.getPointByClient({x:m.clientX,y:m.clientY});T.eventCenter.emit(it.BLANK_CONTEXTMENU,{e:m,position:j})}}),cn(Zr(o),"mouseDownHandler",function(m){var S=o.props.graphModel,T=S.eventCenter,j=S.editConfigModel,_=S.transformModel.SCALE_X,H=S.gridSize,Z=m.target,ae=!j.adjustEdge&&!j.adjustNodePosition;(Z.getAttribute("name")==="canvas-overlay"||ae)&&(j.stopMoveGraph?T.emit(it.BLANK_MOUSEDOWN,{e:m}):(o.stepDrag.setStep(H*_),o.stepDrag.handleMouseDown(m)),o.clickHandler(m))});var a=n.graphModel,l=a.gridSize,p=a.eventCenter;return o.stepDrag=new no({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:l,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDraging:!1},o}return kA(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),l=a.transform,p=this.props,m=p.children,S=p.dnd,T=this.state.isDraging;return Object(ne.g)("svg",jf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:T?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},S.eventMap()),Object(ne.g)("g",{transform:l},m))}}]),t}(ne.a))||sv,VA=KA;function Za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(t){return typeof t}:Za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}var fv;function ZA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JA(e,r,t){return r&&cv(e.prototype,r),t&&cv(e,t),e}function QA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rf(e,r)}function Rf(e,r){return Rf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rf(e,r)}function qA(e){var r=tT();return function(){var n=Ja(e),o;if(r){var a=Ja(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return eT(this,o)}}function eT(e,r){if(r&&(Za(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dv(e)}function dv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(e)}function rT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var nT=Ur(fv=function(e){QA(t,e);var r=qA(t);function t(){var n;ZA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),rT(dv(n),"setToolOverlayRef",function(p){var m=n.props.tool,S=m.getInstance();S.components.forEach(function(T){return T(S,p)}),S.components=[]}),n}return JA(t,[{key:"getTools",value:function(){var o=this.props,a=o.tool,l=o.graphModel,p=a.getTools(),m=p.map(function(S){return Object(ne.g)(S,{graphModel:l,logicFlow:a.instance})});return a.components=m,m}},{key:"render",value:function(){return Object(ne.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(ne.a))||fv;function Qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qa=function(t){return typeof t}:Qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function oT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iT(e,r,t){return r&&pv(e.prototype,r),t&&pv(e,t),e}function aT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},If(e,r)}function uT(e){var r=fT();return function(){var n=qa(e),o;if(r){var a=qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sT(this,o)}}function sT(e,r){if(r&&(Qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lT(e)}function lT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(e)}var cT=function(e){aT(t,e);var r=uT(t);function t(){return oT(this,t),r.apply(this,arguments)}return iT(t,[{key:"render",value:function(){var o=this.props.background;return Object(ne.g)("div",{className:"lf-background"},Object(ne.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(ne.a);function eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(t){return typeof t}:eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}var hv;function dT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pT(e,r,t){return r&&vv(e.prototype,r),t&&vv(e,t),e}function hT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function vT(e){var r=gT();return function(){var n=tu(e),o;if(r){var a=tu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return yT(this,o)}}function yT(e,r){if(r&&(eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yv(e)}function yv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(e)}function mT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gv=Ur(hv=function(e){hT(t,e);var r=vT(t);function t(){var n;dT(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),mT(yv(n),"id",ro()),n}return pT(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,l=a.color,p=a.thickness,m=p===void 0?2:p,S=o.size,T=o.visible,j=Math.min(Math.max(2,m),S/2),_=1;return T||(_=0),Object(ne.g)("rect",{width:j,height:j,rx:j/2,ry:j/2,fill:l,opacity:_})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,l=a.color,p=a.thickness,m=p===void 0?1:p,S=o.size,T=o.visible,j=Math.min(Math.max(1,m),S/2),_="M ".concat(S," 0 H0 M0 0 V0 ").concat(S),H=1;return T||(H=0),Object(ne.g)("path",{d:_,stroke:l,strokeWidth:j,opacity:H})}},{key:"render",value:function(){var o=this.props,a=o.type,l=o.size,p=o.graphModel.transformModel,m=p.SCALE_X,S=p.SKEW_Y,T=p.SKEW_X,j=p.SCALE_Y,_=p.TRANSLATE_X,H=p.TRANSLATE_Y,Z=[m,S,T,j,_,H].join(","),ae="matrix(".concat(Z,")");return Object(ne.g)("div",{className:"lf-grid"},Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ne.g)("defs",null,Object(ne.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ae,x:"0",y:"0",width:l,height:l},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ne.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(ne.a))||hv;gv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(t){return typeof t}:ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function bT(e,r){return ST(e)||xT(e,r)||ET(e,r)||OT()}function OT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ET(e,r){if(!!e){if(typeof e=="string")return mv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mv(e,r)}}function mv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function xT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ST(e){if(Array.isArray(e))return e}function PT(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=bT(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var l=ru(a);l!=="object"&&(r[o]=a)}}),Object(ne.g)("line",r)}var oo=PT;function nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}var bv;function Ov(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ou(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ov(Object(t),!0).forEach(function(n){AT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ov(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function AT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function TT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ev(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MT(e,r,t){return r&&Ev(e.prototype,r),t&&Ev(e,t),e}function wT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_f(e,r)}function _f(e,r){return _f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_f(e,r)}function NT(e){var r=CT();return function(){var n=iu(e),o;if(r){var a=iu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return DT(this,o)}}function DT(e,r){if(r&&(nu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jT(e)}function jT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iu(e)}var RT=Ur(bv=function(e){wT(t,e);var r=NT(t);function t(){return TT(this,t),r.apply(this,arguments)}return MT(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,l=o.isShowHorizontal,p=o.isShowVertical,m=o.getStyle(),S=a.x,T=S===void 0?0:S,j=a.y,_=j===void 0?0:j,H=ou(ou({x1:-1e5,y1:_,x2:1e5,y2:_},m),{},{stroke:l?m.stroke:"none"}),Z=ou(ou({x1:T,y1:-1e5,x2:T,y2:1e5},m),{},{stroke:p?m.stroke:"none"});return Object(ne.g)("g",{className:"lf-snapline"},Object(ne.g)(oo,H),Object(ne.g)(oo,Z))}}]),t}(ne.a))||bv;function au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function IT(e,r){return zT(e)||LT(e,r)||_T(e,r)||BT()}function BT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _T(e,r){if(!!e){if(typeof e=="string")return xv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xv(e,r)}}function xv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function LT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function zT(e){if(Array.isArray(e))return e}function Rn(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,l=e.radius,p=r-n/2,m=t-o/2,S={};return Object.entries(e).forEach(function(T){var j=IT(T,2),_=j[0],H=j[1],Z=au(H);Z!=="object"&&(S[_]=H)}),a?S.className="lf-basic-shape ".concat(a):S.className="lf-basic-shape",l&&(S.rx=l,S.ry=l),S.x=p,S.y=m,Object(ne.g)("rect",S)}Rn.defaultProps={className:"",radius:""};function uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(t){return typeof t}:uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}var Sv;function jo(){return jo=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jo.apply(this,arguments)}function Pv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Av(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Pv(Object(t),!0).forEach(function(n){FT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function FT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function GT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HT(e,r,t){return r&&Tv(e.prototype,r),t&&Tv(e,t),e}function UT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lf(e,r)}function Lf(e,r){return Lf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lf(e,r)}function kT(e){var r=YT();return function(){var n=su(e),o;if(r){var a=su(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XT(this,o)}}function XT(e,r){if(r&&(uu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $T(e)}function $T(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},su(e)}var WT=Ur(Sv=function(e){UT(t,e);var r=kT(t);function t(){return GT(this,t),r.apply(this,arguments)}return HT(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,l=o.editConfigModel,p=l.hoverOutline,m=l.nodeSelectedOutline,S=[];return a.forEach(function(T){if(T.isHovered||T.isSelected){var j=T.isHovered,_=T.isSelected,H=T.x,Z=T.y,ae=T.width,se=T.height;if(m&&_||p&&j){var le=T.getOutlineStyle(),we={};if(Object.keys(le).forEach(function(be){be!=="hover"&&(we[be]=le[be])}),j){var ge=le.hover;we=Av(Av({},we),ge)}S.push(Object(ne.g)(Rn,jo({className:"lf-outline-node",x:H,y:Z,width:ae+10,height:se+10},we)))}}}),S}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,l=o.editConfigModel,p=l.edgeSelectedOutline,m=l.hoverOutline,S=[],T=0;T<a.length;T++){var j=a[T];(p&&j.isSelected||m&&j.isHovered)&&(j.modelType===pt.LINE_EDGE?S.push(this.getLineOutline(j)):j.modelType===pt.POLYLINE_EDGE?S.push(this.getPolylineOutline(j)):j.modelType===pt.BEZIER_EDGE&&S.push(this.getBezierOutline(j)))}return S}},{key:"getLineOutline",value:function(o){var a=o.startPoint,l=o.endPoint,p=(a.x+l.x)/2,m=(a.y+l.y)/2,S=Math.abs(a.x-l.x)+10,T=Math.abs(a.y-l.y)+10,j=o.getOutlineStyle();return Object(ne.g)(Rn,jo({className:"lf-outline-edge",x:p,y:m,width:S,height:T},j))}},{key:"getPolylineOutline",value:function(o){var a=o.points,l=wo(a),p=vi(l,8),m=p.x,S=p.y,T=p.width,j=p.height,_=o.getOutlineStyle();return Object(ne.g)(Rn,jo({className:"lf-outline",x:m,y:S,width:T,height:j},_))}},{key:"getBezierOutline",value:function(o){var a=o.path,l=Xa(a),p=vi(l,8),m=p.x,S=p.y,T=p.width,j=p.height,_=o.getOutlineStyle();return Object(ne.g)(Rn,jo({className:"lf-outline",x:m,y:S,width:T,height:j},_))}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(ne.a))||Sv;function lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lu=function(t){return typeof t}:lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function KT(e,r){return QT(e)||JT(e,r)||ZT(e,r)||VT()}function VT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZT(e,r){if(!!e){if(typeof e=="string")return Mv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mv(e,r)}}function Mv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function JT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function QT(e){if(Array.isArray(e))return e}function mi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,l=a===void 0?4:a,p=e.className,m={cx:t,cy:o,r:l,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(S){var T=KT(S,2),j=T[0],_=T[1],H=lu(_);H!=="object"&&(m[j]=_)}),p?m.className="lf-basic-shape ".concat(p):m.className="lf-basic-shape",Object(ne.g)("circle",m)}function fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(t){return typeof t}:fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var wv;function qT(e,r){return nM(e)||rM(e,r)||tM(e,r)||eM()}function eM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tM(e,r){if(!!e){if(typeof e=="string")return Nv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nv(e,r)}}function Nv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function rM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function nM(e){if(Array.isArray(e))return e}function bi(){return bi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bi.apply(this,arguments)}function Dv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cv(e,r,t){return r&&jv(e.prototype,r),t&&jv(e,t),e}function Rv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zf(e,r)}function Iv(e){var r=iM();return function(){var n=du(e),o;if(r){var a=du(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return oM(this,o)}}function oM(e,r){if(r&&(fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cu(e)}function cu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function du(e){return du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},du(e)}function Ff(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Bv=function(e){Rv(t,e);var r=Iv(t);function t(){var n;return Dv(this,t),n=r.call(this),Ff(cu(n),"dragHandler",void 0),Ff(cu(n),"onDraging",function(o){var a=o.event,l=n.props,p=l.graphModel,m=l.bezierModel,S=l.type,T=p.getPointByClient({x:a.clientX,y:a.clientY}),j=T.canvasOverlayPosition,_=j.x,H=j.y;m.updateAdjustAnchor({x:_,y:H},S)}),Ff(cu(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new no({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return Cv(t,[{key:"render",value:function(){var o=this,a=this.props.position,l=a.x,p=a.y,m=this.props.bezierModel,S=m.getEdgeStyle(),T=S.adjustAnchor;return Object(ne.g)(mi,bi({className:"lf-bezier-adjust-anchor",x:l,y:p},T,{onMouseDown:function(_){o.dragHandler.handleMouseDown(_)}}))}}]),t}(ne.a),aM=Ur(wv=function(e){Rv(t,e);var r=Iv(t);function t(){return Dv(this,t),r.apply(this,arguments)}return Cv(t,[{key:"getBezierAdjust",value:function(o,a){var l=o.path,p=o.id,m=Xa(l),S=qT(m,4),T=S[0],j=S[1],_=S[2],H=S[3],Z=o.getEdgeStyle(),ae=Z.adjustLine,se=[];return se.push(Object(ne.g)(oo,bi({x1:T.x,y1:T.y,x2:j.x,y2:j.y},ae))),se.push(Object(ne.g)(Bv,{position:j,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),se.push(Object(ne.g)(oo,bi({x1:H.x,y1:H.y,x2:_.x,y2:_.y},ae))),se.push(Object(ne.g)(Bv,{position:_,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),se}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,l=[],p=0;p<a.length;p++){var m=a[p];m.isSelected&&m.modelType===pt.BEZIER_EDGE&&m.draggable&&l.push(this.getBezierAdjust(m,o))}return l}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(ne.a))||wv;function pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(t){return typeof t}:pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}var _v;function uM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sM(e,r,t){return r&&Lv(e.prototype,r),t&&Lv(e,t),e}function lM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return Gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gf(e,r)}function fM(e){var r=pM();return function(){var n=hu(e),o;if(r){var a=hu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cM(this,o)}}function cM(e,r){if(r&&(pu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dM(e)}function dM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function hu(e){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hu(e)}var hM=Ur(_v=function(e){lM(t,e);var r=fM(t);function t(){return uM(this,t),r.apply(this,arguments)}return sM(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),l=a.transform,p=this.props.children;return Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ne.g)("g",{transform:l},p))}}]),t}(ne.a))||_v;function vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vu=function(t){return typeof t}:vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}var zv;function Hf(){return Hf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Hf.apply(this,arguments)}function vM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yM(e,r,t){return r&&Fv(e.prototype,r),t&&Fv(e,t),e}function gM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uf(e,r)}function Uf(e,r){return Uf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uf(e,r)}function mM(e){var r=EM();return function(){var n=yu(e),o;if(r){var a=yu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return bM(this,o)}}function bM(e,r){if(r&&(vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OM(e)}function OM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function yu(e){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(e)}var xM=Ur(zv=function(e){gM(t,e);var r=mM(t);function t(){return vM(this,t),r.apply(this,arguments)}return yM(t,[{key:"getComponent",value:function(o,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,m=p(o.type);return Object(ne.g)(m,{key:o.id,model:o,graphModel:a,overlay:l})}},{key:"render",value:function(){var o=this,a=this.props,l=a.graphModel,p=a.tool,m=a.options,S=a.dnd,T=a.snaplineModel,j={};m.width&&(j.width="".concat(l.width,"px")),m.height&&(j.height="".concat(l.height,"px"));var _=l.fakerNode,H=l.editConfigModel,Z=H.adjustEdge;return Object(ne.g)("div",{className:"lf-graph",style:j},Object(ne.g)(VA,{graphModel:l,dnd:S},Object(ne.g)("g",{className:"lf-base"},Pa(l.sortElements,function(ae){return o.getComponent(ae,l)})),_?this.getComponent(_,l):""),Object(ne.g)(hM,{graphModel:l},Object(ne.g)(WT,{graphModel:l}),Z?Object(ne.g)(aM,{graphModel:l}):"",m.snapline!==!1?Object(ne.g)(RT,{snaplineModel:T}):""),Object(ne.g)(nT,{graphModel:l,tool:p}),m.background&&Object(ne.g)(cT,{background:m.background}),m.grid&&Object(ne.g)(gv,Hf({},m.grid,{graphModel:l})))}}]),t}(ne.a))||zv,SM=xM;function Gv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gv(Object(t),!0).forEach(function(n){dn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function PM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AM(e,r,t){return r&&Hv(e.prototype,r),t&&Hv(e,t),e}function dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var TM=function(){function e(r){var t=this;PM(this,e),dn(this,"nodeConfig",void 0),dn(this,"lf",void 0),dn(this,"fakerNode",void 0),dn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),dn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(gu(gu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),dn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),l=a.x,p=a.y;t.fakerNode.moveTo(l,p);var m=t.fakerNode.getData();t.lf.setNodeSnapLine(m),t.lf.graphModel.eventCenter.emit(it.NODE_DND_DRAG,{data:m})}return!1}),dn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),dn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(gu(gu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var l=a.getData();t.lf.graphModel.eventCenter.emit(it.NODE_DND_ADD,{data:l,e:o})}});var n=r.lf;this.lf=n}return AM(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Ld(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:n,y:o}),p=l.canvasOverlayPosition,m=p.x,S=p.y;return{x:Dn(m,a),y:Dn(S,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Uv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(e.grid=or({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),or({},kv,e)}var kv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}var gt,Xv;function kf(e,r){return DM(e)||NM(e,r)||wM(e,r)||MM()}function MM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wM(e,r){if(!!e){if(typeof e=="string")return $v(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $v(e,r)}}function $v(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function NM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function DM(e){if(Array.isArray(e))return e}function Yv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function bu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yv(Object(t),!0).forEach(function(n){Kv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jM(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function CM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RM(e,r,t){return r&&Wv(e.prototype,r),t&&Wv(e,t),e}function Co(){return typeof Reflect!="undefined"&&Reflect.get?Co=Reflect.get:Co=function(r,t,n){var o=IM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Co.apply(this,arguments)}function IM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=In(e),e!==null););return e}function BM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xf(e,r)}function Xf(e,r){return Xf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xf(e,r)}function _M(e){var r=zM();return function(){var n=In(e),o;if(r){var a=In(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return LM(this,o)}}function LM(e,r){if(r&&(mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ou(e)}function Ou(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function In(e){return In=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},In(e)}function Kv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _r(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var $f=(gt=function(e){BM(t,e);var r=_M(t);function t(){var n;CM(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Kv(Ou(n),"modelType",pt.BEZIER_EDGE),jM(Ou(n),"path",Xv,Ou(n)),n}return RM(t,[{key:"initEdgeData",value:function(o){this.offset=100,Co(In(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=Co(In(t.prototype),"getEdgeStyle",this).call(this);return bu(bu({},a),jt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(l){var p=l.x,m=l.y;o+=p,a+=m}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Co(In(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(l){var p=l.x,m=l.y;return{x:p,y:m}});return bu(bu({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,l=Hh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return l}},{key:"getPath",value:function(o){var a=kf(o,4),l=a[0],p=a[1],m=a[2],S=a[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(S.x," ").concat(S.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,l=o.ePre;this.updatePath(a,l)}},{key:"updatePath",value:function(o,a){var l={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var m=this.getControls();o=m.sNext,a=m.ePre}this.pointsList=[l,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var l=kf(this.pointsList,3),p=l[1],m=l[2];p.x+=o,p.y+=a,this.updatePath(p,m)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var l=kf(this.pointsList,3),p=l[1],m=l[2];m.x+=o,m.y+=a,this.updatePath(p,m)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,l=o.endPoint,p=o.sourceNode,m=o.targetNode,S=Hh({start:a,end:l,sourceNode:p,targetNode:m,offset:this.offset}),T=S.sNext,j=S.ePre;this.pointsList=[a,T,j,l],this.initPoints()}}]),t}(mf),Xv=_r(gt.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_r(gt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),_r(gt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),_r(gt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),_r(gt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),_r(gt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),_r(gt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),_r(gt.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),_r(gt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),_r(gt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),_r(gt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function FM(e){return e==null}var GM=FM,Ce,Vv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,uy,sy,ly,fy,cy,dy,py;function Eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(t){return typeof t}:Eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function HM(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=UM(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(S){throw S},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,l=!1,p;return{s:function(){t=t.call(e)},n:function(){var S=t.next();return a=S.done,S},e:function(S){l=!0,p=S},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(l)throw p}}}}function UM(e,r){if(!!e){if(typeof e=="string")return hy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hy(e,r)}}function hy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function vy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ar(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vy(Object(t),!0).forEach(function(n){dr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ut(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function kM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XM(e,r,t){return r&&yy(e.prototype,r),t&&yy(e,t),e}function dr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function st(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pn=(Ce=function(){function e(r,t){kM(this,e),dr(this,"id",ro()),Ut(this,"type",Vv,this),Ut(this,"x",Zv,this),Ut(this,"y",Jv,this),Ut(this,"text",Qv,this),Ut(this,"properties",qv,this),Ut(this,"_width",ey,this),Ut(this,"_height",ty,this),Ut(this,"anchorsOffset",ry,this),Ut(this,"isSelected",ny,this),Ut(this,"isHovered",oy,this),Ut(this,"isShowAnchor",iy,this),Ut(this,"isDragging",ay,this),Ut(this,"isHitable",uy,this),Ut(this,"draggable",sy,this),Ut(this,"visible",ly,this),dr(this,"virtual",!1),dr(this,"graphModel",void 0),Ut(this,"zIndex",fy,this),Ut(this,"state",cy,this),Ut(this,"autoToFront",dy,this),Ut(this,"style",py,this),dr(this,"BaseType",Gt.NODE),dr(this,"modelType",pt.NODE),dr(this,"additionStateData",void 0),dr(this,"targetRules",[]),dr(this,"sourceRules",[]),dr(this,"moveRules",[]),dr(this,"hasSetTargetRules",!1),dr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return XM(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}this.formatText(t),or(this,jP(t));var l=this.graphModel.overlapMode;l===br.INCREASE&&(this.zIndex=t.zIndex||yf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,l=this.properties;Object(f.x)(l)&&(l=Object(f.I)(l));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===br.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ar(ar({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return jt(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return jt(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return jt(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return jt(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l=!0,p,m=0;m<a.length;m++){var S=a[m];if(!S.validate.call(this,this,t,n,o)){l=!1,p=S.message;break}}return{isAllPass:l,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l=!0,p,m=0;m<a.length;m++){var S=a[m];if(!S.validate.call(this,t,this,n,o)){l=!1,p=S.message;break}}return{isAllPass:l,msg:p}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,l=this.moveRules.concat(this.graphModel.nodeMoveRules),p=HM(l),m;try{for(p.s();!(m=p.n()).done;){var S=m.value,T=S(this,t,n);if(!T)return!1;if(Eu(T)==="object"){var j=T;if(j.x===!1&&j.y===!1)return!1;o=o&&j.x,a=a&&j.y}}}catch(_){p.e(_)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(l,p){return l.length?(l=l,{id:"".concat(n,"_").concat(p),x:o+l[0],y:a+l[1]}):(l=l,ar(ar({},l),{},{x:o+l.x,y:a+l.y,id:l.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!GM(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,l=!1;if(o)a=!0,l=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,l=p):(a=p.x,l=p.y)}if(a){var m=this.x+t;this.x=m,this.text&&this.moveText(t,0)}if(l){var S=this.y+n;this.y=S,this.text&&this.moveText(0,n)}return a||l}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,l=!1,p=0,m=0;if(o)a=!0,l=!0;else{var S=this.isAllowMoveNode(t,n);typeof S=="boolean"?(a=S,l=S):(a=S.x,l=S.y)}if(a&&t){var T=this.x+t;this.x=T,this.text&&this.moveText(t,0),p=t}if(l&&n){var j=this.y+n;this.y=j,this.text&&this.moveText(0,n),m=n}return[p,m]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,l=n-this.y;return!o&&!this.isAllowMoveNode(a,l)?!1:(this.text&&this.text&&this.moveText(a,l),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,l=o.y,p=o.value,m=o.draggable,S=o.editable;this.text={value:p,editable:S,draggable:m,x:a+t,y:l+n}}},{key:"updateText",value:function(t){this.text=ar(ar({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=ar(ar({},this.properties),{},dr({},t,er(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=ar(ar({},this.properties),er(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=ar(ar({},this.style),{},dr({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=ar(ar({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=ar({},er(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){or(this,t)}}]),e}(),Vv=st(Ce.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zv=st(Ce.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jv=st(Ce.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qv=st(Ce.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),qv=st(Ce.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ey=st(Ce.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),ty=st(Ce.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),ry=st(Ce.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ny=st(Ce.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oy=st(Ce.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iy=st(Ce.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ay=st(Ce.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uy=st(Ce.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sy=st(Ce.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ly=st(Ce.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fy=st(Ce.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),cy=st(Ce.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dy=st(Ce.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),py=st(Ce.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),st(Ce.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"incoming"),Ce.prototype),st(Ce.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"outgoing"),Ce.prototype),st(Ce.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"addNodeMoveRules"),Ce.prototype),st(Ce.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"move"),Ce.prototype),st(Ce.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"getMoveDistance"),Ce.prototype),st(Ce.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveTo"),Ce.prototype),st(Ce.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveText"),Ce.prototype),st(Ce.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateText"),Ce.prototype),st(Ce.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setSelected"),Ce.prototype),st(Ce.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHovered"),Ce.prototype),st(Ce.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setIsShowAnchor"),Ce.prototype),st(Ce.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHitable"),Ce.prototype),st(Ce.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setElementState"),Ce.prototype),st(Ce.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperty"),Ce.prototype),st(Ce.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperties"),Ce.prototype),st(Ce.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"deleteProperty"),Ce.prototype),st(Ce.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyle"),Ce.prototype),st(Ce.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyles"),Ce.prototype),st(Ce.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateStyles"),Ce.prototype),st(Ce.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setZIndex"),Ce.prototype),st(Ce.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateAttributes"),Ce.prototype),Ce);function xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(t){return typeof t}:xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}var hn,gy;function my(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function by(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?my(Object(t),!0).forEach(function(n){Ey(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):my(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $M(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function YM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Oy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WM(e,r,t){return r&&Oy(e.prototype,r),t&&Oy(e,t),e}function Su(){return typeof Reflect!="undefined"&&Reflect.get?Su=Reflect.get:Su=function(r,t,n){var o=KM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Su.apply(this,arguments)}function KM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ro(e),e!==null););return e}function VM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yf(e,r)}function Yf(e,r){return Yf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yf(e,r)}function ZM(e){var r=QM();return function(){var n=Ro(e),o;if(r){var a=Ro(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return JM(this,o)}}function JM(e,r){if(r&&(xu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pu(e)}function Pu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ro(e){return Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ro(e)}function Ey(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Wf(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Kf=(hn=function(e){VM(t,e);var r=ZM(t);function t(){var n;YM(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Ey(Pu(n),"modelType",pt.CIRCLE_NODE),$M(Pu(n),"r",gy,Pu(n)),n}return WM(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=Su(Ro(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return by(by({},o),jt(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.r;return[{x:o,y:a-l,id:"".concat(this.id,"_0")},{x:o+l,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+l,id:"".concat(this.id,"_2")},{x:o-l,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),gy=Wf(hn.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Wf(hn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"width"),hn.prototype),Wf(hn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"height"),hn.prototype),hn);i(127);function Au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(t){return typeof t}:Au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var tr,xy,Sy;function Vf(e,r){return rw(e)||tw(e,r)||ew(e,r)||qM()}function qM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ew(e,r){if(!!e){if(typeof e=="string")return Py(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Py(e,r)}}function Py(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rw(e){if(Array.isArray(e))return e}function Ay(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ty(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ay(Object(t),!0).forEach(function(n){Ny(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ay(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function My(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function nw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ow(e,r,t){return r&&wy(e.prototype,r),t&&wy(e,t),e}function Tu(){return typeof Reflect!="undefined"&&Reflect.get?Tu=Reflect.get:Tu=function(r,t,n){var o=iw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Tu.apply(this,arguments)}function iw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Bo(e),e!==null););return e}function aw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zf(e,r)}function Zf(e,r){return Zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zf(e,r)}function uw(e){var r=lw();return function(){var n=Bo(e),o;if(r){var a=Bo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sw(this,o)}}function sw(e,r){if(r&&(Au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}function Io(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(e)}function Ny(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _o(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Jf=(tr=function(e){aw(t,e);var r=uw(t);function t(){var n;nw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Ny(Io(n),"modelType",pt.DIAMOND_NODE),My(Io(n),"rx",xy,Io(n)),My(Io(n),"ry",Sy,Io(n)),n}return ow(t,[{key:"getNodeStyle",value:function(){var o=Tu(Bo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Ty(Ty({},o),jt(a))}},{key:"points",get:function(){var o=this.x,a=this.y,l=this.rx,p=this.ry;return[[o,a-p],[o+l,a],[o,a+p],[o-l,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Vf(l,1),m=p[0];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Vf(l,2),m=p[1];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,l){var p=Vf(a,2),m=p[0],S=p[1];return{x:m,y:S,id:"".concat(o.id,"_").concat(l)}})}}]),t}(pn),xy=_o(tr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Sy=_o(tr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),_o(tr.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"points"),tr.prototype),_o(tr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"pointsPosition"),tr.prototype),_o(tr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"width"),tr.prototype),_o(tr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"height"),tr.prototype),tr);function Mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mu=function(t){return typeof t}:Mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}var Jr,Dy,jy;function Cy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ry(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Cy(Object(t),!0).forEach(function(n){_y(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Iy(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function fw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function By(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cw(e,r,t){return r&&By(e.prototype,r),t&&By(e,t),e}function wu(){return typeof Reflect!="undefined"&&Reflect.get?wu=Reflect.get:wu=function(r,t,n){var o=dw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},wu.apply(this,arguments)}function dw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function pw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Qf(e,r)}function Qf(e,r){return Qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Qf(e,r)}function hw(e){var r=yw();return function(){var n=zo(e),o;if(r){var a=zo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return vw(this,o)}}function vw(e,r){if(r&&(Mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lo(e)}function Lo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function _y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Nu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var qf=(Jr=function(e){pw(t,e);var r=hw(t);function t(){var n;fw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),_y(Lo(n),"modelType",pt.ELLIPSE_NODE),Iy(Lo(n),"rx",Dy,Lo(n)),Iy(Lo(n),"ry",jy,Lo(n)),n}return cw(t,[{key:"getNodeStyle",value:function(){var o=wu(zo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Ry(Ry({},o),jt(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+l,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-l,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Dy=Nu(Jr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),jy=Nu(Jr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Nu(Jr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Jr.prototype,"width"),Jr.prototype),Nu(Jr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Jr.prototype,"height"),Jr.prototype),Jr);function Du(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Du=function(t){return typeof t}:Du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var Dr,Ly;function ec(e,r){return Ow(e)||bw(e,r)||mw(e,r)||gw()}function gw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mw(e,r){if(!!e){if(typeof e=="string")return zy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zy(e,r)}}function zy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function bw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Ow(e){if(Array.isArray(e))return e}function Fy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Gy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Fy(Object(t),!0).forEach(function(n){Uy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ew(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function xw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sw(e,r,t){return r&&Hy(e.prototype,r),t&&Hy(e,t),e}function ju(){return typeof Reflect!="undefined"&&Reflect.get?ju=Reflect.get:ju=function(r,t,n){var o=Pw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},ju.apply(this,arguments)}function Pw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fo(e),e!==null););return e}function Aw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&tc(e,r)}function tc(e,r){return tc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},tc(e,r)}function Tw(e){var r=ww();return function(){var n=Fo(e),o;if(r){var a=Fo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Mw(this,o)}}function Mw(e,r){if(r&&(Du(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cu(e)}function Cu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ww(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function Uy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ru(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var rc=(Dr=function(e){Aw(t,e);var r=Tw(t);function t(){var n;xw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Uy(Cu(n),"modelType",pt.POLYGON_NODE),Ew(Cu(n),"points",Ly,Cu(n)),n}return Sw(t,[{key:"getNodeStyle",value:function(){var o=ju(Fo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return Gy(Gy({},o),jt(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,l=this.width,p=this.height,m=this.points.map(function(S){return{x:S[0]+o-l/2,y:S[1]+a-p/2}});return m}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=ec(l,1),m=p[0];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=ec(l,2),m=p[1];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,l=this.y,p=this.width,m=this.height,S=this.points;return S.map(function(T,j){var _=ec(T,2),H=_[0],Z=_[1];return{x:a+H-p/2,y:l+Z-m/2,id:"".concat(o.id,"_").concat(j)}})}}]),t}(pn),Ly=Ru(Dr.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ru(Dr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"pointsPosition"),Dr.prototype),Ru(Dr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"width"),Dr.prototype),Ru(Dr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"height"),Dr.prototype),Dr);function Iu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iu=function(t){return typeof t}:Iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}var nc,ky;function Xy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function $y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xy(Object(t),!0).forEach(function(n){Wy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Nw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Dw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Yy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jw(e,r,t){return r&&Yy(e.prototype,r),t&&Yy(e,t),e}function Bu(){return typeof Reflect!="undefined"&&Reflect.get?Bu=Reflect.get:Bu=function(r,t,n){var o=Cw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Bu.apply(this,arguments)}function Cw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Go(e),e!==null););return e}function Rw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&oc(e,r)}function oc(e,r){return oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},oc(e,r)}function Iw(e){var r=_w();return function(){var n=Go(e),o;if(r){var a=Go(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Bw(this,o)}}function Bw(e,r){if(r&&(Iu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _u(e)}function _u(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(e)}function Wy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Lw(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ic=(nc=function(e){Rw(t,e);var r=Iw(t);function t(){var n;Dw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Wy(_u(n),"modelType",pt.RECT_NODE),Nw(_u(n),"radius",ky,_u(n)),n}return jw(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Bu(Go(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return $y($y({},o),jt(a))}}]),t}(pn),ky=Lw(nc.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nc);function Lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lu=function(t){return typeof t}:Lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}var Bn;function Ky(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Vy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ky(Object(t),!0).forEach(function(n){Qy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ky(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function zw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fw(e,r,t){return r&&Zy(e.prototype,r),t&&Zy(e,t),e}function zu(){return typeof Reflect!="undefined"&&Reflect.get?zu=Reflect.get:zu=function(r,t,n){var o=Gw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},zu.apply(this,arguments)}function Gw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ho(e),e!==null););return e}function Hw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ac(e,r)}function ac(e,r){return ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ac(e,r)}function Uw(e){var r=Xw();return function(){var n=Ho(e),o;if(r){var a=Ho(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kw(this,o)}}function kw(e,r){if(r&&(Lu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jy(e)}function Jy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}function Qy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function qy(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var uc=(Bn=function(e){Hw(t,e);var r=Uw(t);function t(){var n;zw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Qy(Jy(n),"modelType",pt.TEXT_NODE),n}return Fw(t,[{key:"getTextStyle",value:function(){var o=zu(Ho(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Vy(Vy({},o),jt(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),l=a.fontSize,p=vf({rows:o,fontSize:l,rowsLength:o.length}),m=p.width;return m}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),l=a.fontSize,p=vf({rows:o,fontSize:l,rowsLength:o.length}),m=p.height;return m}}]),t}(pn),qy(Bn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Bn.prototype,"width"),Bn.prototype),qy(Bn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Bn.prototype,"height"),Bn.prototype),Bn);function Fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fu=function(t){return typeof t}:Fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function $w(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function eg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yw(e,r,t){return r&&eg(e.prototype,r),t&&eg(e,t),e}function Ww(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sc(e,r)}function sc(e,r){return sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},sc(e,r)}function Kw(e){var r=Zw();return function(){var n=Gu(e),o;if(r){var a=Gu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Vw(this,o)}}function Vw(e,r){if(r&&(Fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tg(e)}function tg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Gu(e){return Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gu(e)}function Jw(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var lc=function(e){Ww(t,e);var r=Kw(t);function t(){var n;$w(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Jw(tg(n),"modelType",pt.HTML_NODE),n}return Yw(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Lr,rg,ng,og;function ig(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Qw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ig(Object(t),!0).forEach(function(n){ug(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ig(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function fc(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function qw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function e1(e,r,t){return r&&ag(e.prototype,r),t&&ag(e,t),e}function ug(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Oi(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var sg=(Lr=function(){function e(r){qw(this,e),ug(this,"graphModel",void 0),fc(this,"isShowHorizontal",rg,this),fc(this,"isShowVertical",ng,this),fc(this,"position",og,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return e1(e,[{key:"getStyle",value:function(){return Qw({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,l=!1,p=!1,m=0;m<n.length;m++){var S=n[m];if(S.id!==t.id&&(o===S.x&&(l=!0),a===S.y&&(p=!0),l&&p))break}return{isShowVertical:l,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,l=t.id,p;if(l){var m=this.graphModel.fakerNode;if(m&&m.id===l)p=Or(m);else{var S=this.graphModel.getNodeModelById(l);p=Or(S)}}for(var T=0;T<n.length;T++){var j=n[T];if(j.id!==t.id){var _=Or(j);if(_.minY===p.minY||_.maxY===p.minY){o=!0,a=p.minY;break}if(_.minY===p.maxY||_.maxY===p.maxY){o=!0,a=p.maxY;break}}}return or({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,l=t.id,p;if(l){var m=this.graphModel.fakerNode;if(m&&m.id===l)p=Or(m);else{var S=this.graphModel.getNodeModelById(l);p=Or(S)}}for(var T=0;T<n.length;T++){var j=n[T];if(j.id!==t.id){var _=Or(j);if(_.minX===p.minX||_.maxX===p.minX){o=!0,a=p.minX;break}if(_.minX===p.maxX||_.maxX===p.maxX){o=!0,a=p.maxX;break}}}return or({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,l=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!l){var m=this.getVerticalSnapline(t,n);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),rg=Oi(Lr.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ng=Oi(Lr.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),og=Oi(Lr.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oi(Lr.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(Lr.prototype,"clearSnapline"),Lr.prototype),Oi(Lr.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(Lr.prototype,"setNodeSnapLine"),Lr.prototype),Lr),Ei=new Map,lg=function(r){var t=ro();function n(){r();var a=Ei.get(t);if(a){var l=window.requestAnimationFrame(n);Ei.set(t,l)}}var o=window.requestAnimationFrame(n);return Ei.set(t,o),t},Hu=function(r){var t=Ei.get(r);t&&(window.cancelAnimationFrame(t),Ei.delete(r))};function Uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uu=function(t){return typeof t}:Uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function xi(){return xi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xi.apply(this,arguments)}function fg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ku(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fg(Object(t),!0).forEach(function(n){qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function t1(e,r){return i1(e)||o1(e,r)||n1(e,r)||r1()}function r1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1(e,r){if(!!e){if(typeof e=="string")return cg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cg(e,r)}}function cg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function o1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function i1(e){if(Array.isArray(e))return e}function a1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u1(e,r,t){return r&&dg(e.prototype,r),t&&dg(e,t),e}function s1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&cc(e,r)}function cc(e,r){return cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},cc(e,r)}function l1(e){var r=c1();return function(){var n=Xu(e),o;if(r){var a=Xu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return f1(this,o)}}function f1(e,r){if(r&&(Uu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}function Qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xu(e)}function qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var d1=function(e){s1(t,e);var r=l1(t);function t(){var n;return a1(this,t),n=r.call(this),qr(Qr(n),"preTargetNode",void 0),qr(Qr(n),"sourceRuleResults",void 0),qr(Qr(n),"targetRuleResults",void 0),qr(Qr(n),"dragHandler",void 0),qr(Qr(n),"t",void 0),qr(Qr(n),"onDragStart",function(o){var a=o.event,l=n.props,p=l.anchorData,m=l.nodeModel,S=l.graphModel,T=S.overlapMode;S.selectNodeById(m.id),T!==br.INCREASE&&m.autoToFront&&S.toFront(m.id),S.eventCenter.emit(it.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:m}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),qr(Qr(n),"onDraging",function(o){var a=o.event,l=n.props,p=l.graphModel,m=l.nodeModel,S=l.anchorData,T=p.transformModel,j=p.eventCenter,_=p.width,H=p.height,Z=p.editConfigModel,ae=Z.autoExpand,se=Z.stopMoveGraph,le=a.clientX,we=a.clientY,ge=p.getPointByClient({x:le,y:we}),be=ge.domOverlayPosition,Fe=be.x,Re=be.y,Ze=ge.canvasOverlayPosition,Ge=Ze.x,ht=Ze.y;n.t&&Hu(n.t);var yt=[],sr=10;Fe<10?yt=[sr,0]:Fe+10>_?yt=[-sr,0]:Re<10?yt=[0,sr]:Re+10>H&&(yt=[0,-sr]),n.setState({endX:Ge,endY:ht,draging:!0}),n.moveAnchorEnd(Ge,ht),yt.length>0&&!se&&ae&&(n.t=lg(function(){var xr=yt,on=t1(xr,2),zn=on[0],so=on[1];T.translate(zn,so);var $o=n.state,Fn=$o.endX,Yo=$o.endY;n.setState({endX:Fn-zn,endY:Yo-so}),n.moveAnchorEnd(Fn-zn,Yo-so)})),j.emit(it.ANCHOR_DRAG,{data:S,e:a,nodeModel:m})}),qr(Qr(n),"onDragEnd",function(o){n.t&&Hu(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,l=a.graphModel,p=a.nodeModel,m=a.anchorData;l.eventCenter.emit(it.ANCHOR_DRAGEND,{data:m,e:o,nodeModel:p})}),qr(Qr(n),"checkEnd",function(o){var a=n.props,l=a.graphModel,p=a.nodeModel,m=a.anchorData,S=m.x,T=m.y,j=m.id;l.edgeType;var _=n.state,H=_.endX,Z=_.endY,ae=_.draging,se=ja({x:H,y:Z},l);if(n.preTargetNode&&n.preTargetNode.state!==Et.DEFAULT&&n.preTargetNode.setElementState(Et.DEFAULT),!!ae&&se&&se.node){var le=se.node,we=se.anchor.id,ge="".concat(p.id,"_").concat(le.id,"_").concat(we,"_").concat(j),be=n.sourceRuleResults.get(ge)||{},Fe=be.isAllPass,Re=be.msg,Ze=n.targetRuleResults.get(ge)||{},Ge=Ze.isAllPass,ht=Ze.msg;if(Fe&&Ge){le.setElementState(Et.DEFAULT);var yt=l.edgeGenerator(p.getData(),l.getNodeModelById(se.node.id).getData()),sr=l.addEdge(ku(ku({},yt),{},{sourceNodeId:p.id,sourceAnchorId:j,startPoint:{x:S,y:T},targetNodeId:se.node.id,targetAnchorId:se.anchor.id,endPoint:{x:se.anchor.x,y:se.anchor.y}})),xr=n.props.anchorData;l.eventCenter.emit(it.ANCHOR_DROP,{data:xr,e:o,nodeModel:p,edgeModel:sr})}else{var on=le.getData();l.eventCenter.emit(it.CONNECTION_NOT_ALLOWED,{data:on,msg:ht||Re})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new no({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return u1(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,l=o.style,p=o.node,m=p.getAnchorShape(a);if(m)return m;var S=a.x,T=a.y,j=ku(ku({},l),l.hover);return Object(ne.g)("g",null,Object(ne.g)(mi,xi({className:"lf-node-anchor-hover"},j,{x:S,y:T})),Object(ne.g)(mi,xi({className:"lf-node-anchor"},l,{x:S,y:T})))}},{key:"moveAnchorEnd",value:function(o,a){var l=this.props,p=l.graphModel,m=l.nodeModel,S=l.anchorData,T=ja({x:o,y:a},p);if(T){var j=T.node,_=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(Et.DEFAULT),S.id===_)return;this.preTargetNode=j;var H="".concat(m.id,"_").concat(j.id,"_").concat(_,"_").concat(S.id);if(!this.targetRuleResults.has(H)){var Z=T.anchor,ae=m.isAllowConnectedAsSource(j,S,Z),se=j.isAllowConnectedAsTarget(m,S,Z);this.sourceRuleResults.set(H,Ra(ae)),this.targetRuleResults.set(H,Ra(se))}var le=this.sourceRuleResults.get(H),we=le.isAllPass,ge=this.targetRuleResults.get(H),be=ge.isAllPass;we&&be?j.setElementState(Et.ALLOW_CONNECT):j.setElementState(Et.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Et.DEFAULT&&this.preTargetNode.setElementState(Et.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,l=o.startY,p=o.endX,m=o.endY,S=Wr(a,l,p,m);return S>10}},{key:"render",value:function(){var o=this,a=this.state,l=a.startX,p=a.startY,m=a.endX,S=a.endY,T=this.props,j=T.anchorData.edgeAddable,_=T.edgeStyle;return Object(ne.g)("g",{className:"lf-anchor"},Object(ne.g)("g",{onMouseDown:function(Z){j!==!1&&o.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&Object(ne.g)(oo,xi({x1:l,y1:p,x2:m,y2:S},_,{"pointer-events":"none"})))}}]),t}(ne.a),p1=d1;i(63);function pg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function h1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?pg(Object(t),!0).forEach(function(n){v1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function v1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(t){return typeof t}:$u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function y1(e,r){return O1(e)||b1(e,r)||m1(e,r)||g1()}function g1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m1(e,r){if(!!e){if(typeof e=="string")return hg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hg(e,r)}}function hg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function b1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function O1(e){if(Array.isArray(e))return e}function vg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,l=e.fontSize,p=e.fill,m=p===void 0?"currentColor":p,S=e.overflowMode,T=S===void 0?"default":S,j=e.textWidth,_=j===void 0?"":j,H=e.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:m};if(Object.entries(e).forEach(function(be){var Fe=y1(be,2),Re=Fe[0],Ze=Fe[1],Ge=$u(Ze);Ge!=="object"&&(Z[Re]=Ze)}),a){var ae=String(a).split(/[\r\n]/g),se=ae.length;if(T!=="default"){var le=H.BaseType,we=H.modelType;if(le===Gt.NODE&&we!==pt.TEXT_NODE||le===Gt.EDGE&&_)return E1(e)}if(se>1){var ge=ae.map(function(be,Fe){var Re=l+2,Ze=(Fe-(se-1)/2)*Re;return Object(ne.g)("tspan",{className:"lf-text-tspan",x:t,y:o+Ze},be)});return Object(ne.g)("text",Z,ge)}return Object(ne.g)("text",Z,a)}}function E1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,l=e.lineHeight,p=e.wrapPadding,m=p===void 0?"0, 0":p,S=e.overflowMode,T=e.x,j=e.y,_=n.width,H=n.textHeight,Z=e.textWidth||_,ae=String(r).split(/[\r\n]/g),se=ae.length,le=Vp({rows:ae,style:{fontSize:"".concat(t,"px"),width:"".concat(Z,"px"),fontFamily:a,lineHeight:l,padding:m},rowsLength:se,className:"lf-get-text-height"}),we=n.height>le?n.height:le;H&&(we=H);var ge=S==="ellipsis";return Object(ne.g)("g",null,Object(ne.g)("foreignObject",{width:Z,height:we,x:T-Z/2,y:j-we/2},Object(ne.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:we,width:Z,padding:m}},Object(ne.g)("div",{className:ge?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:h1({},e)},ae.map(function(be){return Object(ne.g)("div",{className:"lf-node-text--auto-wrap-inner"},be)})))))}function Yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(t){return typeof t}:Yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function dc(){return dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},dc.apply(this,arguments)}function x1(e,r){return T1(e)||A1(e,r)||P1(e,r)||S1()}function S1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P1(e,r){if(!!e){if(typeof e=="string")return yg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yg(e,r)}}function yg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function A1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function T1(e){if(Array.isArray(e))return e}function M1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w1(e,r,t){return r&&gg(e.prototype,r),t&&gg(e,t),e}function N1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&pc(e,r)}function pc(e,r){return pc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},pc(e,r)}function D1(e){var r=C1();return function(){var n=Wu(e),o;if(r){var a=Wu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return j1(this,o)}}function j1(e,r){if(r&&(Yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _n(e)}function _n(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Wu(e){return Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wu(e)}function io(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var mg=function(e){N1(t,e);var r=D1(t);function t(n){var o;M1(this,t),o=r.call(this),io(_n(o),"dragHandler",void 0),io(_n(o),"sumDeltaX",0),io(_n(o),"sumDeltaY",0),io(_n(o),"stepDrag",void 0),io(_n(o),"onDraging",function(p){var m=p.deltaX,S=p.deltaY,T=o.props,j=T.model,_=T.graphModel.transformModel,H=_.fixDeltaXY(m,S),Z=x1(H,2),ae=Z[0],se=Z[1];j.moveText(ae,se)}),io(_n(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var m=o.props.model;m.setElementState(Et.TEXT_EDIT)}}),io(_n(o),"mouseDownHandle",function(p){var m=o.props,S=m.draggable,T=m.graphModel.editConfigModel.nodeTextDraggable;(S||T)&&o.stepDrag.handleMouseDown(p)});var a=n.model,l=n.draggable;return o.stepDrag=new no({onDraging:o.onDraging,step:1,model:a,isStopPropagation:l}),o}return w1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.text,m=l.editConfigModel,S=p.value,T=p.x,j=p.y,_=p.editable,H=p.draggable,Z={x:T,y:j,className:"",value:S};_?Z.className="lf-element-text":H||m.nodeTextDraggable?Z.className="lf-text-draggable":Z.className="lf-text-disabled";var ae=a.getTextStyle();return Object(ne.g)(vg,dc({},Z,ae,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(ne.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(ne.a),R1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ku=function(t){return typeof t}:Ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function Vu(e,r){return L1(e)||_1(e,r)||B1(e,r)||I1()}function I1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1(e,r){if(!!e){if(typeof e=="string")return bg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bg(e,r)}}function bg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function L1(e){if(Array.isArray(e))return e}function z1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F1(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}function G1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&hc(e,r)}function hc(e,r){return hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},hc(e,r)}function H1(e){var r=k1();return function(){var n=Zu(e),o;if(r){var a=Zu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return U1(this,o)}}function U1(e,r){if(r&&(Ku(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(e)}function ur(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vn=function(e){G1(t,e);var r=H1(t);function t(n){var o;z1(this,t),o=r.call(this),ur(rr(o),"t",void 0),ur(rr(o),"moveOffset",void 0),ur(rr(o),"stepDrag",void 0),ur(rr(o),"contextMenuTime",void 0),ur(rr(o),"startTime",void 0),ur(rr(o),"clickTimer",void 0),ur(rr(o),"onDragStart",function(S){var T=S.event,j=T.clientX,_=T.clientY,H=o.props,Z=H.model,ae=H.graphModel,se=ae.getPointByClient({x:j,y:_}),le=se.canvasOverlayPosition,we=le.x,ge=le.y;o.moveOffset={x:Z.x-we,y:Z.y-ge}}),ur(rr(o),"onDraging",function(S){var T=S.event,j=o.props,_=j.model,H=j.graphModel,Z=H.editConfigModel,ae=Z.stopMoveGraph,se=Z.autoExpand,le=H.transformModel,we=H.width,ge=H.height,be=H.gridSize;_.isDragging=!0;var Fe=T.clientX,Re=T.clientY,Ze=H.getPointByClient({x:Fe,y:Re}),Ge=Ze.canvasOverlayPosition,ht=Ge.x,yt=Ge.y,sr=le.CanvasPointToHtmlPoint([ht,yt]),xr=Vu(sr,2),on=xr[0],zn=xr[1];if(ht=ht+o.moveOffset.x,yt=yt+o.moveOffset.y,ht=Dn(ht,be),yt=Dn(yt,be),!we||!ge){H.moveNode2Coordinate(_.id,ht,yt);return}var so=on<0||zn<0||on>we||zn>ge;if(!(se&&!ae&&so)){var $o=le.CanvasPointToHtmlPoint([ht-_.width/2,yt-_.height/2]),Fn=Vu($o,2),Yo=Fn[0],nd=Fn[1],DC=le.CanvasPointToHtmlPoint([ht+_.width/2,yt+_.height/2]),xm=Vu(DC,2),jC=xm[0],CC=xm[1],Us=Math.max(be,20),Wo=[];Yo<0?Wo=[Us,0]:jC>H.width?Wo=[-Us,0]:nd<0?Wo=[0,Us]:CC>H.height&&(Wo=[0,-Us]),o.t&&Hu(o.t),Wo.length>0&&!ae&&se?o.t=lg(function(){var RC=Wo,Sm=Vu(RC,2),Pm=Sm[0],Am=Sm[1];le.translate(Pm,Am),H.moveNode(_.id,-Pm/le.SCALE_X,-Am/le.SCALE_X)}):H.moveNode2Coordinate(_.id,ht,yt)}}),ur(rr(o),"onDragEnd",function(){o.t&&Hu(o.t);var S=o.props.model;S.isDragging=!1}),ur(rr(o),"handleClick",function(S){if(!!o.startTime){var T=new Date().getTime()-o.startTime;if(!(T>200)){var j=o.props,_=j.model,H=j.graphModel,Z=_.getData(),ae=H.getPointByClient({x:S.clientX,y:S.clientY}),se={data:Z,e:S,position:ae},le=S.button===2,we=S.detail===2;if(!le){var ge=H.editConfigModel;H.selectNodeById(_.id,Up(S,ge)),o.toFront(),we?(ge.nodeTextEdit&&_.text.editable&&(_.setSelected(!1),H.setElementStateById(_.id,Et.TEXT_EDIT)),H.eventCenter.emit(it.NODE_DBCLICK,se)):(H.eventCenter.emit(it.ELEMENT_CLICK,se),H.eventCenter.emit(it.NODE_CLICK,se))}}}}),ur(rr(o),"handleContextMenu",function(S){S.preventDefault();var T=o.props,j=T.model,_=T.graphModel,H=j.getData(),Z=_.getPointByClient({x:S.clientX,y:S.clientY});_.setElementStateById(j.id,Et.SHOW_MENU,Z.domOverlayPosition),_.selectNodeById(j.id),_.eventCenter.emit(it.NODE_CONTEXTMENU,{data:H,e:S,position:Z}),o.toFront()}),ur(rr(o),"handleMouseDown",function(S){var T=o.props,j=T.model,_=T.graphModel;o.startTime=new Date().getTime();var H=_.editConfigModel;H.adjustNodePosition&&j.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(S)}),ur(rr(o),"setHoverON",function(S){var T=o.props,j=T.model,_=T.graphModel;if(!j.isHovered){var H=j.getData();j.setHovered(!0),_.eventCenter.emit(it.NODE_MOUSEENTER,{data:H,e:S})}}),ur(rr(o),"setHoverOFF",function(S){var T=o.props,j=T.model,_=T.graphModel,H=j.getData();!j.isHovered||(j.setHovered(!1),_.eventCenter.emit(it.NODE_MOUSELEAVE,{data:H,e:S}))}),ur(rr(o),"onMouseOut",function(S){R1&&o.setHoverOFF(S)});var a=n.graphModel,l=a.gridSize,p=a.eventCenter,m=n.model;return o.stepDrag=new no({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:l,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:m}),o}return F1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,l=a.model,p=a.graphModel,m=l.isSelected,S=l.isHitable,T=l.isDragging,j=l.isShowAnchor;return S&&(m||j)&&!T?Pa(l.anchors,function(_,H){var Z=l.getAnchorLineStyle(_),ae=l.getAnchorStyle(_);return Object(ne.g)(p1,{anchorData:_,node:o,style:ae,edgeStyle:Z,anchorIndex:H,nodeModel:l,graphModel:p,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,a=o.model,l=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";if(a.text){var p=l.editConfigModel,m=!1;return(a.text.draggable||p.nodeTextDraggable)&&(m=!0),Object(ne.g)(mg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:l,draggable:m})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,l=o.isDraging,p=o.isSelected,m="lf-node";switch(a){case Et.ALLOW_CONNECT:m+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default";break}return l&&(m+=" lf-isDragging"),p&&(m+=" lf-node-selected"),m}},{key:"toFront",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=l.overlapMode;p!==br.INCREASE&&a.autoToFront&&l.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=l.editConfigModel,m=p.hideAnchors,S=p.adjustNodePosition,T=l.gridSize,j=l.transformModel.SCALE_X,_=a.isHitable,H=a.draggable,Z=Object(ne.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),m?null:this.getAnchors()),ae;return _?(S&&H&&this.stepDrag.setStep(T*j),ae=Object(ne.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Z)):ae=Object(ne.g)("g",{className:this.getStateClassName()},Z),ae}}],[{key:"getModel",value:function(o){return o}}]),t}(ne.a);function Ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(t){return typeof t}:Ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function vc(){return vc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vc.apply(this,arguments)}function X1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Eg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $1(e,r,t){return r&&Eg(e.prototype,r),t&&Eg(e,t),e}function Y1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&yc(e,r)}function yc(e,r){return yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},yc(e,r)}function W1(e){var r=Z1();return function(){var n=Qu(e),o;if(r){var a=Qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return K1(this,o)}}function K1(e,r){if(r&&(Ju(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V1(e)}function V1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Qu(e){return Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qu(e)}var gc=function(e){Y1(t,e);var r=W1(t);function t(){return X1(this,t),r.apply(this,arguments)}return $1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)(Rn,vc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(vn);function qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(t){return typeof t}:qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function mc(){return mc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mc.apply(this,arguments)}function J1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q1(e,r,t){return r&&xg(e.prototype,r),t&&xg(e,t),e}function q1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&bc(e,r)}function bc(e,r){return bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},bc(e,r)}function eN(e){var r=nN();return function(){var n=es(e),o;if(r){var a=es(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return tN(this,o)}}function tN(e,r){if(r&&(qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rN(e)}function rN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},es(e)}var Oc=function(e){q1(t,e);var r=eN(t);function t(){return J1(this,t),r.apply(this,arguments)}return Q1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.r,m=o.getNodeStyle();return Object(ne.g)(mi,mc({},m,{x:a,y:l,r:p}))}}]),t}(vn);function ts(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ts=function(t){return typeof t}:ts=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function oN(e,r){return sN(e)||uN(e,r)||aN(e,r)||iN()}function iN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aN(e,r){if(!!e){if(typeof e=="string")return Sg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sg(e,r)}}function Sg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function uN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function sN(e){if(Array.isArray(e))return e}function Pg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=oN(o,2),l=a[0],p=a[1],m=ts(p);m!=="object"&&(n[l]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(ne.g)("polygon",n)}function rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function Ec(){return Ec=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ec.apply(this,arguments)}function lN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fN(e,r,t){return r&&Ag(e.prototype,r),t&&Ag(e,t),e}function cN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&xc(e,r)}function xc(e,r){return xc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},xc(e,r)}function dN(e){var r=vN();return function(){var n=ns(e),o;if(r){var a=ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pN(this,o)}}function pN(e,r){if(r&&(rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hN(e)}function hN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}var Sc=function(e){cN(t,e);var r=dN(t);function t(){return lN(this,t),r.apply(this,arguments)}return fN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.width,m=o.height,S=o.points,T=o.getNodeStyle(),j={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(l-m/2,")")};return Object(ne.g)("g",j,Object(ne.g)(Pg,Ec({},T,{points:S,x:a,y:l})))}}]),t}(vn);function os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?os=function(t){return typeof t}:os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function Pc(){return Pc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Pc.apply(this,arguments)}function yN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gN(e,r,t){return r&&Tg(e.prototype,r),t&&Tg(e,t),e}function mN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ac(e,r)}function Ac(e,r){return Ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ac(e,r)}function bN(e){var r=xN();return function(){var n=is(e),o;if(r){var a=is(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ON(this,o)}}function ON(e,r){if(r&&(os(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EN(e)}function EN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function is(e){return is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},is(e)}var Tc=function(e){mN(t,e);var r=bN(t);function t(){return yN(this,t),r.apply(this,arguments)}return gN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)("g",null,Object(ne.g)(Pg,Pc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(vn);function as(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?as=function(t){return typeof t}:as=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function SN(e,r){return MN(e)||TN(e,r)||AN(e,r)||PN()}function PN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AN(e,r){if(!!e){if(typeof e=="string")return Mg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mg(e,r)}}function Mg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function TN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function MN(e){if(Array.isArray(e))return e}function wN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,l=a===void 0?4:a,p=e.ry,m=p===void 0?4:p,S=e.className,T={cx:t,cy:o,rx:l,ry:m,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(j){var _=SN(j,2),H=_[0],Z=_[1],ae=as(Z);ae!=="object"&&(T[H]=Z)}),S?T.className="lf-basic-shape ".concat(S):T.className="lf-basic-shape",Object(ne.g)("ellipse",T)}function us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function Mc(){return Mc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Mc.apply(this,arguments)}function NN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DN(e,r,t){return r&&wg(e.prototype,r),t&&wg(e,t),e}function jN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wc(e,r)}function wc(e,r){return wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wc(e,r)}function CN(e){var r=BN();return function(){var n=ss(e),o;if(r){var a=ss(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return RN(this,o)}}function RN(e,r){if(r&&(us(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IN(e)}function IN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ss(e)}var Nc=function(e){jN(t,e);var r=CN(t);function t(){return NN(this,t),r.apply(this,arguments)}return DN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)(wN,Mc({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(vn);function ls(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ls=function(t){return typeof t}:ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function Ng(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Dg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ng(Object(t),!0).forEach(function(n){_N(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ng(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _N(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function LN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zN(e,r,t){return r&&jg(e.prototype,r),t&&jg(e,t),e}function FN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Dc(e,r)}function Dc(e,r){return Dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Dc(e,r)}function GN(e){var r=kN();return function(){var n=fs(e),o;if(r){var a=fs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HN(this,o)}}function HN(e,r){if(r&&(ls(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UN(e)}function UN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fs(e)}var jc=function(e){FN(t,e);var r=GN(t);function t(){return LN(this,t),r.apply(this,arguments)}return zN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),l=o.text;if(l&&l.value&&a.background&&a.background.fill!=="transparnet"){var p=l.x,m=l.y,S=o.width,T=o.height,j=Dg(Dg({},a.background),{},{x:p,y:m-1,width:S,height:T});return Object(ne.g)(Rn,j)}}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getBackground())}}]),t}(vn);function cs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cs=function(t){return typeof t}:cs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function Cc(){return Cc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Cc.apply(this,arguments)}function XN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $N(e,r,t){return r&&Cg(e.prototype,r),t&&Cg(e,t),e}function YN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rc(e,r)}function Rc(e,r){return Rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rc(e,r)}function WN(e){var r=VN();return function(){var n=ds(e),o;if(r){var a=ds(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return KN(this,o)}}function KN(e,r){if(r&&(cs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Si(e)}function Si(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ds(e)}function ps(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ic=function(e){YN(t,e);var r=WN(t);function t(){var n;XN(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),ps(Si(n),"ref",void 0),ps(Si(n),"currentProperties",void 0),ps(Si(n),"preProperties",void 0),ps(Si(n),"setRef",function(p){n.ref=p}),n}return $N(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.height,m=o.width,S=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(ne.g)("foreignObject",Cc({},S,{x:a-m/2,y:l-p/2,width:m,height:p,ref:this.setRef}))}}]),t}(vn);function hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(t){return typeof t}:hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function Bc(){return Bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Bc.apply(this,arguments)}function Rg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ao(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Rg(Object(t),!0).forEach(function(n){zc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ZN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JN(e,r,t){return r&&Ig(e.prototype,r),t&&Ig(e,t),e}function QN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_c(e,r)}function _c(e,r){return _c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_c(e,r)}function qN(e){var r=tD();return function(){var n=vs(e),o;if(r){var a=vs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return eD(this,o)}}function eD(e,r){if(r&&(hs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lc(e)}function Lc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(e)}function zc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var rD=function(e){QN(t,e);var r=qN(t);function t(n){var o;return ZN(this,t),o=r.call(this,n),zc(Lc(o),"setHoverON",function(){o.setState({isHoverd:!0})}),zc(Lc(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return JN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),l=o.text,p=a.background||{},m=this.state.isHoverd;if(m&&a.hover&&a.hover.background&&(p=ao(ao({},p),a.hover.background)),l&&l.value&&p.fill!=="transparent"){var S=a.fontSize,T=a.overflowMode,j=a.lineHeight,_=a.wrapPadding,H=a.textWidth,Z=l.value,ae=l.x,se=l.y,le=String(Z).split(/[\r\n]/g),we=le.length,ge;if(T==="autoWrap"&&H){var be=Vp({rows:le,style:{fontSize:"".concat(S,"px"),width:"".concat(H,"px"),lineHeight:j,padding:_},rowsLength:we,className:"lf-get-text-height"});ge=ao(ao({},p),{},{x:ae-1,y:se-1,width:H,height:be})}else{le&&le.forEach(function(ht){Gh(ht)});var Fe=vf({rows:le,fontSize:S,rowsLength:we}),Re=Fe.width,Ze=Fe.height;if(typeof p.wrapPadding=="string"){var Ge=p.wrapPadding.split(",").filter(function(ht){return ht.trim()}).map(function(ht){return parseFloat(ht.trim())});Ge.length>0&&Ge.length<=4&&(Ge.length===1?Ge=[Ge[0],Ge[0],Ge[0],Ge[0]]:Ge.length===2?Ge=[Ge[0],Ge[1],Ge[0],Ge[1]]:Ge.length===3&&(Ge=[Ge[0],Ge[1],Ge[2],Ge[1]]),Re+=Ge[1]+Ge[3],Ze+=Ge[0]+Ge[2],ae=ae+(Ge[1]-Ge[3])/2,se=se+(Ge[2]-Ge[0])/2)}ge=ao(ao({},p),{},{x:ae-1,y:se-1,width:Re,height:Ze})}return Object(ne.g)(Rn,ge)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,l=a.value,p=a.x,m=a.y;if(!!l){var S=o.getTextStyle(),T=ao({x:p,y:m,className:"lf-element-text",value:l},S);return Object(ne.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ne.g)(vg,Bc({},T,{model:o})))}}}]),t}(mg);function ys(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ys=function(t){return typeof t}:ys=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Fc(){return Fc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Fc.apply(this,arguments)}function Bg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Bg(Object(t),!0).forEach(function(n){Fr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nD(e,r){return uD(e)||aD(e,r)||iD(e,r)||oD()}function oD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iD(e,r){if(!!e){if(typeof e=="string")return _g(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _g(e,r)}}function _g(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function aD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function uD(e){if(Array.isArray(e))return e}function sD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lD(e,r,t){return r&&Lg(e.prototype,r),t&&Lg(e,t),e}function fD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gc(e,r)}function Gc(e,r){return Gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gc(e,r)}function cD(e){var r=pD();return function(){var n=gs(e),o;if(r){var a=gs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dD(this,o)}}function dD(e,r){if(r&&(ys(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zr(e)}function zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function gs(e){return gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(e)}function Fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var en;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(en||(en={}));var zg=function(e){fD(t,e);var r=cD(t);function t(){var n;return sD(this,t),n=r.call(this),Fr(zr(n),"dragHandler",void 0),Fr(zr(n),"oldEdge",void 0),Fr(zr(n),"preTargetNode",void 0),Fr(zr(n),"targetRuleResults",void 0),Fr(zr(n),"sourceRuleResults",void 0),Fr(zr(n),"onDragStart",function(){var o=n.props,a=o.x,l=o.y,p=o.edgeModel,m=p.startPoint,S=p.endPoint,T=p.pointsList;n.oldEdge={startPoint:m,endPoint:S,pointsList:T},n.setState({endX:a,endY:l,draging:!0}),p.isHitable=!1}),Fr(zr(n),"onDraging",function(o){var a=o.deltaX,l=o.deltaY,p=n.state,m=p.endX,S=p.endY,T=n.props,j=T.graphModel,_=T.type,H=j.transformModel,Z=H.moveCanvasPointByHtml([m,S],a,l),ae=nD(Z,2),se=ae[0],le=ae[1];n.setState({endX:se,endY:le,draging:!0});var we=n.props.edgeModel,ge=ja({x:m,y:S},j);if(ge&&ge.node&&n.isAllowAdjust(ge)){var be,Fe=we.startPoint,Re=we.endPoint,Ze=we.sourceNode,Ge=we.targetNode;_===en.SOURCE?be={startPoint:{x:ge.anchor.x,y:ge.anchor.y},endPoint:{x:Re.x,y:Re.y},sourceNode:ge.node,targetNode:Ge}:_===en.TARGET&&(be={startPoint:{x:Fe.x,y:Fe.y},endPoint:{x:ge.anchor.x,y:ge.anchor.y},sourceNode:Ze,targetNode:ge.node}),we.updateAfterAdjustStartAndEnd(be)}else _===en.SOURCE?we.updateStartPoint({x:se,y:le}):_===en.TARGET&&we.updateEndPoint({x:se,y:le})}),Fr(zr(n),"onDragEnd",function(){var o;n.setState({draging:!1});var a=n.props,l=a.graphModel,p=a.edgeModel,m=a.type;p.isHitable=!0;var S=n.state,T=S.endX,j=S.endY,_=S.draging,H=ja({x:T,y:j},l);if(!!_){if(H&&H.node&&n.isAllowAdjust(H)){var Z,ae=p.getData(),se=yn(yn({},ae),{},{sourceAnchorId:"",targetAnchorId:"",text:(ae==null||(Z=ae.text)===null||Z===void 0?void 0:Z.value)||""});if(m===en.SOURCE){var le=l.edgeGenerator(l.getNodeModelById(H.node.id).getData(),l.getNodeModelById(p.targetNodeId).getData(),se);se=yn(yn({},le),{},{sourceNodeId:H.node.id,sourceAnchorId:H.anchor.id,startPoint:{x:H.anchor.x,y:H.anchor.y},targetNodeId:p.targetNodeId,endPoint:yn({},p.endPoint)})}else if(m===en.TARGET){var we=l.edgeGenerator(l.getNodeModelById(p.sourceNodeId).getData(),l.getNodeModelById(H.node.id).getData(),se);se=yn(yn({},we),{},{sourceNodeId:p.sourceNodeId,startPoint:yn({},p.startPoint),targetNodeId:H.node.id,targetAnchorId:H.anchor.id,endPoint:{x:H.anchor.x,y:H.anchor.y}})}l.deleteEdgeById(p.id);var ge=l.addEdge(yn({},se));l.eventCenter.emit(it.EDGE_EXCHANGE_NODE,{data:{newEdge:ge.getData(),oldEdge:p.getData()}})}else n.recoveryEdge();(o=n.preTargetNode)===null||o===void 0||o.setElementState(Et.DEFAULT)}}),Fr(zr(n),"recoveryEdge",function(){var o=n.props.edgeModel,a=n.oldEdge,l=a.startPoint,p=a.endPoint,m=a.pointsList;o.updateStartPoint(l),o.updateEndPoint(p),o.modelType!==pt.LINE_EDGE&&(o.pointsList=m,o.initPoints())}),Fr(zr(n),"getAdjustPointStyle",function(){var o=n.props.graphModel.theme,a=o.edgeAdjust;return a}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=wf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return lD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,l=a.edgeModel;l.id;var p=l.sourceNode,m=l.targetNode,S=l.sourceAnchorId,T=l.targetAnchorId,j=a.type,_=null,H=null,Z=null,ae=null;if(j===en.SOURCE?(_=o.node,H=m,Z=o.anchor,ae=m.getAnchorInfo(T)):(_=p,H=o.node,ae=o.anchor,Z=p.getAnchorInfo(S)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Et.DEFAULT),this.preTargetNode=o.node,ae.id===Z.id)return!1;var se="".concat(_.id,"_").concat(H.id,"_").concat(Z.id,"_").concat(ae.id);if(!this.targetRuleResults.has(se)){var le=_.isAllowConnectedAsSource(H,Z,ae),we=H.isAllowConnectedAsTarget(_,Z,ae);this.sourceRuleResults.set(se,Ra(le)),this.targetRuleResults.set(se,Ra(we))}var ge=this.sourceRuleResults.get(se),be=ge.isAllPass,Fe=this.targetRuleResults.get(se),Re=Fe.isAllPass,Ze=be&&Re?Et.ALLOW_CONNECT:Et.NOT_ALLOW_CONNECT;return j===en.SOURCE?_.setElementState(Ze):H.setElementState(Ze),be&&Re}},{key:"render",value:function(){var o=this.props,a=o.x,l=o.y,p=this.state.draging,m=this.getAdjustPointStyle();return Object(ne.g)("g",null,Object(ne.g)(mi,Fc({className:"lf-edge-adjust-point"},m,{x:a,y:l,onMouseDown:this.dragHandler,"pointer-events":p?"none":""})))}}]),t}(ne.a);function ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ms=function(t){return typeof t}:ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function bs(){return bs=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bs.apply(this,arguments)}function Fg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Gg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Fg(Object(t),!0).forEach(function(n){Hr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function hD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vD(e,r,t){return r&&Hg(e.prototype,r),t&&Hg(e,t),e}function yD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hc(e,r)}function Hc(e,r){return Hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hc(e,r)}function gD(e){var r=bD();return function(){var n=Os(e),o;if(r){var a=Os(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return mD(this,o)}}function mD(e,r){if(r&&(ms(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gr(e)}function Gr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(e)}function Hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Pi=function(e){yD(t,e);var r=gD(t);function t(){var n;hD(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Hr(Gr(n),"startTime",void 0),Hr(Gr(n),"contextMenuTime",void 0),Hr(Gr(n),"clickTimer",void 0),Hr(Gr(n),"handleHover",function(p,m){var S=n.props,T=S.model,j=S.graphModel.eventCenter;T.setHovered(p);var _=p?it.EDGE_MOUSEENTER:it.EDGE_MOUSELEAVE,H=T.getData();j.emit(_,{data:H,e:m})}),Hr(Gr(n),"setHoverON",function(p){var m=n.props.model.isHovered;m||n.handleHover(!0,p)}),Hr(Gr(n),"setHoverOFF",function(p){n.handleHover(!1,p)}),Hr(Gr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var m=n.props,S=m.model,T=m.graphModel,j=T.getPointByClient({x:p.clientX,y:p.clientY});T.setElementStateById(S.id,Et.SHOW_MENU,j.domOverlayPosition),n.toFront(),T.selectEdgeById(S.id);var _=S==null?void 0:S.getData();T.eventCenter.emit(it.EDGE_CONTEXTMENU,{data:_,e:p,position:j})}),Hr(Gr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),Hr(Gr(n),"handleMouseUp",function(p){if(!!n.startTime){var m=new Date().getTime()-n.startTime;if(!(m>200)){var S=p.button===2;if(!S){var T=p.detail===2,j=n.props,_=j.model,H=j.graphModel,Z=_==null?void 0:_.getData(),ae=H.getPointByClient({x:p.clientX,y:p.clientY});if(T){var se=H.editConfigModel,le=H.textEditElement;if(le&&le.id===_.id&&H.setElementStateById(_.id,Et.DEFAULT),se.edgeTextEdit&&_.text.editable&&H.setElementStateById(_.id,Et.TEXT_EDIT),_.modelType===pt.POLYLINE_EDGE){var we=_,ge=H.getPointByClient({x:p.x,y:p.y}),be=ge.canvasOverlayPosition,Fe=be.x,Re=be.y,Ze=Uh({x:Fe,y:Re},we.points);we.dbClickPosition=Ze}H.eventCenter.emit(it.EDGE_DBCLICK,{data:Z,e:p,position:ae})}else H.eventCenter.emit(it.ELEMENT_CLICK,{data:Z,e:p,position:ae}),H.eventCenter.emit(it.EDGE_CLICK,{data:Z,e:p,position:ae});var Ge=H.editConfigModel;H.selectEdgeById(_.id,Up(p,Ge)),n.toFront()}}}}),Hr(Gr(n),"getIsDragging",function(){return!1}),n}return vD(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,l=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";var p=!1,m=l.editConfigModel;return(a.text.draggable||m.edgeTextDraggable)&&(p=!0),Object(ne.g)(rD,{editable:m.edgeTextEdit&&a.text.editable,model:a,graphModel:l,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p=o.isSelected,m=this.state,S=m.hover;return{start:a,end:l,hover:S,isSelected:p}}},{key:"getArrowStyle",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.getEdgeStyle(),m=a.getEdgeAnimationStyle(),S=l.theme.arrow,T=a.isAnimation?m.stroke:p.stroke;return Gg(Gg({},p),{},{fill:T,stroke:T},S)}},{key:"getArrow",value:function(){var o=this.props.model.id,a=this.getArrowStyle(),l=a.refY,p=l===void 0?0:l,m=a.refX,S=m===void 0?2:m;return Object(ne.g)("g",null,Object(ne.g)("defs",null,Object(ne.g)("marker",{id:"marker-start-".concat(o),refX:-S,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ne.g)("marker",{id:"marker-end-".concat(o),refX:S,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,l=o.strokeWidth,p=o.offset,m=o.verticalLength;return Object(ne.g)("path",{stroke:a,fill:a,strokeWidth:l,d:"M 0 0 L ".concat(p," -").concat(m," L ").concat(p," ").concat(m," Z")})}},{key:"getEndArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,l=o.strokeWidth,p=o.offset,m=o.verticalLength;return Object(ne.g)("path",{stroke:a,fill:a,strokeWidth:l,transform:"rotate(180)",d:"M 0 0 L ".concat(p," -").concat(m," L ").concat(p," ").concat(m," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.getAdjustStart(),m=a.getAdjustEnd();return Object(ne.g)("g",null,Object(ne.g)(zg,bs({type:"SOURCE"},p,{edgeModel:a,graphModel:l})),Object(ne.g)(zg,bs({type:"TARGET"},m,{edgeModel:a,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ne.g)("g",null)}},{key:"getAppend",value:function(){return Object(ne.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,l=o.model,p=a.overlapMode;p!==br.INCREASE&&a.toFront(l.id)}},{key:"render",value:function(){var o=this.props,a=o.model,l=a.isSelected,p=a.isHitable,m=o.graphModel,S=this.getIsDragging(),T=m.editConfigModel.adjustEdgeStartAndEnd,j=m.animation,_=l&&j.edge&&m.getSelectElements().edges.length===1;return Object(ne.g)("g",null,Object(ne.g)("g",{className:["lf-edge",!p&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),_&&this.getAnimation(),this.getText(),this.getArrow()),T&&l&&!S?this.getAdjustPoints():"")}}]),t}(ne.a);function Es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(t){return typeof t}:Es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function OD(e,r){return PD(e)||SD(e,r)||xD(e,r)||ED()}function ED(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xD(e,r){if(!!e){if(typeof e=="string")return Ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ug(e,r)}}function Ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function SD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function PD(e){if(Array.isArray(e))return e}function AD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=OD(t,2),o=n[0],a=n[1],l=Es(a);(o==="style"||l!=="object")&&(r[o]=a)}),Object(ne.g)("path",r)}var Uo=AD;function xs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xs=function(t){return typeof t}:xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function Ss(){return Ss=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ss.apply(this,arguments)}function TD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function kg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MD(e,r,t){return r&&kg(e.prototype,r),t&&kg(e,t),e}function wD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return Uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uc(e,r)}function ND(e){var r=CD();return function(){var n=Ps(e),o;if(r){var a=Ps(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return DD(this,o)}}function DD(e,r){if(r&&(xs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jD(e)}function jD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ps(e){return Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ps(e)}var kc=function(e){wD(t,e);var r=ND(t);function t(){return TD(this,t),r.apply(this,arguments)}return MD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p=o.isAnimation,m=o.arrowConfig,S=o.getEdgeStyle(),T=o.getEdgeAnimationStyle(),j=T.strokeDasharray,_=T.stroke,H=T.strokeDashoffset,Z=T.animationName,ae=T.animationDuration,se=T.animationIterationCount,le=T.animationTimingFunction,we=T.animationDirection;return Object(ne.g)(oo,Ss({},S,{x1:a.x,y1:a.y,x2:l.x,y2:l.y},m,p?{strokeDasharray:j,stroke:_,style:{strokeDashoffset:H,animationName:Z,animationDuration:ae,animationIterationCount:se,animationTimingFunction:le,animationDirection:we}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,m=a.strokeDasharray,S=o.startPoint,T=o.endPoint,j=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(oo,Ss({},j,{x1:S.x,y1:S.y,x2:T.x,y2:T.y,className:p,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p={start:a,end:l},m=AA(p),S=m.d,T=m.strokeWidth,j=m.fill,_=m.strokeDasharray,H=m.stroke;return Object(ne.g)(Uo,{d:S,fill:j,strokeWidth:T,stroke:H,strokeDasharray:_})}}]),t}(Pi);function As(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?As=function(t){return typeof t}:As=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function RD(e,r){return LD(e)||_D(e,r)||BD(e,r)||ID()}function ID(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BD(e,r){if(!!e){if(typeof e=="string")return Xg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xg(e,r)}}function Xg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _D(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function LD(e){if(Array.isArray(e))return e}function zD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=RD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var l=As(a);l!=="object"&&(r[o]=a)}}),Object(ne.g)("polyline",r)}var $g=zD;function Ts(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ts=function(t){return typeof t}:Ts=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function Yg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ms(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yg(Object(t),!0).forEach(function(n){rn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ws(){return ws=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ws.apply(this,arguments)}function FD(e,r){return kD(e)||UD(e,r)||HD(e,r)||GD()}function GD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HD(e,r){if(!!e){if(typeof e=="string")return Wg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wg(e,r)}}function Wg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function UD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function kD(e){if(Array.isArray(e))return e}function XD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Kg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $D(e,r,t){return r&&Kg(e.prototype,r),t&&Kg(e,t),e}function YD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xc(e,r)}function Xc(e,r){return Xc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xc(e,r)}function WD(e){var r=VD();return function(){var n=Ns(e),o;if(r){var a=Ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return KD(this,o)}}function KD(e,r){if(r&&(Ts(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tn(e)}function tn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ns(e){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ns(e)}function rn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var $c=function(e){YD(t,e);var r=WD(t);function t(){var n;return XD(this,t),n=r.call(this),rn(tn(n),"drag",void 0),rn(tn(n),"isDraging",void 0),rn(tn(n),"appendInfo",void 0),rn(tn(n),"dragHandler",void 0),rn(tn(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart()}),rn(tn(n),"onDraging",function(o){var a=o.deltaX,l=o.deltaY,p=n.props,m=p.model,S=p.graphModel;n.isDraging=!0;var T=S.transformModel,j=S.editConfigModel,_=T.fixDeltaXY(a,l),H=FD(_,2),Z=H[0],ae=H[1],se=m,le=j.adjustEdgeMiddle;le?n.appendInfo=se.dragAppendSimple(n.appendInfo,{x:Z,y:ae}):n.appendInfo=se.dragAppend(n.appendInfo,{x:Z,y:ae})}),rn(tn(n),"onDragEnd",function(){var o=n.props,a=o.model,l=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,l.emit(it.EDGE_ADJUST,{data:p.getData()})}),rn(tn(n),"beforeDragStart",function(o,a){a.dragAble&&n.dragHandler(o),n.appendInfo=a}),rn(tn(n),"getIsDragging",function(){return n.isDraging}),n.drag=wf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return $D(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,l=o.isAnimation,p=o.arrowConfig,m=o.getEdgeStyle(),S=o.getEdgeAnimationStyle(),T=S.strokeDasharray,j=S.stroke,_=S.strokeDashoffset,H=S.animationName,Z=S.animationDuration,ae=S.animationIterationCount,se=S.animationTimingFunction,le=S.animationDirection;return Object(ne.g)($g,ws({points:a},m,p,l?{strokeDasharray:T,stroke:j,style:{strokeDashoffset:_,animationName:H,animationDuration:Z,animationIterationCount:ae,animationTimingFunction:se,animationDirection:le}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,m=a.strokeDasharray,S=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)($g,ws({points:o.points},S,{className:p,strokeDasharray:m,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,l=o.isSelected,p=this.state,m=p.hover,S={start:null,end:null,hover:m,isSelected:l},T=wo(a);return T.length>=2&&(S.start=T[T.length-2],S.end=T[T.length-1]),S}},{key:"getAppendAttributes",value:function(o){var a=o.start,l=o.end,p;if(a.x===l.x&&a.y===l.y)p="";else{var m={start:a,end:l,offset:10,verticalLength:5},S=hi(Ms(Ms({},m),{},{type:"start"})),T=hi(Ms(Ms({},m),{},{type:"end"}));p="M".concat(S.leftX," ").concat(S.leftY,` 
      L`).concat(S.rightX," ").concat(S.rightY,` 
      L`).concat(T.rightX," ").concat(T.rightY,`
      L`).concat(T.leftX," ").concat(T.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),l=a.d,p=a.strokeWidth,m=a.fill,S=a.strokeDasharray,T=a.stroke;return Object(ne.g)(Uo,{d:l,fill:m,strokeWidth:p,stroke:T,strokeDasharray:S})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,l=a.model,p=a.graphModel,m=l.pointsList,S=l.draggable,T=[],j=m.length,_=function(ae){var se="lf-polyline-append",le={start:{x:m[ae].x,y:m[ae].y},end:{x:m[ae+1].x,y:m[ae+1].y},startIndex:ae,endIndex:ae+1,direction:"",dragAble:!0},we=Object(ne.g)("g",{className:se},o.getAppendShape(le)),ge=p.editConfigModel,be=ge.adjustEdge,Fe=ge.adjustEdgeMiddle;if(!be||!S)o.dragHandler=function(){};else{o.dragHandler=o.drag;var Re=le.startIndex,Ze=le.endIndex,Ge=Fe&&(Re===0||Ze===j-1);le.dragAble=!Ge,le.start.x===le.end.x?(le.dragAble&&(se+="-ew-resize"),le.direction=Dt.VERTICAL):le.start.y===le.end.y&&(le.dragAble&&(se+="-ns-resize"),le.direction=Dt.HORIZONTAL),we=Object(ne.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(yt){return o.beforeDragStart(yt,le)}},Object(ne.g)("g",{className:se},o.getAppendShape(le)))}T.push(we)},H=0;H<j-1;H++)_(H);return Object(ne.g)("g",null,T)}}]),t}(Pi);function Ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ds=function(t){return typeof t}:Ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function ZD(e,r){return ej(e)||qD(e,r)||QD(e,r)||JD()}function JD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QD(e,r){if(!!e){if(typeof e=="string")return Vg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vg(e,r)}}function Vg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ej(e){if(Array.isArray(e))return e}function js(){return js=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},js.apply(this,arguments)}function tj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rj(e,r,t){return r&&Zg(e.prototype,r),t&&Zg(e,t),e}function nj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return Yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yc(e,r)}function oj(e){var r=uj();return function(){var n=Cs(e),o;if(r){var a=Cs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ij(this,o)}}function ij(e,r){if(r&&(Ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aj(e)}function aj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Cs(e){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cs(e)}var Wc=function(e){nj(t,e);var r=oj(t);function t(){return tj(this,t),r.apply(this,arguments)}return rj(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),l=o.path,p=o.isAnimation,m=o.arrowConfig,S=o.getEdgeAnimationStyle(),T=S.strokeDasharray,j=S.stroke,_=S.strokeDashoffset,H=S.animationName,Z=S.animationDuration,ae=S.animationIterationCount,se=S.animationTimingFunction,le=S.animationDirection;return Object(ne.g)(Uo,js({d:l},a,m,p?{strokeDasharray:T,stroke:j,style:{strokeDashoffset:_,animationName:H,animationDuration:Z,animationIterationCount:ae,animationTimingFunction:se,animationDirection:le}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,m=a.strokeDasharray,S=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(Uo,js({d:o.path},S,{className:p,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ne.g)(Uo,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,l=a.hover,p=o,m=p.path,S=p.isSelected,T=TA(m),j=ZD(T,2),_=j[0],H=j[1],Z={start:_,end:H,hover:l,isSelected:S};return Z}}]),t}(Pi);function Rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rs=function(t){return typeof t}:Rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function Jg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function sj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Jg(Object(t),!0).forEach(function(n){lj(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function lj(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function fj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cj(e,r,t){return r&&Qg(e.prototype,r),t&&Qg(e,t),e}function dj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kc(e,r)}function Kc(e,r){return Kc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kc(e,r)}function pj(e){var r=yj();return function(){var n=Is(e),o;if(r){var a=Is(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return hj(this,o)}}function hj(e,r){if(r&&(Rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vj(e)}function vj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Is(e)}var gj=function(e){dj(t,e);var r=pj(t);function t(){return fj(this,t),r.apply(this,arguments)}return cj(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,l=o.style,p=a.start,m=a.end,S={start:p,end:m,offset:l.offset,verticalLength:l.verticalLength,type:"end"},T=hi(S),j=T.leftX,_=T.leftY,H=T.rightX,Z=T.rightY;return sj({d:"M".concat(j," ").concat(_," L").concat(m.x," ").concat(m.y," L").concat(H," ").concat(Z," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,l=o.strokeWidth,p=o.stroke,m=o.fill;return Object(ne.g)(Uo,{d:a,fill:m,strokeWidth:l,stroke:p})}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(ne.a);function mj(e,r){return Zl(e,r)}var qg=mj;function bj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var Oj=bj,Ej=function(){return Pr.a.Date.now()},Vc=Ej,xj=/\s/;function Sj(e){for(var r=e.length;r--&&xj.test(e.charAt(r)););return r}var Pj=Sj,Aj=/^\s+/;function Tj(e){return e&&e.slice(0,Pj(e)+1).replace(Aj,"")}var Mj=Tj,em=0/0,wj=/^[-+]0x[0-9a-f]+$/i,Nj=/^0b[01]+$/i,Dj=/^0o[0-7]+$/i,jj=parseInt;function Cj(e){if(typeof e=="number")return e;if(xa(e))return em;if(At(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=At(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Mj(e);var t=Nj.test(e);return t||Dj.test(e)?jj(e.slice(2),t?2:8):wj.test(e)?em:+e}var tm=Cj,Rj="Expected a function",Ij=Math.max,Bj=Math.min;function _j(e,r,t){var n,o,a,l,p,m,S=0,T=!1,j=!1,_=!0;if(typeof e!="function")throw new TypeError(Rj);r=tm(r)||0,At(t)&&(T=!!t.leading,j="maxWait"in t,a=j?Ij(tm(t.maxWait)||0,r):a,_="trailing"in t?!!t.trailing:_);function H(Re){var Ze=n,Ge=o;return n=o=void 0,S=Re,l=e.apply(Ge,Ze),l}function Z(Re){return S=Re,p=setTimeout(le,r),T?H(Re):l}function ae(Re){var Ze=Re-m,Ge=Re-S,ht=r-Ze;return j?Bj(ht,a-Ge):ht}function se(Re){var Ze=Re-m,Ge=Re-S;return m===void 0||Ze>=r||Ze<0||j&&Ge>=a}function le(){var Re=Vc();if(se(Re))return we(Re);p=setTimeout(le,ae(Re))}function we(Re){return p=void 0,_&&n?H(Re):(n=o=void 0,l)}function ge(){p!==void 0&&clearTimeout(p),S=0,n=m=o=p=void 0}function be(){return p===void 0?l:we(Vc())}function Fe(){var Re=Vc(),Ze=se(Re);if(n=arguments,o=this,m=Re,Ze){if(p===void 0)return Z(m);if(j)return clearTimeout(p),p=setTimeout(le,r),H(m)}return p===void 0&&(p=setTimeout(le,r)),l}return Fe.cancel=ge,Fe.flush=be,Fe}var Lj=_j,zj=i(166);function Fj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gj(e,r,t){return r&&rm(e.prototype,r),t&&rm(e,t),e}function Ln(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Hj=function(){function e(r){Fj(this,e),Ln(this,"undos",[]),Ln(this,"redos",[]),Ln(this,"callbacks",[]),Ln(this,"stopWatch",null),Ln(this,"curData",null),Ln(this,"maxSize",50),Ln(this,"waitTime",100),Ln(this,"eventCenter",void 0),this.eventCenter=r}return Gj(e,[{key:"add",value:function(t){qg(Oj(this.undos),t)||(this.undos.push(t),qg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(it.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=jt(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=jt(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(zj.a)(t,Lj(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),Uj=Hj;function Bs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bs=function(t){return typeof t}:Bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}var nm,om,im;function kj(e,r){return Wj(e)||Yj(e,r)||$j(e,r)||Xj()}function Xj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $j(e,r){if(!!e){if(typeof e=="string")return am(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return am(e,r)}}function am(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Yj(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Wj(e){if(Array.isArray(e))return e}function um(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ko(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?um(Object(t),!0).forEach(function(n){uo(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):um(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Kj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vj(e,r,t){return r&&sm(e.prototype,r),t&&sm(e,t),e}function Zj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zc(e,r)}function Zc(e,r){return Zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zc(e,r)}function Jj(e){var r=qj();return function(){var n=_s(e),o;if(r){var a=_s(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Qj(this,o)}}function Qj(e,r){if(r&&(Bs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xo(e)}function Xo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _s(e){return _s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_s(e)}function uo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Jc=Ur(nm=(im=om=function(e){Zj(t,e);var r=Jj(t);function t(){var n;return Kj(this,t),n=r.call(this),uo(Xo(n),"ref",Object(ne.f)()),uo(Xo(n),"__prevText",{type:"",text:"",id:""}),uo(Xo(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),uo(Xo(n),"inputHandler",function(o){var a=o.target,l=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:l.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),uo(Xo(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return Vj(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel,a=o.eventCenter;a.on("".concat(it.GRAPH_TRANSFORM,",").concat(it.NODE_CLICK,",").concat(it.BLANK_CLICK," "),function(){var l=o.textEditElement,p=o.editConfigModel,m=p.edgeTextEdit,S=p.nodeTextEdit;(m||S)&&l&&o.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,l=a.text,p=a.id;o.updateText(p,l),o.eventCenter.emit(it.TEXT_UPDATE,ko({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,l=this.state.style;return a?Object(ne.g)("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,l=a.transformModel,p=a.theme,m=a.textEditElement,S;if(m){var T;if(!((T=m.text)!==null&&T!==void 0&&T.value))if(m.BaseType===Gt.EDGE){m=m;var j=m.text,_=m.textPosition,H=_.x,Z=_.y;j.x=H,j.y=Z,m.setText(j)}else m=m;var ae={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(m.BaseType===Gt.EDGE){var se=p.edgeText,le=se.overflowMode,we=se.lineHeight,ge=se.wrapPadding,be=se.textWidth;be&&le==="autoWrap"&&(S=ko(ko({},ae),{},{width:be,minWidth:be,lineHeight:we,padding:ge}))}else if(m.BaseType===Gt.NODE){var Fe=p.nodeText,Re=Fe.overflowMode,Ze=Fe.lineHeight,Ge=Fe.wrapPadding,ht=Fe.textWidth,yt=m,sr=yt.width,xr=yt.modelType;(xr!==pt.TEXT_NODE&&Re==="autoWrap"||xr===pt.TEXT_NODE&&ht)&&(S=ko(ko({},ae),{},{width:ht||sr,minWidth:ht||sr,lineHeight:Ze,padding:Ge}))}var on=m.text,zn=on.x,so=on.y,$o=l.CanvasPointToHtmlPoint([zn,so]),Fn=kj($o,2),Yo=Fn[0],nd=Fn[1];return{style:ko({left:Yo,top:nd},S)}}}}]),t}(ne.a),uo(om,"toolName","textEdit"),im))||nm,eC=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},tC=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,l=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-l/2,y:a-p/2,x1:o+l/2,y1:a+p/2}},rC=function(r){var t=r.points,n=wo(t),o=vi(n,8),a=o.x,l=o.y,p=o.width,m=o.height;return{x:a-p/2,y:l-m/2,x1:a+p/2,y1:l+m/2}},nC=function(r){var t=r.path,n=Xa(t),o=vi(n,8),a=o.x,l=o.y,p=o.width,m=o.height;return{x:a-p/2,y:l-m/2,x1:a+p/2,y1:l+m/2}},oC=function(r){if(r.modelType===pt.LINE_EDGE)return tC(r);if(r.modelType===pt.POLYLINE_EDGE)return rC(r);if(r.modelType===pt.BEZIER_EDGE)return nC(r)};function Ls(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ls=function(t){return typeof t}:Ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}var lm,fm,cm;function dm(e,r){return uC(e)||aC(e,r)||pm(e,r)||iC()}function iC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aC(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function uC(e){if(Array.isArray(e))return e}function sC(e){return cC(e)||fC(e)||pm(e)||lC()}function lC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pm(e,r){if(!!e){if(typeof e=="string")return Qc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qc(e,r)}}function fC(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cC(e){if(Array.isArray(e))return Qc(e)}function Qc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function dC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pC(e,r,t){return r&&hm(e.prototype,r),t&&hm(e,t),e}function hC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&qc(e,r)}function qc(e,r){return qc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},qc(e,r)}function vC(e){var r=gC();return function(){var n=zs(e),o;if(r){var a=zs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return yC(this,o)}}function yC(e,r){if(r&&(Ls(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ai(e)}function Ai(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zs(e){return zs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zs(e)}function Ti(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ed=Ur(lm=(cm=fm=function(e){hC(t,e);var r=vC(t);function t(n){var o;dC(this,t),o=r.call(this),Ti(Ai(o),"stepDrag",void 0),Ti(Ai(o),"handleMouseDown",function(m){o.stepDrag.handleMouseDown(m)}),Ti(Ai(o),"onDraging",function(m){var S=m.deltaX,T=m.deltaY,j=o.props.graphModel,_=j.getSelectElements(!0);j.moveNodes(_.nodes.map(function(H){return H.id}),S,T)}),Ti(Ai(o),"handleContextMenu",function(m){m.preventDefault();var S=o.props,T=S.graphModel,j=S.graphModel,_=j.eventCenter,H=j.selectElements,Z=T.getPointByClient({x:m.clientX,y:m.clientY}),ae={nodes:[],edges:[]},se=sC(H.values());se.forEach(function(le){le.BaseType===Gt.NODE&&ae.nodes.push(le.getData()),le.BaseType===Gt.EDGE&&ae.edges.push(le.getData())}),_.emit(it.SELECTION_CONTEXTMENU,{data:ae,e:m,position:Z})});var a=n.graphModel,l=a.gridSize,p=a.eventCenter;return o.stepDrag=new no({onDraging:o.onDraging,step:l,eventType:"SELECTION",eventCenter:p}),o}return pC(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,l=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;a.forEach(function(se){var le={x:0,y:0,x1:0,y1:0};se.BaseType===Gt.NODE&&(le=eC(se)),se.BaseType===Gt.EDGE&&(le=oC(se)),p=Math.min(p,le.x),m=Math.min(m,le.y),S=Math.max(S,le.x1),T=Math.max(T,le.y1)});var j=l.CanvasPointToHtmlPoint([p,m]),_=dm(j,2);p=_[0],m=_[1];var H=l.CanvasPointToHtmlPoint([S,T]),Z=dm(H,2);S=Z[0],T=Z[1];var ae={left:"".concat(p-10,"px"),top:"".concat(m-10,"px"),width:"".concat(S-p+20,"px"),height:"".concat(T-m+20,"px")};return Object(ne.g)("div",{className:"lf-multiple-select",style:ae,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(ne.a),Ti(fm,"toolName","multipleSelect"),cm))||lm;function mC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bC(e,r,t){return r&&vm(e.prototype,r),t&&vm(e,t),e}function Fs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var OC=function(){function e(r){mC(this,e),Fs(this,"tools",void 0),Fs(this,"components",void 0),Fs(this,"toolMap",new Map),Fs(this,"instance",void 0),this.instance=r,this.isDisabledTool(Jc.toolName)||this.registerTool(Jc.toolName,Jc),this.isDisabledTool(ed.toolName)||this.registerTool(ed.toolName,ed)}return bC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),EC=i(167),xC=i.n(EC);function SC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ym(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PC(e,r,t){return r&&ym(e.prototype,r),t&&ym(e,t),e}function td(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gm=function(){function e(r){SC(this,e),td(this,"mousetrap",void 0),td(this,"options",void 0),td(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new xC.a(this.target),r.keyboard.enabled&&this.enable(!0)}return PC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var m=p.keys,S=p.callback,T=p.action;return t.on(m,S,T)});else{var o=n.keys,a=n.callback,l=n.action;this.on(o,a,l)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),AC=gm,nn=null;function mm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function bm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Gs=40;function TC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!!n.enabled&&!r.textEditElement){var o=e.options.guards,a=r.getSelectElements(!1),l=o&&o.beforeClone?o.beforeClone(a):!0;return l?(nn=a,nn.nodes.forEach(function(p){return mm(p,Gs)}),nn.edges.forEach(function(p){return bm(p,Gs)}),!1):(nn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(!!n.enabled&&!r.textEditElement){if(nn&&(nn.nodes||nn.edges)){e.clearSelectElements();var o=e.addElements(nn);if(!o)return;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),nn.nodes.forEach(function(a){return mm(a,Gs)}),nn.edges.forEach(function(a){return bm(a,Gs)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(!!n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(!!n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(!!n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function MC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function Hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hs=function(t){return typeof t}:Hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Om(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Mi(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Om(Object(t),!0).forEach(function(n){Lt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Om(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function wC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Em(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NC(e,r,t){return r&&Em(e.prototype,r),t&&Em(e,t),e}function Lt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var rd=function(){function e(r){var t=this;wC(this,e),Lt(this,"container",void 0),Lt(this,"width",void 0),Lt(this,"height",void 0),Lt(this,"graphModel",void 0),Lt(this,"history",void 0),Lt(this,"viewMap",new Map),Lt(this,"tool",void 0),Lt(this,"keyboard",void 0),Lt(this,"dnd",void 0),Lt(this,"options",void 0),Lt(this,"snaplineModel",void 0),Lt(this,"components",[]),Lt(this,"plugins",void 0),Lt(this,"extension",{}),Lt(this,"adapterIn",void 0),Lt(this,"adapterOut",void 0),Lt(this,"getView",function(n){return t.viewMap.get(n)}),r=Uv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new HA(Mi({},r)),this.tool=new OC(this),this.history=new Uj(this.graphModel.eventCenter),this.dnd=new TM({lf:this}),this.keyboard=new AC({lf:this,keyboard:r.keyboard}),r.snapline!==!1&&(this.snaplineModel=new sg(this.graphModel),MC(this.graphModel.eventCenter,this.snaplineModel)),TC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return NC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Pi,BaseEdgeModel:gf,BaseNode:vn,BaseNodeModel:pn,RectNode:gc,RectNodeModel:ic,CircleNode:Oc,CircleNodeModel:Kf,PolygonNode:Sc,PolygonNodeModel:rc,TextNode:jc,TextNodeModel:uc,LineEdge:kc,LineEdgeModel:Of,DiamondNode:Tc,DiamondNodeModel:Jf,PolylineEdge:$c,PolylineEdgeModel:Sf,BezierEdge:Wc,BezierEdgeModel:$f,EllipseNode:Nc,EllipseNodeModel:qf,HtmlNode:Ic,HtmlNodeModel:lc,h:ne.g,type:t};this.viewMap.forEach(function(T){var j=T.extendKey;j&&(a[j]=T)}),this.graphModel.modelMap.forEach(function(T){var j=T.extendKey;j&&(a[j]=T)});var l=n(a),p=l.view,m=l.model,S=p;o&&!S.isObervered&&(S.isObervered=!0,S=bt(S)),this.setView(t,S),this.graphModel.setModel(t,m)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=bt(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:gc,model:ic,type:"rect"}),this.registerElement({type:"circle",view:Oc,model:Kf}),this.registerElement({type:"polygon",view:Sc,model:rc}),this.registerElement({type:"line",view:kc,model:Of}),this.registerElement({type:"polyline",view:$c,model:Sf}),this.registerElement({type:"bezier",view:Wc,model:$f}),this.registerElement({type:"text",view:jc,model:uc}),this.registerElement({type:"ellipse",view:Nc,model:qf}),this.registerElement({type:"diamond",view:Tc,model:Jf}),this.registerElement({type:"html",view:Ic,model:lc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.graphModel.selectElementById(t,n),!n&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var l=this.getNodeModelById(a);l&&(o=l.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var m=o,S=m.x,T=m.y;n.focusOn(S,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,l=this.getModelById(t);if(!l)return!1;var p=(n={},Lt(n,Gt.NODE,this.deleteNode),Lt(n,Gt.EDGE,this.deleteEdge),n),m=l.BaseType;return(o=(a=p[m])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,l=a&&a.beforeDelete?a.beforeDelete(o):!0;return l&&this.graphModel.deleteNode(t),l}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,l=a&&a.beforeClone?a.beforeClone(o):!0;if(l)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),l=n&&n.beforeDelete?n.beforeDelete(a):!0;return l&&this.graphModel.deleteEdgeById(t),l}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var l=[];return n.forEach(function(S){S.sourceNodeId===o&&S.targetNodeId===a&&l.push(S)}),l}if(o){var p=[];return n.forEach(function(S){S.sourceNodeId===o&&p.push(S)}),p}if(a){var m=[];return n.forEach(function(S){S.targetNodeId===a&&m.push(S)}),m}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(er(n))}},{key:"deleteProperty",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,l={},p={nodes:[],edges:[]},m=0;m<o.length;m++){var S=o[m],T=S.id,j=this.addNode(S);if(!j)return;T&&(l[T]=j.id),p.nodes.push(j)}return a.forEach(function(_){var H=_.sourceNodeId,Z=_.targetNodeId;l[H]&&(H=l[H]),l[Z]&&(Z=l[Z]);var ae=n.graphModel.addEdge(Mi(Mi({},_),{},{sourceNodeId:H,targetNodeId:Z}));p.edges.push(ae)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,l).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=er(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=er(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,l=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:l}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(l){var p=l.pluginName||l.name;o.indexOf(p)===-1&&n.installPlugin(l)})}},{key:"installPlugin",value:function(t){if(Hs(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,l=new a({lf:this,LogicFlow:e});l.render&&this.components.push(l.render.bind(l)),this.extension[a.pluginName]=l}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!!n){var o=new n(Mi(Mi({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(er(t)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ne.j)(Object(ne.g)(SM,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(it.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();Lt(rd,"extensions",new Map);function Ur(e){return bt(e)}c.default=rd}])})})(We,We.exports);var Ko=ZC(We.exports);function pR(g,v){return v={exports:{}},g(v,v.exports),v.exports}var hR=pR(function(g){var v=g.exports=function(u,c){if(c||(c=16),u===void 0&&(u=128),u<=0)return"0";for(var i=Math.log(Math.pow(2,u))/Math.log(c),s=2;i===1/0;s*=2)i=Math.log(Math.pow(2,u/s))/Math.log(c)*s;for(var f=i-Math.floor(i),y="",s=0;s<Math.floor(i);s++){var b=Math.floor(Math.random()*c).toString(c);y=b+y}if(f){var x=Math.pow(c,f),b=Math.floor(Math.random()*x).toString(c);y=b+y}var E=parseInt(y,c);return E!==1/0&&E>=Math.pow(2,u)?v(u,c):y};v.rack=function(u,c,i){var s=function(y){var b=0;do{if(b++>10)if(i)u+=i;else throw new Error("too many ID collisions, use more bits");var x=v(u,c)}while(Object.hasOwnProperty.call(f,x));return f[x]=y,x},f=s.hats={};return s.get=function(y){return s.hats[y]},s.set=function(y,b){return s.hats[y]=b,s},s.bits=u||128,s.base=c||16,s}});function an(g){if(!(this instanceof an))return new an(g);g=g||[128,36,1],this._seed=g.length?hR.rack(g[0],g[1],g[2]):g}an.prototype.next=function(g){return this._seed(g||!0)};an.prototype.nextPrefixed=function(g,v){var u;do u=g+this.next(!0);while(this.assigned(u));return this.claim(u,v),u};an.prototype.claim=function(g,v){this._seed.set(g,v||!0)};an.prototype.assigned=function(g){return this._seed.get(g)||!1};an.prototype.unclaim=function(g){delete this._seed.hats[g]};an.prototype.clear=function(){var g=this._seed.hats,v;for(v in g)this.unclaim(v)};var vR=new an([32,32,1]);function qo(){return vR.next()}var ob=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),yR=function(g){ob(v,g);function v(u,c){var i=this;return u.id||(u.id="Event_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedTargetRules=function(){var u=g.prototype.getConnectedTargetRules.call(this),c={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="StartEventModel",v}(We.exports.CircleNodeModel),gR=function(g){ob(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.extendKey="StartEventNode",v}(We.exports.CircleNode),mR={type:"bpmn:startEvent",view:gR,model:yR},ib=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Vs=globalThis&&globalThis.__assign||function(){return Vs=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Vs.apply(this,arguments)},bR=function(g){ib(v,g);function v(u,c){var i=this;return u.id||(u.id="Event_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedSourceRules=function(){var u=g.prototype.getConnectedSourceRules.call(this),c={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="EndEventModel",v}(We.exports.CircleNodeModel),OR=function(g){ib(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,s=u.y,f=u.r,y=g.prototype.getShape.call(this);return We.exports.h("g",{},y,We.exports.h("circle",Vs(Vs({},c),{cx:i,cy:s,r:f-5})))},v.extendKey="EndEventView",v}(We.exports.CircleNode),ER={type:"bpmn:endEvent",view:OR,model:bR},ab=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ci=globalThis&&globalThis.__assign||function(){return Ci=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Ci.apply(this,arguments)},xR=function(g){ab(v,g);function v(u,c){var i=this;return u.id||(u.id="Gateway_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return v.extendKey="ExclusiveGatewayModel",v}(We.exports.PolygonNodeModel),SR=function(g){ab(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.points,b=u.getNodeStyle();return We.exports.h("g",{transform:"matrix(1 0 0 1 "+(c-s/2)+" "+(i-f/2)+")"},We.exports.h("polygon",Ci(Ci({},b),{x:c,y:i,points:y})),We.exports.h("path",Ci({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},v.extendKey="ExclusiveGatewayNode",v}(We.exports.PolygonNode),PR={type:"bpmn:exclusiveGateway",view:SR,model:xR},ub=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zs=globalThis&&globalThis.__assign||function(){return Zs=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Zs.apply(this,arguments)},AR=function(g){ub(v,g);function v(u,c){var i=this;return u.id||(u.id="Activity_"+qo()),i=g.call(this,u,c)||this,i}return v.extendKey="UserTaskModel",v}(We.exports.RectNodeModel),TR=function(g){ub(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.getNodeStyle();return We.exports.h("svg",{x:c-s/2+5,y:i-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},We.exports.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return We.exports.h("g",{},[We.exports.h("rect",Zs(Zs({},b),{x:c-s/2,y:i-f/2,rx:y,ry:y,width:s,height:f})),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(We.exports.RectNode),MR={type:"bpmn:userTask",view:TR,model:AR},sb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ud=globalThis&&globalThis.__assign||function(){return ud=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},ud.apply(this,arguments)},wR=function(g){sb(v,g);function v(u,c){var i=this;return u.id||(u.id="Activity_"+qo()),i=g.call(this,u,c)||this,i}return v.extendKey="ServiceTaskModel",v}(We.exports.RectNodeModel),NR=function(g){sb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.getNodeStyle();return We.exports.h("svg",{x:c-s/2+5,y:i-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},We.exports.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return We.exports.h("g",{},[We.exports.h("rect",ud({x:c-s/2,y:i-f/2,rx:y,ry:y,width:s,height:f},b)),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(We.exports.RectNode),DR={type:"bpmn:serviceTask",view:NR,model:wR},lb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),jR=function(g){lb(v,g);function v(u,c){var i=this;return u.id||(u.id="Flow_"+qo()),i=g.call(this,u,c)||this,i}return v.extendKey="SequenceFlowModel",v}(We.exports.PolylineEdgeModel),CR=function(g){lb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(We.exports.PolylineEdge),RR={type:"bpmn:sequenceFlow",view:CR,model:jR},jm={width:40,height:40},Cm={width:40,height:40},Rm={width:40,height:40},Im={width:100,height:80},Bm={width:100,height:80},IR={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},BR=function(){function g(v){var u=v.lf;u.setTheme(IR),u.register(mR),u.register(ER),u.register(PR),u.register(MR),u.register(DR),u.options.customBpmnEdge||(u.register(RR),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return g.pluginName="bpmnElement",g}(),_R=function(){function g(v){var u=this,c=v.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,s){u.getSnapshot(i,s)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return g.prototype.getSvgRootElement=function(v){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.graphModel.nodes.forEach(function(i){var s=i.x,f=i.width,y=i.y,b=i.height,x=s-f/2,E=y-b/2;x<u.offsetX&&(u.offsetX=x-5),E<u.offsetY&&(u.offsetY=E-5)}),v.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(s){var f=s.x,y=s.y;f<u.offsetX&&(u.offsetX=f-5),y<u.offsetY&&(u.offsetY=y-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},g.prototype.triggerDownload=function(v){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(u)},g.prototype.removeAnchor=function(v){for(var u=v.childNodes,c=v.childNodes&&v.childNodes.length,i=0;i<c;i++){var s=u[i],f=s.classList&&Array.from(s.classList)||[];f.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[i]),c--,i--)}},g.prototype.getSnapshot=function(v,u){var c=this;this.fileName=v||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(s){var f=s.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(f)})},g.prototype.getSnapshotBase64=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){var f=s.toDataURL("image/png");i({data:f,width:s.width,height:s.height})})})},g.prototype.getSnapshotBlob=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){s.toBlob(function(f){i({data:f,width:s.width,height:s.height})},"image/png")})})},g.prototype.getClassRules=function(){var v="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],s=0;s<i.cssRules.length;s++)v+=i.cssRules[s].cssText;return this.customCssRules&&(v+=this.customCssRules),v},g.prototype.getCanvasData=function(v,u){var c=this,i=v.cloneNode(!0),s=i.lastChild,f=s.childNodes&&s.childNodes.length;if(f)for(var y=0;y<f;y++){var b=s.childNodes[y],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)s.removeChild(s.childNodes[y]),f--,y--;else{var E=s.childNodes[y];E&&E.childNodes.forEach(function(L){var U=L;c.removeAnchor(U.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var P=window.devicePixelRatio||1,M=document.createElement("canvas"),A=this.lf.graphModel.rootEl.querySelector(".lf-base"),D=A.getBoundingClientRect(),C=this.lf.graphModel,B=C.transformModel,z=B.SCALE_X,X=B.SCALE_Y,$=Math.ceil(D.width/z),ie=Math.ceil(D.height/X);M.style.width=$+"px",M.style.height=ie+"px",M.width=$*P+80,M.height=ie*P+80;var oe=M.getContext("2d");oe.clearRect(0,0,M.width,M.height),oe.scale(P,P),u?(oe.fillStyle=u,oe.fillRect(0,0,$*P+80,ie*P+80)):oe.clearRect(0,0,$,ie);var ee=new Image,J=document.createElement("style");J.innerHTML=this.getClassRules();var ue=document.createElement("foreignObject");return ue.appendChild(J),i.appendChild(ue),new Promise(function(L){ee.onload=function(){oe.drawImage(ee,0,0),L(M)};var U="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),I=U.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");ee.src=I})},g.pluginName="snapshot",g}(),LR=new an([32,32,1]);function _m(){return LR.next()}var pr=function(){};pr.ObjTree=function(){return this};pr.ObjTree.VERSION="0.23";pr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;pr.ObjTree.prototype.attr_prefix="-";pr.ObjTree.prototype.parseXML=function(g){var v;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(g,"application/xml");if(!c)return;v=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(g),v=u.documentElement);if(!!v)return this.parseDOM(v)};pr.ObjTree.prototype.parseHTTP=function(g,v,u){var c={};for(var i in v)c[i]=v[i];if(c.method||(typeof c.postBody=="undefined"&&typeof c.postbody=="undefined"&&typeof c.parameters=="undefined"?c.method="get":c.method="post"),u){c.asynchronous=!0;var s=this,f=u,y=c.onComplete;c.onComplete=function(E){var P;E&&E.responseXML&&E.responseXML.documentElement&&(P=s.parseDOM(E.responseXML.documentElement)),f(P,E),y&&y(E)}}else c.asynchronous=!1;var b;if(typeof HTTP!="undefined"&&HTTP.Request){c.uri=g;var x=new HTTP.Request(c);x&&(b=x.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var x=new Ajax.Request(g,c);x&&(b=x.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};pr.ObjTree.prototype.parseDOM=function(g){if(!!g){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var u=this.parseElement(g);if(this.__force_array[g.nodeName]&&(u=[u]),g.nodeType!=11){var c={};c[g.nodeName]=u,u=c}return u}};pr.ObjTree.prototype.parseElement=function(g){if(g.nodeType!=7){if(g.nodeType==3||g.nodeType==4){var v=g.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:g.nodeValue}var u,c={};if(g.attributes&&g.attributes.length){u={};for(var i=0;i<g.attributes.length;i++){var s=g.attributes[i].nodeName;if(typeof s=="string"){var f=g.attributes[i].nodeValue;!f||(s=this.attr_prefix+s,typeof c[s]=="undefined"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],f))}}}if(g.childNodes&&g.childNodes.length){var y=!0;u&&(y=!1);for(var i=0;i<g.childNodes.length&&y;i++){var b=g.childNodes[i].nodeType;b==3||b==4||(y=!1)}if(y){u||(u="");for(var i=0;i<g.childNodes.length;i++)u+=g.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<g.childNodes.length;i++){var s=g.childNodes[i].nodeName;if(typeof s=="string"){var f=this.parseElement(g.childNodes[i]);!f||(typeof c[s]=="undefined"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],f))}}}}return u}};pr.ObjTree.prototype.addNode=function(g,v,u,c){this.__force_array[v]?(u==1&&(g[v]=[]),g[v][g[v].length]=c):u==1?g[v]=c:u==2?g[v]=[g[v],c]:g[v][g[v].length]=c};pr.ObjTree.prototype.writeXML=function(g){var v=this.hash_to_xml(null,g);return this.xmlDecl+v};pr.ObjTree.prototype.hash_to_xml=function(g,v){var u=[],c=[];for(var i in v)if(!!v.hasOwnProperty(i)){var s=v[i];i.charAt(0)!=this.attr_prefix?typeof s=="undefined"||s==null?u[u.length]="<"+i+" />":typeof s=="object"&&s.constructor==Array?u[u.length]=this.array_to_xml(i,s):typeof s=="object"?u[u.length]=this.hash_to_xml(i,s):u[u.length]=this.scalar_to_xml(i,s):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(s)+'"'}var f=c.join(""),y=u.join("");return typeof g=="undefined"||g==null||(u.length>0?y.match(/\n/)?y="<"+g+f+`>
`+y+"</"+g+`>
`:y="<"+g+f+">"+y+"</"+g+`>
`:y="<"+g+f+` />
`),y};pr.ObjTree.prototype.array_to_xml=function(g,v){for(var u=[],c=0;c<v.length;c++){var i=v[c];typeof i=="undefined"||i==null?u[u.length]="<"+g+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(g,i):typeof i=="object"?u[u.length]=this.hash_to_xml(g,i):u[u.length]=this.scalar_to_xml(g,i)}return u.join("")};pr.ObjTree.prototype.scalar_to_xml=function(g,v){return g=="#text"?this.xml_escape(v):"<"+g+">"+this.xml_escape(v)+"</"+g+`>
`};pr.ObjTree.prototype.xml_escape=function(g){return g.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var tl=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},un;(function(g){g.START="bpmn:startEvent",g.END="bpmn:endEvent",g.GATEWAY="bpmn:exclusiveGateway",g.USER="bpmn:userTask",g.SYSTEM="bpmn:serviceTask",g.FLOW="bpmn:sequenceFlow"})(un||(un={}));var fb=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function sd(g){var v={};return Object.entries(g).forEach(function(u){var c=tl(u,2),i=c[0],s=c[1];typeof s!="object"?i.indexOf("-")===0?v[i]=s:v["-"+i]=s:v[i]=sd(s)}),v}function pd(g){var v={};return Object.entries(g).forEach(function(u){var c=tl(u,2),i=c[0],s=c[1];typeof s=="string"?i.indexOf("-")===0?v[i.substr(1)]=s:v[i]=s:typeof s=="object"?v[i]=pd(s):v[i]=s}),v}function zR(g,v){var u=new Map;v.nodes.forEach(function(i){var s,f={"-id":i.id};if(!((s=i.text)===null||s===void 0)&&s.value&&(f["-name"]=i.text.value),i.properties){var y=sd(i.properties);Object.assign(f,y)}u.set(i.id,f),g[i.type]?Array.isArray(g[i.type])?g[i.type].push(f):g[i.type]=[g[i.type],f]:g[i.type]=f});var c=v.edges.map(function(i){var s,f,y=u.get(i.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(i.id):y["bpmn:incoming"]=[y["bpmn:incoming"],i.id]:y["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var x={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((s=i.text)===null||s===void 0)&&s.value&&(x["-name"]=(f=i.text)===null||f===void 0?void 0:f.value),i.properties){var E=sd(i.properties);Object.assign(x,E)}return x});g[un.FLOW]=c}function FR(g,v){g["bpmndi:BPMNEdge"]=v.edges.map(function(u){var c,i=u.id,s=u.pointsList.map(function(y){var b=y.x,x=y.y;return{"-x":b,"-y":x}}),f={"-id":i+"_di","-bpmnElement":i,"di:waypoint":s};return!((c=u.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),f}),g["bpmndi:BPMNShape"]=v.nodes.map(function(u){var c,i=u.id,s=100,f=80,y=u.x,b=u.y,x=co.shapeConfigMap.get(u.type);x&&(s=x.width,f=x.height),y-=s/2,b-=f/2;var E={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":y,"-y":b,"-width":s,"-height":f}};return!((c=u.text)===null||c===void 0)&&c.value&&(E["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),E})}function GR(g){var v=[],u=[],c=g["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(s){if(s.indexOf("bpmn:")===0){var f=i[s];if(s===un.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=UR(f,y)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(HR(f,b,s))}}})}return{nodes:v,edges:u}}function HR(g,v,u){var c=[];if(Array.isArray(g))g.forEach(function(f){var y;Array.isArray(v)?y=v.find(function(x){return x["-bpmnElement"]===f["-id"]}):y=v;var b=Lm(y,u,f);c.push(b)});else{var i=void 0;Array.isArray(v)?i=v.find(function(f){return f["-bpmnElement"]===g["-id"]}):i=v;var s=Lm(i,u,g);c.push(s)}return c}function Lm(g,v,u){var c=Number(g["dc:Bounds"]["-x"]),i=Number(g["dc:Bounds"]["-y"]),s=u["-name"],f=co.shapeConfigMap.get(v);f&&(c+=f.width/2,i+=f.height/2);var y;Object.entries(u).forEach(function(P){var M=tl(P,2),A=M[0],D=M[1];fb.indexOf(A)===-1&&(y||(y={}),y[A]=D)}),y&&(y=pd(y));var b;if(s&&(b={x:c,y:i,value:s},g["bpmndi:BPMNLabel"]&&g["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=g["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(x["-x"])+Number(x["-width"])/2,b.y=Number(x["-y"])+Number(x["-height"])/2}var E={id:g["-bpmnElement"],type:v,x:c,y:i,properties:y};return b&&(E.text=b),E}function UR(g,v){var u=[];if(Array.isArray(g))g.forEach(function(i){var s;Array.isArray(v)?s=v.find(function(f){return f["-bpmnElement"]===i["-id"]}):s=v,u.push(zm(s,i))});else{var c=void 0;Array.isArray(v)?c=v.find(function(i){return i["-bpmnElement"]===g["-id"]}):c=v,u.push(zm(c,g))}return u}function zm(g,v){var u,c=v["-name"];if(c){var i=g["bpmndi:BPMNLabel"]["dc:Bounds"],s=0;c.split(`
`).forEach(function(b){s<b.length&&(s=b.length)}),u={value:c,x:Number(i["-x"])+s*10/2,y:Number(i["-y"])+7}}var f;Object.entries(v).forEach(function(b){var x=tl(b,2),E=x[0],P=x[1];fb.indexOf(E)===-1&&(f||(f={}),f[E]=P)}),f&&(f=pd(f));var y={id:v["-id"],type:un.FLOW,pointsList:g["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:f};return u&&(y.text=u),y}var co={pluginName:"bpmn-adapter",install:function(g){g.adapterIn=this.adapterIn,g.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(g,v){this.shapeConfigMap.set(g,v)},adapterOut:function(g){var v={"-id":"Process_"+_m(),"-isExecutable":"false"};zR(v,g);var u={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};FR(u,g);var c={"bpmn:definitions":{"-id":"Definitions_"+_m(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(g){if(g)return GR(g)}};co.shapeConfigMap.set(un.START,{width:jm.width,height:jm.height});co.shapeConfigMap.set(un.END,{width:Cm.width,height:Cm.height});co.shapeConfigMap.set(un.GATEWAY,{width:Rm.width,height:Rm.height});co.shapeConfigMap.set(un.SYSTEM,{width:Im.width,height:Im.height});co.shapeConfigMap.set(un.USER,{width:Bm.width,height:Bm.height});var Fm=globalThis&&globalThis.__assign||function(){return Fm=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Fm.apply(this,arguments)};globalThis&&globalThis.__read;var Gm;(function(g){g.HORIZONTAL="horizontal",g.VERTICAL="vertical"})(Gm||(Gm={}));var kR=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var XR=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var $R=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},YR=globalThis&&globalThis.__spread||function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat($R(arguments[v]));return g},wi="lf:defaultNodeMenu",Ni="lf:defaultEdgeMenu",Di="lf:defaultGraphMenu",Hm="lf:defaultSelectionMenu",WR=function(){function g(v){var u=this,c=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return g.prototype.init=function(){var v=this,u=[{text:"\u5220\u9664",callback:function(s){v.lf.deleteNode(s.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(s){v.lf.graphModel.editText(s.id)}},{text:"\u590D\u5236",callback:function(s){v.lf.cloneNode(s.id)}}];this.menuTypeMap.set(wi,u);var c=[{text:"\u5220\u9664",callback:function(s){v.lf.deleteEdge(s.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(s){v.lf.graphModel.editText(s.id)}}];this.menuTypeMap.set(Ni,c),this.menuTypeMap.set(Di,[]);var i=[{text:"\u5220\u9664",callback:function(s){v.lf.clearSelectElements(),s.edges.forEach(function(f){return v.lf.deleteEdge(f.id)}),s.nodes.forEach(function(f){return v.lf.deleteNode(f.id)})}}];this.menuTypeMap.set(Hm,i)},g.prototype.render=function(v,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var s=i.target;Array.from(s.classList).indexOf("lf-menu-item")===-1&&Array.from(s.classList).indexOf("lf-menu")===-1;)s=s.parentElement;Array.from(s.classList).indexOf("lf-menu-item")>-1&&(s.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null)},!0),this.lf.on("node:contextmenu",function(i){var s=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,x=y.y,E=s.id,P=c.lf.graphModel.getNodeModelById(E),M=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:A?M=A:M=c.menuTypeMap.get(wi),c.__currentData=s,c.showMenu(b,x,M)}),this.lf.on("edge:contextmenu",function(i){var s=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,x=y.y,E=s.id,P=c.lf.graphModel.getEdgeModelById(E),M=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:A?M=A:M=c.menuTypeMap.get(Ni),c.__currentData=s,c.showMenu(b,x,M)}),this.lf.on("blank:contextmenu",function(i){var s=i.position,f=c.menuTypeMap.get(Di),y=s.domOverlayPosition,b=y.x,x=y.y;c.showMenu(b,x,f)}),this.lf.on("selection:contextmenu",function(i){var s=i.data,f=i.position,y=c.menuTypeMap.get(Hm),b=f.domOverlayPosition,x=b.x,E=b.y;c.__currentData=s,c.showMenu(x,E,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},g.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},g.prototype.showMenu=function(v,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,YR(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=v+"px")}},g.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},g.prototype.__getMenuDom=function(v){var u=[];return v&&v.length>0&&v.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var s=document.createElement("span");s.className="lf-menu-item-icon",i.appendChild(s)}var f=document.createElement("span");f.className="lf-menu-item-text",c.text&&(f.innerText=c.text),i.appendChild(f),i.onclickCallback=c.callback,u.push(i)}),u},g.prototype.setMenuConfig=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(wi,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(Ni,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Di,v.graphMenu?v.graphMenu:[]))},g.prototype.addMenuConfig=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var u=this.menuTypeMap.get(wi);this.menuTypeMap.set(wi,u.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var u=this.menuTypeMap.get(Ni);this.menuTypeMap.set(Ni,u.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var u=this.menuTypeMap.get(Di);this.menuTypeMap.set(Di,u.concat(v.graphMenu))}}},g.prototype.changeMenuItem=function(v,u){if(v==="add")this.addMenuConfig(u);else if(v==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},g.pluginName="menu",g}();globalThis&&globalThis.__read;var KR=function(){function g(v){var u=this,c=v.lf;this.lf=c,this.lf.setPatternItems=function(i){u.setPatternItems(i)}}return g.prototype.render=function(v,u){var c=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){c.panelEl.appendChild(c.createDndItem(i))}),u.appendChild(this.panelEl),this.domContainer=u},g.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},g.prototype.setPatternItems=function(v){this.shapeList=v,this.domContainer&&this.render(this.lf,this.domContainer)},g.prototype.createDndItem=function(v){var u=this,c=document.createElement("div");c.className=v.className?"lf-dnd-item "+v.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",v.icon&&(i.style.backgroundImage="url("+v.icon+")"),c.appendChild(i),v.label){var s=document.createElement("div");s.innerText=v.label,s.className="lf-dnd-text",c.appendChild(s)}return c.onmousedown=function(){v.type&&u.lf.dnd.startDrag({type:v.type,properties:v.properties,text:v.text}),v.callback&&v.callback(u.lf,u.domContainer)},c},g.pluginName="dndPanel",g}(),VR=function(){function g(v){var u=this,c=v.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(s){var f=u.lf.getPointByClient(s.clientX,s.clientY).domOverlayPosition,y=f.x,b=f.y;u.endPoint={x:y,y:b};var x=u.startPoint,E=x.x,P=x.y,M=u.wrapper.style,A=E,D=P,C=y-E,B=b-P;y<E&&(A=y,C=E-y),b<P&&(D=b,B=P-b),M.left=A+"px",M.top=D+"px",M.width=C+"px",M.height=B+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var s=u.startPoint,f=s.x,y=s.y,b=u.endPoint,x=b.x,E=b.y;if(!(Math.abs(x-f)<10&&Math.abs(E-y)<10)){var P=[Math.min(f,x),Math.min(y,E)],M=[Math.max(f,x),Math.max(y,E)],A=u.lf.graphModel.getAreaElement(P,M,u.isWholeEdge,u.isWholeNode,!0),D=u.lf.graphModel.group;A.forEach(function(C){(!D||!D.getNodeGroup(C.id))&&u.lf.selectElementById(C.id,!0)}),u.lf.emit("selection:selected",A)}},this.lf=c;var i=c.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=i,c.openSelectionSelect=function(){u.openSelectionSelect()},c.closeSelectionSelect=function(){u.closeSelectionSelect()}}return g.prototype.render=function(v,u){var c=this;this.__domContainer=u,v.on("blank:mousedown",function(i){var s=i.e,f=v.getEditConfig();if(!(!f.stopMoveGraph||c.__disabled)){var y=v.getPointByClient(s.clientX,s.clientY).domOverlayPosition,b=y.x,x=y.y;c.startPoint={x:b,y:x},c.endPoint={x:b,y:x};var E=document.createElement("div");E.className="lf-selection-select",E.oncontextmenu=function(M){M.preventDefault()},E.style.top=c.startPoint.y+"px",E.style.left=c.startPoint.x+"px",u.appendChild(E),c.wrapper=E,document.addEventListener("mousemove",c.__draw),document.addEventListener("mouseup",c.__drawOff)}})},g.prototype.setSelectionSense=function(v,u){v===void 0&&(v=!0),u===void 0&&(u=!0),this.isWholeEdge=v,this.isWholeNode=u},g.prototype.openSelectionSelect=function(){var v=this.lf.getEditConfig().stopMoveGraph;v||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},g.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},g.prototype.open=function(){this.__disabled=!1},g.prototype.close=function(){this.__disabled=!0},g.pluginName="selectionSelect",g}();globalThis&&globalThis.__values;var cb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Vo=globalThis&&globalThis.__assign||function(){return Vo=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Vo.apply(this,arguments)},Gn=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};(function(g){cb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.pointFilter=function(u){for(var c=u,i=1;i<c.length-1;){var s=Gn(c[i-1],2),f=s[0],y=s[1],b=Gn(c[i],2),x=b[0],E=b[1],P=Gn(c[i+1],2),M=P[0],A=P[1];f===x&&x===M||y===E&&E===A?c.splice(i,1):i++}return c},v.prototype.getEdge=function(){for(var u=this.props.model,c=u.points,i=u.isAnimation,s=u.arrowConfig,f=u.radius,y=f===void 0?5:f,b=u.getEdgeStyle(),x=u.getEdgeAnimationStyle(),E=this.pointFilter(c.split(" ").map(function(Q){return Q.split(",").map(function(ce){return Number(ce)})})),P=Gn(E[0],2),M=P[0],A=P[1],D="M"+M+" "+A,C=1;C<E.length-1;C++){var B=Gn(E[C-1],2),z=B[0],X=B[1],$=Gn(E[C],2),ie=$[0],oe=$[1],ee=Gn(E[C+1],2),J=ee[0],ue=ee[1];if(ie===z&&oe!==X){var L=oe>X?oe-y:oe+y;D=D+" L "+ie+" "+L}if(oe===X&&ie!==z){var U=ie>z?ie-y:ie+y;D=D+" L "+U+" "+oe}if(D=D+" Q "+ie+" "+oe,ie===J&&oe!==ue){var L=oe>ue?oe-y:oe+y;D=D+" "+ie+" "+L}if(oe===ue&&ie!==J){var U=ie>J?ie-y:ie+y;D=D+" "+U+" "+oe}}var I=Gn(E[E.length-1],2),w=I[0],R=I[1];D=D+" L "+w+" "+R;var W=Vo(Vo(Vo({d:D,style:i?x:{}},b),s),{fill:"none"});return We.exports.h("path",Vo({d:D},W))},v})(We.exports.PolylineEdge);(function(g){cb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v})(We.exports.PolylineEdgeModel);var hd,Ft,db,Qo,lo,Um,pb,hb={},vb=[],ZR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Un(g,v){for(var u in v)g[u]=v[u];return g}function yb(g){var v=g.parentNode;v&&v.removeChild(g)}function Ri(g,v,u){var c,i,s,f={};for(s in v)s=="key"?c=v[s]:s=="ref"?i=v[s]:f[s]=v[s];if(arguments.length>2&&(f.children=arguments.length>3?hd.call(arguments,2):u),typeof g=="function"&&g.defaultProps!=null)for(s in g.defaultProps)f[s]===void 0&&(f[s]=g.defaultProps[s]);return Ys(g,f,c,i,null)}function Ys(g,v,u,c,i){var s={type:g,props:v,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++db:i};return i==null&&Ft.vnode!=null&&Ft.vnode(s),s}function vd(g){return g.children}function JR(g,v,u,c,i){var s;for(s in u)s==="children"||s==="key"||s in v||Js(g,s,null,u[s],c);for(s in v)i&&typeof v[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||u[s]===v[s]||Js(g,s,v[s],u[s],c)}function km(g,v,u){v[0]==="-"?g.setProperty(v,u==null?"":u):g[v]=u==null?"":typeof u!="number"||ZR.test(v)?u:u+"px"}function Js(g,v,u,c,i){var s;e:if(v==="style")if(typeof u=="string")g.style.cssText=u;else{if(typeof c=="string"&&(g.style.cssText=c=""),c)for(v in c)u&&v in u||km(g.style,v,"");if(u)for(v in u)c&&u[v]===c[v]||km(g.style,v,u[v])}else if(v[0]==="o"&&v[1]==="n")s=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in g?v.toLowerCase().slice(2):v.slice(2),g.l||(g.l={}),g.l[v+s]=u,u?c||g.addEventListener(v,s?$m:Xm,s):g.removeEventListener(v,s?$m:Xm,s);else if(v!=="dangerouslySetInnerHTML"){if(i)v=v.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(v!=="width"&&v!=="height"&&v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in g)try{g[v]=u==null?"":u;break e}catch(f){}typeof u=="function"||(u==null||u===!1&&v.indexOf("-")==-1?g.removeAttribute(v):g.setAttribute(v,u))}}function Xm(g){Qo=!0;try{return this.l[g.type+!1](Ft.event?Ft.event(g):g)}finally{Qo=!1}}function $m(g){Qo=!0;try{return this.l[g.type+!0](Ft.event?Ft.event(g):g)}finally{Qo=!1}}function Jo(g,v){this.props=g,this.context=v}function _i(g,v){if(v==null)return g.__?_i(g.__,g.__.__k.indexOf(g)+1):null;for(var u;v<g.__k.length;v++)if((u=g.__k[v])!=null&&u.__e!=null)return u.__e;return typeof g.type=="function"?_i(g):null}function gb(g){var v,u;if((g=g.__)!=null&&g.__c!=null){for(g.__e=g.__c.base=null,v=0;v<g.__k.length;v++)if((u=g.__k[v])!=null&&u.__e!=null){g.__e=g.__c.base=u.__e;break}return gb(g)}}function QR(g){Qo?setTimeout(g):pb(g)}function Ym(g){(!g.__d&&(g.__d=!0)&&lo.push(g)&&!Qs.__r++||Um!==Ft.debounceRendering)&&((Um=Ft.debounceRendering)||QR)(Qs)}function Qs(){var g,v,u,c,i,s,f,y;for(lo.sort(function(b,x){return b.__v.__b-x.__v.__b});g=lo.shift();)g.__d&&(v=lo.length,c=void 0,i=void 0,f=(s=(u=g).__v).__e,(y=u.__P)&&(c=[],(i=Un({},s)).__v=s.__v+1,xb(y,s,i,u.__n,y.ownerSVGElement!==void 0,s.__h!=null?[f]:null,c,f==null?_i(s):f,s.__h),qR(c,s),s.__e!=f&&gb(s)),lo.length>v&&lo.sort(function(b,x){return b.__v.__b-x.__v.__b}));Qs.__r=0}function mb(g,v,u,c,i,s,f,y,b,x){var E,P,M,A,D,C,B,z=c&&c.__k||vb,X=z.length;for(u.__k=[],E=0;E<v.length;E++)if((A=u.__k[E]=(A=v[E])==null||typeof A=="boolean"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?Ys(null,A,null,null,A):Array.isArray(A)?Ys(vd,{children:A},null,null,null):A.__b>0?Ys(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A)!=null){if(A.__=u,A.__b=u.__b+1,(M=z[E])===null||M&&A.key==M.key&&A.type===M.type)z[E]=void 0;else for(P=0;P<X;P++){if((M=z[P])&&A.key==M.key&&A.type===M.type){z[P]=void 0;break}M=null}xb(g,A,M=M||hb,i,s,f,y,b,x),D=A.__e,(P=A.ref)&&M.ref!=P&&(B||(B=[]),M.ref&&B.push(M.ref,null,A),B.push(P,A.__c||D,A)),D!=null?(C==null&&(C=D),typeof A.type=="function"&&A.__k===M.__k?A.__d=b=bb(A,b,g):b=Ob(g,A,M,z,D,b),typeof u.type=="function"&&(u.__d=b)):b&&M.__e==b&&b.parentNode!=g&&(b=_i(M))}for(u.__e=C,E=X;E--;)z[E]!=null&&(typeof u.type=="function"&&z[E].__e!=null&&z[E].__e==u.__d&&(u.__d=Eb(c).nextSibling),Pb(z[E],z[E]));if(B)for(E=0;E<B.length;E++)Sb(B[E],B[++E],B[++E])}function bb(g,v,u){for(var c,i=g.__k,s=0;i&&s<i.length;s++)(c=i[s])&&(c.__=g,v=typeof c.type=="function"?bb(c,v,u):Ob(u,c,c,i,c.__e,v));return v}function Ob(g,v,u,c,i,s){var f,y,b;if(v.__d!==void 0)f=v.__d,v.__d=void 0;else if(u==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==g)g.appendChild(i),f=null;else{for(y=s,b=0;(y=y.nextSibling)&&b<c.length;b+=1)if(y==i)break e;g.insertBefore(i,s),f=s}return f!==void 0?f:i.nextSibling}function Eb(g){var v,u,c;if(g.type==null||typeof g.type=="string")return g.__e;if(g.__k){for(v=g.__k.length-1;v>=0;v--)if((u=g.__k[v])&&(c=Eb(u)))return c}return null}function xb(g,v,u,c,i,s,f,y,b){var x,E,P,M,A,D,C,B,z,X,$,ie,oe,ee,J,ue=v.type;if(v.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,y=v.__e=u.__e,v.__h=null,s=[y]),(x=Ft.__b)&&x(v);try{e:if(typeof ue=="function"){if(B=v.props,z=(x=ue.contextType)&&c[x.__c],X=x?z?z.props.value:x.__:c,u.__c?C=(E=v.__c=u.__c).__=E.__E:("prototype"in ue&&ue.prototype.render?v.__c=E=new ue(B,X):(v.__c=E=new Jo(B,X),E.constructor=ue,E.render=tI),z&&z.sub(E),E.props=B,E.state||(E.state={}),E.context=X,E.__n=c,P=E.__d=!0,E.__h=[],E._sb=[]),E.__s==null&&(E.__s=E.state),ue.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=Un({},E.__s)),Un(E.__s,ue.getDerivedStateFromProps(B,E.__s))),M=E.props,A=E.state,E.__v=v,P)ue.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(ue.getDerivedStateFromProps==null&&B!==M&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(B,X),!E.__e&&E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(B,E.__s,X)===!1||v.__v===u.__v){for(v.__v!==u.__v&&(E.props=B,E.state=E.__s,E.__d=!1),v.__e=u.__e,v.__k=u.__k,v.__k.forEach(function(L){L&&(L.__=v)}),$=0;$<E._sb.length;$++)E.__h.push(E._sb[$]);E._sb=[],E.__h.length&&f.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(B,E.__s,X),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(M,A,D)})}if(E.context=X,E.props=B,E.__P=g,ie=Ft.__r,oe=0,"prototype"in ue&&ue.prototype.render){for(E.state=E.__s,E.__d=!1,ie&&ie(v),x=E.render(E.props,E.state,E.context),ee=0;ee<E._sb.length;ee++)E.__h.push(E._sb[ee]);E._sb=[]}else do E.__d=!1,ie&&ie(v),x=E.render(E.props,E.state,E.context),E.state=E.__s;while(E.__d&&++oe<25);E.state=E.__s,E.getChildContext!=null&&(c=Un(Un({},c),E.getChildContext())),P||E.getSnapshotBeforeUpdate==null||(D=E.getSnapshotBeforeUpdate(M,A)),J=x!=null&&x.type===vd&&x.key==null?x.props.children:x,mb(g,Array.isArray(J)?J:[J],v,u,c,i,s,f,y,b),E.base=v.__e,v.__h=null,E.__h.length&&f.push(E),C&&(E.__E=E.__=null),E.__e=!1}else s==null&&v.__v===u.__v?(v.__k=u.__k,v.__e=u.__e):v.__e=eI(u.__e,v,u,c,i,s,f,b);(x=Ft.diffed)&&x(v)}catch(L){v.__v=null,(b||s!=null)&&(v.__e=y,v.__h=!!b,s[s.indexOf(y)]=null),Ft.__e(L,v,u)}}function qR(g,v){Ft.__c&&Ft.__c(v,g),g.some(function(u){try{g=u.__h,u.__h=[],g.some(function(c){c.call(u)})}catch(c){Ft.__e(c,u.__v)}})}function eI(g,v,u,c,i,s,f,y){var b,x,E,P=u.props,M=v.props,A=v.type,D=0;if(A==="svg"&&(i=!0),s!=null){for(;D<s.length;D++)if((b=s[D])&&"setAttribute"in b==!!A&&(A?b.localName===A:b.nodeType===3)){g=b,s[D]=null;break}}if(g==null){if(A===null)return document.createTextNode(M);g=i?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,M.is&&M),s=null,y=!1}if(A===null)P===M||y&&g.data===M||(g.data=M);else{if(s=s&&hd.call(g.childNodes),x=(P=u.props||hb).dangerouslySetInnerHTML,E=M.dangerouslySetInnerHTML,!y){if(s!=null)for(P={},D=0;D<g.attributes.length;D++)P[g.attributes[D].name]=g.attributes[D].value;(E||x)&&(E&&(x&&E.__html==x.__html||E.__html===g.innerHTML)||(g.innerHTML=E&&E.__html||""))}if(JR(g,M,P,i,y),E)v.__k=[];else if(D=v.props.children,mb(g,Array.isArray(D)?D:[D],v,u,c,i&&A!=="foreignObject",s,f,s?s[0]:u.__k&&_i(u,0),y),s!=null)for(D=s.length;D--;)s[D]!=null&&yb(s[D]);y||("value"in M&&(D=M.value)!==void 0&&(D!==g.value||A==="progress"&&!D||A==="option"&&D!==P.value)&&Js(g,"value",D,P.value,!1),"checked"in M&&(D=M.checked)!==void 0&&D!==g.checked&&Js(g,"checked",D,P.checked,!1))}return g}function Sb(g,v,u){try{typeof g=="function"?g(v):g.current=v}catch(c){Ft.__e(c,u)}}function Pb(g,v,u){var c,i;if(Ft.unmount&&Ft.unmount(g),(c=g.ref)&&(c.current&&c.current!==g.__e||Sb(c,null,v)),(c=g.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(s){Ft.__e(s,v)}c.base=c.__P=null,g.__c=void 0}if(c=g.__k)for(i=0;i<c.length;i++)c[i]&&Pb(c[i],v,u||typeof g.type!="function");u||g.__e==null||yb(g.__e),g.__=g.__e=g.__d=void 0}function tI(g,v,u){return this.constructor(g,u)}hd=vb.slice,Ft={__e:function(g,v,u,c){for(var i,s,f;v=v.__;)if((i=v.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(g)),f=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(g,c||{}),f=i.__d),f)return i.__E=i}catch(y){g=y}throw g}},db=0,Qo=!1,Jo.prototype.setState=function(g,v){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Un({},this.state),typeof g=="function"&&(g=g(Un({},u),this.props)),g&&Un(u,g),g!=null&&this.__v&&(v&&this._sb.push(v),Ym(this))},Jo.prototype.forceUpdate=function(g){this.__v&&(this.__e=!0,g&&this.__h.push(g),Ym(this))},Jo.prototype.render=vd,lo=[],pb=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qs.__r=0;var Ii=globalThis&&globalThis.__assign||function(){return Ii=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Ii.apply(this,arguments)};function yd(g){var v=g.x,u=g.y,c=g.width,i=g.height,s=g.radius,f=g.className,y=v-c/2,b=u-i/2,x=Ii(Ii({width:10,height:10,cx:0,cy:0,rx:s||0,ry:s||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},g),{x:y,y:b});return We.exports.h("rect",Ii({},x))}yd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Zo;(function(g){g.NODE="node",g.CIRCLE_NODE="circle-node",g.POLYGON_NODE="polygon-node",g.RECT_NODE="rect-node",g.HTML_NODE="html-node",g.TEXT_NODE="text-node",g.ELLIPSE_NODE="ellipse-node",g.DIAMOND_NODE="diamond-node",g.EDGE="edge",g.LINE_EDGE="line-edge",g.POLYLINE_EDGE="polyline-edge",g.BEZIER_EDGE="bezier-edge",g.GRAPH="graph"})(Zo||(Zo={}));function Ws(g){var v=g.x,u=g.y,c=g.width,i=g.height;return{minX:v-c/2,minY:u-i/2,maxX:v+c/2,maxY:u+i/2}}function Wm(g){var v=Ws(g),u=g.radius,c=v.minX,i=v.minY,s=v.maxX,f=v.maxY;return[{x:c+u,y:i+u},{x:s-u,y:i+u},{x:s-u,y:f-u},{x:c+u,y:f-u}]}function Km(g){var v=g.point,u=g.beforeNode,c=g.afterNode,i=v.x,s=v.y,f={x:i,y:s},y=u.radius,b=Ws(u),x=Ws(c);if(i===b.minX){f.x=x.minX;var E=(s-u.y)/(u.height/2-y);E?f.y=c.y+(c.height/2-y)*E:f.y=c.y}else if(i===b.maxX){f.x=x.maxX;var E=(s-u.y)/(u.height/2-y);E?f.y=c.y+(c.height/2-y)*E:f.y=c.y}else if(s===b.minY){f.y=x.minY;var E=(i-u.x)/(u.width/2-y);E?f.x=c.x+(c.width/2-y)*E:f.x=c.x}else if(s===b.maxY){f.y=x.maxY;var E=(i-u.x)/(u.width/2-y);E?f.x=c.x+(c.width/2-y)*E:f.x=c.x}else{var P=Wm(u),M=Wm(c),A=Ws(u),D=A.minX,C=A.minY,B=A.maxX,z=A.maxY,X=-1;if(i-D<y&&s-C<y?X=0:B-i<y&&s-C<y?X=1:B-i<y&&z-s<y?X=2:i-D<y&&C-s<y&&(X=3),X>-1){var $=Math.atan2(s-P[X].y,i-P[X].x);f.x=M[X].x+y*Math.cos($),f.y=M[X].y+y*Math.sin($)}}return f}function Vm(g){var v=g.point,u=g.beforeNode,c=g.afterNode,i=c.rx,s=c.ry,f=v,y=(v.y-u.y)/(v.x-u.x),b=i,x=s,E,P;return y>=1/0?(E=0,P=x):y<=-1/0?(E=0,P=-x):v.x-u.x>0?(E=b*x/Math.sqrt(x*x+b*b*y*y),P=b*x*y/Math.sqrt(x*x+b*b*y*y)):(E=-(b*x)/Math.sqrt(x*x+b*b*y*y),P=-(b*x*y)/Math.sqrt(x*x+b*b*y*y)),f={x:E+c.x,y:P+c.y},f}function Zm(g){var v=g.point,u=g.beforeNode,c=g.afterNode,i=v,s,f,y=v.x-u.x,b=v.y-u.y,x=u.rx,E=u.ry,P=Math.sqrt((x-Math.abs(y))*(x-Math.abs(y))+b*b)/Math.sqrt(x*x+E*E),M=c.rx,A=c.ry,D=Math.sqrt((M*M+A*A)*P*P*(M*M/(M*M+A*A))),C=D*(A/M);return y>=0?s=M-D:s=D-M,b>0?f=C:f=-C,i={x:s+c.x,y:f+c.y},i}var rI=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),fo=globalThis&&globalThis.__assign||function(){return fo=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},fo.apply(this,arguments)},nI=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},oI=We.exports.LogicFlowUtil.StepDrag,iI=function(g){rI(v,g);function v(u){var c=g.call(this)||this;return c.updatePosition=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.x,x=y.y;c.nodeModel.x=b+s/2,c.nodeModel.y=x+f/2,c.nodeModel.moveText(s/2,f/2)},c.getResize=function(i){var s=i.index,f=i.deltaX,y=i.deltaY,b=i.width,x=i.height,E=i.PCTResizeInfo,P=i.pct,M=P===void 0?1:P,A={width:b,height:x,deltaX:f,deltaY:y};if(E){var D=4,C=0,B=0;switch(s){case 0:B=(f*-1-y)/D;break;case 1:B=(f-y)/D;break;case 2:B=(f+y)/D;break;case 3:B=(f*-1+y)/D;break}B!==0&&(C=Math.round(B/E.ResizeBasis.basisHeight*1e5)/1e3),E.ResizePCT.widthPCT=Math.max(Math.min(E.ResizePCT.widthPCT+C,E.ScaleLimit.maxScaleLimit),E.ScaleLimit.minScaleLimit),E.ResizePCT.hightPCT=Math.max(Math.min(E.ResizePCT.hightPCT+C,E.ScaleLimit.maxScaleLimit),E.ScaleLimit.minScaleLimit);var z=Math.round(E.ResizePCT.widthPCT*E.ResizeBasis.basisWidth/100),X=Math.round(E.ResizePCT.hightPCT*E.ResizeBasis.basisHeight/100);switch(s){case 0:f=b-z,y=x-X;break;case 1:f=z-b,y=x-X;break;case 2:f=z-b,y=X-x;break;case 3:f=b-z,y=X-x;break}return A.width=z,A.height=X,A.deltaX=f/M,A.deltaY=y/M,A}switch(s){case 0:A.width=b-f*M,A.height=x-y*M;break;case 1:A.width=b+f*M,A.height=x-y*M;break;case 2:A.width=b+f*M,A.height=x+y*M;break;case 3:A.width=b-f*M,A.height=x+y*M;break}return A},c.updateRect=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,x=y.x,E=y.y,P=y.width,M=y.height,A=y.radius,D=y.PCTResizeInfo,C=c.index,B=c.getResize({index:C,deltaX:s,deltaY:f,width:P,height:M,PCTResizeInfo:D,pct:1}),z=c.nodeModel,X=z.minWidth,$=z.minHeight,ie=z.maxWidth,oe=z.maxHeight;if(B.width<X||B.width>ie||B.height<$||B.height>oe){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:B.deltaX,deltaY:B.deltaY}),c.nodeModel.width=B.width,c.nodeModel.height=B.height,c.nodeModel.setProperties({nodeSize:{width:B.width,height:B.height}});var ee=c.getNodeEdges(b),J={x,y:E,width:P,height:M,radius:A},ue={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:A},L={point:"",beforeNode:J,afterNode:ue},U;ee.sourceEdges.forEach(function(I){L.point=I.startPoint,U=Km(L),I.updateStartPoint(U)}),ee.targetEdges.forEach(function(I){L.point=I.endPoint,U=Km(L),I.updateEndPoint(U)}),c.eventEmit({beforeNode:J,afterNode:ue})},c.updateEllipse=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,E=y.ry,P=y.x,M=y.y,A=y.PCTResizeInfo,D=c.index,C=x,B=E,z=c.getResize({index:D,deltaX:s,deltaY:f,width:C,height:B,PCTResizeInfo:A,pct:1/2}),X=c.nodeModel,$=X.minWidth,ie=X.minHeight,oe=X.maxWidth,ee=X.maxHeight;if(z.width<$/2||z.width>oe/2||z.height<ie/2||z.height>ee/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var J=c.getNodeEdges(b),ue={x:P,y:M},L={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},U={point:{},beforeNode:ue,afterNode:L},I;J.sourceEdges.forEach(function(w){U.point=w.startPoint,I=Vm(U),w.updateStartPoint(I)}),J.targetEdges.forEach(function(w){U.point=w.endPoint,I=Vm(U),w.updateEndPoint(I)}),c.eventEmit({beforeNode:fo(fo({},ue),{rx:x,ry:E}),afterNode:L})},c.updateDiamond=function(i){var s=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,E=y.ry,P=y.x,M=y.y,A=y.PCTResizeInfo,D=c.index,C=x,B=E,z=c.getResize({index:D,deltaX:s,deltaY:f,width:C,height:B,PCTResizeInfo:A,pct:1/2}),X=c.nodeModel,$=X.minWidth,ie=X.minHeight,oe=X.maxWidth,ee=X.maxHeight;if(z.width<$/2||z.width>oe/2||z.height<ie/2||z.height>ee/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var J={x:P,y:M,rx:x,ry:E},ue={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},L={point:{},beforeNode:J,afterNode:ue},U,I=c.getNodeEdges(b);I.sourceEdges.forEach(function(w){L.point=w.startPoint,U=Zm(L),w.updateStartPoint(U)}),I.targetEdges.forEach(function(w){L.point=w.endPoint,U=Zm(L),w.updateEndPoint(U)}),c.eventEmit({beforeNode:J,afterNode:ue})},c.eventEmit=function(i){var s=i.beforeNode,f=i.afterNode,y=c.nodeModel,b=y.id,x=y.modelType,E=y.type,P=fo({id:b,modelType:x,type:E},s),M=fo({id:b,modelType:x,type:E},f);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:M})},c.onDraging=function(i){var s,f=i.deltaX,y=i.deltaY,b=c.graphModel.transformModel,x=c.nodeModel.modelType;s=nI(b.fixDeltaXY(f,y),2),f=s[0],y=s[1],x===Zo.RECT_NODE||x===Zo.HTML_NODE?c.updateRect({deltaX:f,deltaY:y}):x===Zo.ELLIPSE_NODE?c.updateEllipse({deltaX:f,deltaY:y}):x===Zo.DIAMOND_NODE&&c.updateDiamond({deltaX:f,deltaY:y})},c.onDragEnd=function(){var i=c.graphModel.gridSize,s=i===void 0?1:i,f=s*Math.round(c.nodeModel.x/s),y=s*Math.round(c.nodeModel.y/s);c.nodeModel.moveTo(f,y)},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new oI({onDraging:c.onDraging,onDragEnd:c.onDragEnd,step:1}),c}return v.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,s=[],f=[],y=0;y<i.length;y++){var b=i[y];b.sourceNodeId===u?s.push(b):i[y].targetNodeId===u&&f.push(b)}return{sourceEdges:s,targetEdges:f}},v.prototype.render=function(){var u=this.props,c=u.x,i=u.y,s=u.index,f=u.model,y=f.getControlPointStyle();return Ri("g",{className:"lf-resize-control-"+s},Ri(yd,fo({className:"lf-node-control"},{x:c,y:i},y,{onMouseDown:this.dragHandler.handleMouseDown})))},v}(Jo),aI=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),qs=globalThis&&globalThis.__assign||function(){return qs=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},qs.apply(this,arguments)},rl=function(g){aI(v,g);function v(){var u=g.call(this)||this;return u.state={},u}return v.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,s=c.x,f=c.y,y=c.width,b=c.height,x={minX:s-y/2,minY:f-b/2,maxX:s+y/2,maxY:f+b/2},E=x.minX,P=x.minY,M=x.maxX,A=x.maxY,D=[{x:E,y:P},{x:M,y:P},{x:M,y:A},{x:E,y:A}];return D.map(function(C,B){return Ri(iI,qs({index:B},C,{model:c,graphModel:i}))})},v.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,y=u.getResizeOutlineStyle();return Ri(yd,qs({fill:"none"},y,{x:c,y:i,width:s,height:f}))},v.prototype.render=function(){return Ri("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},v}(Jo),Ab=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),uI=function(g){Ab(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.resize=function(u,c){},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v}(We.exports.RectNodeModel),sI=function(g){Ab(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(rl,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v}(We.exports.RectNode),Tb={type:"rect",view:sI,model:uI},Mb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(g){Mb(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(We.exports.EllipseNodeModel);(function(g){Mb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(rl,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c.isSelected&&!i?this.getControlGroup():"")},v})(We.exports.EllipseNode);var ld=globalThis&&globalThis.__assign||function(){return ld=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},ld.apply(this,arguments)};function lI(g){var v=g.fillOpacity,u=v===void 0?1:v,c=g.strokeWidth,i=c===void 0?1:c,s=g.strokeOpacity,f=s===void 0?1:s,y=g.fill,b=y===void 0?"transparent":y,x=g.stroke,E=x===void 0?"#000":x,P=g.points,M=g.className,A=M===void 0?"lf-basic-shape":M,D={fill:b,fillOpacity:u,strokeWidth:i,stroke:E,strokeOpacity:f,points:"",className:A};return D.points=P.map(function(C){return C.join(",")}).join(" "),We.exports.h("polygon",ld({},D))}var wb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),fd=globalThis&&globalThis.__assign||function(){return fd=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},fd.apply(this,arguments)};(function(g){wb(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(We.exports.DiamondNodeModel);(function(g){wb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(rl,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return We.exports.h("g",null,We.exports.h(lI,fd({},i,{points:c})))},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(We.exports.DiamondNode);var Nb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(g){Nb(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(We.exports.HtmlNodeModel);(function(g){Nb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(rl,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(We.exports.HtmlNode);var Db=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),el=globalThis&&globalThis.__assign||function(){return el=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},el.apply(this,arguments)},fI=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},Jm=globalThis&&globalThis.__spread||function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat(fI(arguments[v]));return g},Qm=500,qm=300,cI=-1e4;(function(g){Db(v,g);function v(){var u=g!==null&&g.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Qm,u.unfoldedHight=qm,u}return v.prototype.initNodeData=function(u){var c=this;g.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=Qm,this.height=qm,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=cI,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},v.prototype.getResizeOutlineStyle=function(){var u=g.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},v.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(s){var f=c.graphModel.getElement(s);f.visible=!u,i=i.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(u,i)},v.prototype.getAnchorStyle=function(u){var c=g.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},v.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(s,f){var y=s.id,b=s.sourceNodeId,x=s.targetNodeId,E=s.startPoint,P=s.endPoint,M=s.type,A=s.properties,D=s.text,C={id:y+"__"+f,sourceNodeId:b,targetNodeId:x,startPoint:E,endPoint:P,type:M,properties:A,text:D==null?void 0:D.value};s.virtual&&i.graphModel.deleteEdgeById(s.id);var B=i.graphModel.group.getNodeGroup(x);B||(B=i.graphModel.getNodeModelById(x));var z=i.graphModel.group.getNodeGroup(b);z||(z=i.graphModel.getNodeModelById(b)),u&&s.visible!==!1&&(i.children.has(b)||i.id===b?(C.startPoint=void 0,C.sourceNodeId=i.id):(C.endPoint=void 0,C.targetNodeId=i.id),(B.id!==i.id||z.id!==i.id)&&i.createVirtualEdge(C),s.visible=!1),!u&&s.visible===!1&&(B&&B.isGroup&&B.isFolded?(C.targetNodeId=B.id,C.endPoint=void 0,i.createVirtualEdge(C)):z&&z.isGroup&&z.isFolded?(C.sourceNodeId=z.id,C.startPoint=void 0,i.createVirtualEdge(C)):s.visible=!0)})},v.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},v.prototype.isInRange=function(u){var c=u.x1,i=u.y1,s=u.x2,f=u.y2;return c>=this.x-this.width/2&&s<=this.x+this.width/2&&i>=this.y-this.height/2&&f<=this.y+this.height/2},v.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,s=u.x2,f=u.y2;return{x:c>=this.x-this.width/2&&s<=this.x+this.width/2,y:i>=this.y-this.height/2&&f<=this.y+this.height/2}},v.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},v.prototype.addChild=function(u){this.children.add(u)},v.prototype.removeChild=function(u){this.children.delete(u)},v.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},v.prototype.getData=function(){var u=g.prototype.getData.call(this);u.children=Jm(this.children);var c=u.properties;return delete c.groupAddable,delete c.isFolded,u},v.prototype.getHistoryData=function(){var u=g.prototype.getData.call(this);u.children=Jm(this.children),u.isGroup=!0;var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},v.prototype.isAllowAppendIn=function(u){return!0},v.prototype.toBack=function(){this.zIndex--},v})(Tb.model);(function(g){Db(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?g.prototype.getControlGroup.call(this):null},v.prototype.getAddableShape=function(){var u=this.props.model,c=u.width,i=u.height,s=u.x,f=u.y,y=u.radius,b=u.properties;if(!b.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,E=this.props.model.getAddableOutlineStyle(),P=c+x+8,M=i+x+8;return We.exports.h("rect",el(el({},E),{width:P,height:M,x:s-P/2,y:f-M/2,rx:y,ry:y}))},v.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var s=We.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return We.exports.h("g",{},[We.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),s])},v.prototype.getResizeShape=function(){return We.exports.h("g",{},[this.getAddableShape(),g.prototype.getResizeShape.call(this),this.getFoldIcon()])},v})(Tb.view);var dI=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var eb=globalThis&&globalThis.__assign||function(){return eb=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},eb.apply(this,arguments)},tb=globalThis&&globalThis.__assign||function(){return tb=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},tb.apply(this,arguments)},pI=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;const hI={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function vI(g){const{incoming:v,outgoing:u,properties:c,key:i}=g,{text:s,startPoint:f,endPoint:y,pointsList:b,logicFlowType:x}=c,E={id:i,type:x,sourceNodeId:v[0],targetNodeId:u[0],text:s,startPoint:f,endPoint:y,pointsList:b,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(g.properties).forEach(M=>{P.indexOf(M)===-1&&(E.properties[M]=g.properties[M])}),E}function yI(g){const{properties:v,key:u}=g,{x:c,y:i,text:s,logicFlowType:f}=v,y={id:u,type:f,x:c,y:i,text:s,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(g.properties).forEach(x=>{b.indexOf(x)===-1&&(y.properties[x]=g.properties[x])}),y}function gI(g){const v={nodes:[],edges:[]},u=g.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===hI.SEQUENCE_FLOW){const i=vI(c);v.edges.push(i)}else{const i=yI(c);v.nodes.push(i)}}),v}function mI(g){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{g.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const bI=rb({name:"FlowChart",components:{BasicModal:nR,FlowChartToolbar:dR,JsonPreview:iR},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(g){const v=Xs(null),u=Xs({}),c=Xs(null),{prefixCls:i}=JC("flow-chart"),s=QC(),[f,{openModal:y}]=oR();uR({logicFlow:c});const b=qC(()=>{const{flowOptions:M}=g;return od({grid:!0,background:{color:s.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},M)});Dm(()=>g.data,()=>{E()}),Dm(()=>lr(b),M=>{var A;(A=lr(c))==null||A.updateEditConfig(M)});function x(){return ks(this,null,function*(){yield id();const M=lr(v);if(!M)return;Ko.use(KR),Ko.use(_R),Ko.use(BR),Ko.use(WR),Ko.use(VR),c.value=new Ko(wm(od({},lr(b)),{container:M}));const A=lr(c);A==null||A.setDefaultEdgeType("line"),E(),A==null||A.setPatternItems(g.patternItems||mI(A))})}function E(){return ks(this,null,function*(){yield id();const M=lr(c);if(!M)return;const A=gI(g.data);M.render(A)})}function P(){const M=lr(c);!M||(u.value=lr(M).getGraphData(),y())}return eR(x),{register:f,prefixCls:i,lfElRef:v,handlePreview:P,graphData:u}}}),OI={ref:"lfElRef",class:"h-full"};function EI(g,v,u,c,i,s){const f=kn("FlowChartToolbar"),y=kn("JsonPreview"),b=kn("BasicModal");return Hn(),ji("div",{class:$s(["h-full",g.prefixCls])},[g.toolbar?(Hn(),dd(f,{key:0,prefixCls:g.prefixCls,onViewData:g.handlePreview},null,8,["prefixCls","onViewData"])):ad("",!0),tR("div",OI,null,512),Bi(b,{onRegister:g.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:Ks(()=>[Bi(y,{data:g.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var xI=cd(bI,[["render",EI]]);const SI=rR(xI),PI=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var AI={flowElementList:PI};const TI={components:{FlowChart:SI,PageWrapper:aR},setup(){return{demoData:AI}}};function MI(g,v,u,c,i,s){const f=kn("FlowChart"),y=kn("PageWrapper");return Hn(),dd(y,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:Ks(()=>[Bi(f,{data:c.demoData},null,8,["data"])]),_:1})}var FI=cd(TI,[["render",MI]]);export{FI as default};
